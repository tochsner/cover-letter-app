(self.webpackChunkcover_letter_generator=self.webpackChunkcover_letter_generator||[]).push([[179],{619:(X,V,P)=>{"use strict";function A(n){return"function"==typeof n}function q(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const C=q(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function S(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class M{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(A(r))try{r()}catch(s){e=s instanceof C?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{m(s)}catch(o){e=e??[],o instanceof C?e=[...e,...o.errors]:e.push(o)}}if(e)throw new C(e)}}add(e){var t;if(e&&e!==this)if(this.closed)m(e);else{if(e instanceof M){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&S(t,e)}remove(e){const{_finalizers:t}=this;t&&S(t,e),e instanceof M&&e._removeParent(this)}}M.EMPTY=(()=>{const n=new M;return n.closed=!0,n})();const D=M.EMPTY;function v(n){return n instanceof M||n&&"closed"in n&&A(n.remove)&&A(n.add)&&A(n.unsubscribe)}function m(n){A(n)?n():n.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout(n,e,...t){const{delegate:r}=b;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=b;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _(n){b.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw n;e(n)})}function E(){}const B=xe("C",void 0,void 0);function xe(n,e,t){return{kind:n,value:e,error:t}}let tt=null;function kn(n){if(w.useDeprecatedSynchronousErrorHandling){const e=!tt;if(e&&(tt={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=tt;if(tt=null,t)throw r}}else n()}class Di extends M{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,v(e)&&e.add(this)):this.destination=Ir}static create(e,t,r){return new ri(e,t,r)}next(e){this.isStopped?rt(function oe(n){return xe("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?rt(function ee(n){return xe("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rt(B,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const he=Function.prototype.bind;function rn(n,e){return he.call(n,e)}class Ll{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){W(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){W(r)}else W(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){W(t)}}}class ri extends Di{constructor(e,t,r){let i;if(super(),A(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rn(e.next,s),error:e.error&&rn(e.error,s),complete:e.complete&&rn(e.complete,s)}):i=e}this.destination=new Ll(i)}}function W(n){w.useDeprecatedSynchronousErrorHandling?function Hr(n){w.useDeprecatedSynchronousErrorHandling&&tt&&(tt.errorThrown=!0,tt.error=n)}(n):_(n)}function rt(n,e){const{onStoppedNotification:t}=w;t&&b.setTimeout(()=>t(n,e))}const Ir={closed:!0,next:E,error:function sn(n){throw n},complete:E},it="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wt(n){return n}function wA(n){return 0===n.length?Wt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let wt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function CH(n){return n&&n instanceof Di||function IH(n){return n&&A(n.next)&&A(n.error)&&A(n.complete)}(n)&&v(n)}(t)?t:new ri(t,r,i);return kn(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=bA(r))((i,s)=>{const o=new ri({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[it](){return this}pipe(...t){return wA(t)(this)}toPromise(t){return new(t=bA(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function bA(n){var e;return null!==(e=n??w.Promise)&&void 0!==e?e:Promise}const DH=q(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ti=(()=>{class n extends wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new EA(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new DH}next(t){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?D:(this.currentObservers=null,s.push(t),new M(()=>{this.currentObservers=null,S(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new wt;return t.source=this,t}}return n.create=(e,t)=>new EA(e,t),n})();class EA extends Ti{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:D}}function IA(n){return A(n?.lift)}function on(n){return e=>{if(IA(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kt(n,e,t,r,i){return new TH(n,e,t,r,i)}class TH extends Di{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function je(n,e){return on((t,r)=>{let i=0;t.subscribe(Kt(r,s=>{r.next(n.call(e,s,i++))}))})}function gy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function So(n){return this instanceof So?(this.v=n,this):new So(n)}function xH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof So?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function MH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function TA(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const SA=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function AA(n){return A(n?.then)}function xA(n){return A(n[it])}function MA(n){return Symbol.asyncIterator&&A(n?.[Symbol.asyncIterator])}function kA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RA=function RH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function OA(n){return A(n?.[RA])}function NA(n){return xH(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield So(t.read());if(i)return yield So(void 0);yield yield So(r)}}finally{t.releaseLock()}})}function PA(n){return A(n?.getReader)}function ii(n){if(n instanceof wt)return n;if(null!=n){if(xA(n))return function OH(n){return new wt(e=>{const t=n[it]();if(A(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(SA(n))return function NH(n){return new wt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(AA(n))return function PH(n){return new wt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_)})}(n);if(MA(n))return FA(n);if(OA(n))return function FH(n){return new wt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(PA(n))return function LH(n){return FA(NA(n))}(n)}throw kA(n)}function FA(n){return new wt(e=>{(function VH(n,e){var t,r,i,s;return function SH(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=MH(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Zi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function vn(n,e,t=1/0){return A(e)?vn((r,i)=>je((s,o)=>e(r,s,i,o))(ii(n(r,i))),t):("number"==typeof e&&(t=e),on((r,i)=>function UH(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let I=!1;ii(t(g,c++)).subscribe(Kt(e,x=>{i?.(x),s?f(x):e.next(x)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;u.length&&l<r;){const x=u.shift();o?Zi(e,o,()=>p(x)):p(x)}h()}catch(x){e.error(x)}}))};return n.subscribe(Kt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ha(n=1/0){return vn(Wt,n)}const es=new wt(n=>n.complete());function my(n){return n[n.length-1]}function Ul(n){return function jH(n){return n&&A(n.schedule)}(my(n))?n.pop():void 0}function Th(n,e=0){return on((t,r)=>{t.subscribe(Kt(r,i=>Zi(r,n,()=>r.next(i),e),()=>Zi(r,n,()=>r.complete(),e),i=>Zi(r,n,()=>r.error(i),e)))})}function Sh(n,e=0){return on((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function VA(n,e){if(!n)throw new Error("Iterable cannot be null");return new wt(t=>{Zi(t,e,()=>{const r=n[Symbol.asyncIterator]();Zi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Vt(n,e){return e?function KH(n,e){if(null!=n){if(xA(n))return function HH(n,e){return ii(n).pipe(Sh(e),Th(e))}(n,e);if(SA(n))return function qH(n,e){return new wt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(AA(n))return function GH(n,e){return ii(n).pipe(Sh(e),Th(e))}(n,e);if(MA(n))return VA(n,e);if(OA(n))return function zH(n,e){return new wt(t=>{let r;return Zi(t,e,()=>{r=n[RA](),Zi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}(n,e);if(PA(n))return function WH(n,e){return VA(NA(n),e)}(n,e)}throw kA(n)}(n,e):ii(n)}function yy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ri({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function st(n){for(let e in n)if(n[e]===st)return e;throw Error("Could not find renamed property on target object.")}function ot(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ot).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const JH=st({__forward_ref__:st});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return ot(this())},n}function we(n){return function wy(n){return"function"==typeof n&&n.hasOwnProperty(JH)&&n.__forward_ref__===lt}(n)?n():n}class F extends Error{constructor(e,t){super(function Ah(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Se(n){return"string"==typeof n?n:null==n?"":String(n)}function xh(n,e){throw new F(-201,!1)}function Dr(n,e){null==n&&function Ye(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ge(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mh(n){return UA(n,kh)||UA(n,jA)}function UA(n,e){return n.hasOwnProperty(e)?n[e]:null}function BA(n){return n&&(n.hasOwnProperty(by)||n.hasOwnProperty(oG))?n[by]:null}const kh=st({\u0275prov:st}),by=st({\u0275inj:st}),jA=st({ngInjectableDef:st}),oG=st({ngInjectorDef:st});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let Ey;function Gr(n){const e=Ey;return Ey=n,e}function $A(n,e,t){const r=Mh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&me.Optional?null:void 0!==e?e:void xh(ot(n))}function Vs(n){return{toString:n}.toString()}var si=(()=>((si=si||{})[si.OnPush=0]="OnPush",si[si.Default=1]="Default",si))(),oi=(()=>{return(n=oi||(oi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",oi;var n})();const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ga={},Qe=[],Rh=st({\u0275cmp:st}),Iy=st({\u0275dir:st}),Cy=st({\u0275pipe:st}),HA=st({\u0275mod:st}),ns=st({\u0275fac:st}),Bl=st({__NG_ELEMENT_ID__:st});let uG=0;function Tr(n){return Vs(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===si.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Qe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||oi.Emulated,id:"c"+uG++,styles:n.styles||Qe,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=zA(n.inputs,r),i.outputs=zA(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(GA).filter(qA):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Qn).filter(qA):null,i})}function GA(n){return Xe(n)||Kn(n)}function qA(n){return null!==n}function Wn(n){return Vs(()=>({type:n.type,bootstrap:n.bootstrap||Qe,declarations:n.declarations||Qe,imports:n.imports||Qe,exports:n.exports||Qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zA(n,e){if(null==n)return Ga;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const be=Tr;function Xe(n){return n[Rh]||null}function Kn(n){return n[Iy]||null}function Qn(n){return n[Cy]||null}function Sr(n,e){const t=n[HA]||null;if(!t&&!0===e)throw new Error(`Type ${ot(n)} does not have '\u0275mod' property.`);return t}function hr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ui(n){return Array.isArray(n)&&!0===n[1]}function Sy(n){return 0!=(8&n.flags)}function Fh(n){return 2==(2&n.flags)}function Lh(n){return 1==(1&n.flags)}function li(n){return null!==n.template}function pG(n){return 0!=(256&n[2])}function Ro(n,e){return n.hasOwnProperty(ns)?n[ns]:null}class yG{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zr(){return QA}function QA(n){return n.type.prototype.ngOnChanges&&(n.setInput=vG),_G}function _G(){const n=JA(this),e=n?.current;if(e){const t=n.previous;if(t===Ga)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function vG(n,e,t,r){const i=JA(n)||function wG(n,e){return n[YA]=e}(n,{previous:Ga,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new yG(u&&u.currentValue,e,o===Ga),n[r]=e}zr.ngInherit=!0;const YA="__ngSimpleChanges__";function JA(n){return n[YA]||null}function Ut(n){for(;Array.isArray(n);)n=n[0];return n}function Vh(n,e){return Ut(e[n])}function Kr(n,e){return Ut(e[n.index])}function Ry(n,e){return n.data[e]}function xr(n,e){const t=e[n];return hr(t)?t:t[0]}function Uh(n){return 64==(64&n[2])}function Us(n,e){return null==e?null:n[e]}function ZA(n){n[18]=0}function Oy(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Ce={lFrame:ux(null),bindingsEnabled:!0};function tx(){return Ce.bindingsEnabled}function U(){return Ce.lFrame.lView}function $e(){return Ce.lFrame.tView}function Le(n){return Ce.lFrame.contextLView=n,n[8]}function Ve(n){return Ce.lFrame.contextLView=null,n}function Qt(){let n=nx();for(;null!==n&&64===n.type;)n=n.parent;return n}function nx(){return Ce.lFrame.currentTNode}function Si(n,e){const t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function Ny(){return Ce.lFrame.isParent}function Ja(){return Ce.lFrame.bindingIndex++}function NG(n,e){const t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fy(e)}function Fy(n){Ce.lFrame.currentDirectiveIndex=n}function Vy(n){Ce.lFrame.currentQueryIndex=n}function FG(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ox(n,e,t){if(t&me.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&me.Host||(i=FG(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ce.lFrame=ax();return r.currentTNode=e,r.lView=n,!0}function Uy(n){const e=ax(),t=n[1];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ax(){const n=Ce.lFrame,e=null===n?null:n.child;return null===e?ux(n):e}function ux(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function lx(){const n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const cx=lx;function By(){const n=lx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jn(){return Ce.lFrame.selectedIndex}function Bs(n){Ce.lFrame.selectedIndex=n}function Dt(){const n=Ce.lFrame;return Ry(n.tView,n.selectedIndex)}function Ai(){Ce.lFrame.currentNamespace="svg"}function jh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function $h(n,e,t){hx(n,e,3,t)}function Hh(n,e,t,r){(3&n[2])===t&&hx(n,e,t,r)}function jy(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function hx(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(HG(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function HG(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ql{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Gh(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];px(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function fx(n){return 3===n||4===n||6===n}function px(n){return 64===n.charCodeAt(0)}function qh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||gx(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function gx(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function mx(n){return-1!==n}function Xa(n){return 32767&n}function Za(n,e){let t=function KG(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Hy=!0;function zh(n){const e=Hy;return Hy=n,e}let QG=0;const xi={};function Wl(n,e){const t=qy(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Gy(r.data,n),Gy(e,null),Gy(r.blueprint,null));const i=Wh(n,e),s=n.injectorIndex;if(mx(i)){const o=Xa(i),a=Za(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Gy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qy(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Wh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Dx(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Kh(n,e,t){!function YG(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bl)&&(r=t[Bl]),null==r&&(r=t[Bl]=QG++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function vx(n,e,t){if(t&me.Optional)return n;xh()}function wx(n,e,t,r){if(t&me.Optional&&void 0===r&&(r=null),0==(t&(me.Self|me.Host))){const i=n[9],s=Gr(void 0);try{return i?i.get(e,r,t&me.Optional):$A(e,r,t&me.Optional)}finally{Gr(s)}}return vx(r,0,t)}function bx(n,e,t,r=me.Default,i){if(null!==n){if(1024&e[2]){const o=function tq(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=Ex(s,o,t,r|me.Self,xi);if(a!==xi)return a;let u=s.parent;if(!u){const l=o[21];if(l){const c=l.get(t,xi,r);if(c!==xi)return c}u=Dx(o),o=o[15]}s=u}return i}(n,e,t,r,xi);if(o!==xi)return o}const s=Ex(n,e,t,r,xi);if(s!==xi)return s}return wx(e,t,r,i)}function Ex(n,e,t,r,i){const s=function ZG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bl)?n[Bl]:void 0;return"number"==typeof e?e>=0?255&e:eq:e}(t);if("function"==typeof s){if(!ox(e,n,r))return r&me.Host?vx(i,0,r):wx(e,t,r,i);try{const o=s(r);if(null!=o||r&me.Optional)return o;xh()}finally{cx()}}else if("number"==typeof s){let o=null,a=qy(n,e),u=-1,l=r&me.Host?e[16][6]:null;for((-1===a||r&me.SkipSelf)&&(u=-1===a?Wh(n,e):e[a+8],-1!==u&&Cx(r,!1)?(o=e[1],a=Xa(u),e=Za(u,e)):a=-1);-1!==a;){const c=e[1];if(Ix(s,a,c.data)){const d=XG(a,e,t,o,r,l);if(d!==xi)return d}u=e[a+8],-1!==u&&Cx(r,e[1].data[a+8]===l)&&Ix(s,a,e)?(o=c,a=Xa(u),e=Za(u,e)):a=-1}}return i}function XG(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=function Qh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&li(f)&&f.type===t)return u}return null}(a,o,t,null==r?Fh(a)&&Hy:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==c?Kl(e,o,c,a):xi}function Kl(n,e,t,r){let i=n[t];const s=e.data;if(function GG(n){return n instanceof ql}(i)){const o=i;o.resolving&&function XH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new F(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Se(n)}(s[t]));const a=zh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Gr(o.injectImpl):null;ox(n,r,me.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function $G(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=QA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Gr(u),zh(a),o.resolving=!1,cx()}}return i}function Ix(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Cx(n,e){return!(n&me.Self||n&me.Host&&e)}class eu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return bx(this._tNode,this._lView,e,r,t)}}function eq(){return new eu(Qt(),U())}function Dx(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const nu="__parameters__";function iu(n,e,t){return Vs(()=>{const r=function Wy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(nu)?u[nu]:Object.defineProperty(u,nu,{value:[]})[nu];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ue{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ge({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ss(n,e){n.forEach(t=>Array.isArray(t)?ss(t,e):e(t))}function Sx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kr(n,e,t){let r=su(n,e);return r>=0?n[1|r]=t:(r=~r,function sq(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Qy(n,e){const t=su(n,e);if(t>=0)return n[1|t]}function su(n,e){return function Mx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Zl={},Jy="__NG_DI_FLAG__",Xh="ngTempTokenPath",fq=/\n/gm,kx="__source";let ec;function ou(n){const e=ec;return ec=n,e}function gq(n,e=me.Default){if(void 0===ec)throw new F(-203,!1);return null===ec?$A(n,void 0,e):ec.get(n,e&me.Optional?null:void 0,e)}function ne(n,e=me.Default){return(function aG(){return Ey}()||gq)(we(n),e)}function kt(n,e=me.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),ne(n,e)}function Xy(n){const e=[];for(let t=0;t<n.length;t++){const r=we(n[t]);if(Array.isArray(r)){if(0===r.length)throw new F(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],u=mq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ne(i,s))}else e.push(ne(r))}return e}function tc(n,e){return n[Jy]=e,n.prototype[Jy]=e,n}function mq(n){return n[Jy]}const Bt=tc(iu("Optional"),8),nc=tc(iu("SkipSelf"),4);let e_;class Gx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $s(n){return n instanceof Gx?n.changingThisBreaksApplicationSecurity:n}const Bq=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var jt=(()=>((jt=jt||{})[jt.NONE=0]="NONE",jt[jt.HTML=1]="HTML",jt[jt.STYLE=2]="STYLE",jt[jt.SCRIPT=3]="SCRIPT",jt[jt.URL=4]="URL",jt[jt.RESOURCE_URL=5]="RESOURCE_URL",jt))();function af(n){const e=function ac(){const n=U();return n&&n[12]}();return e?e.sanitize(jt.URL,n)||"":function sc(n,e){const t=function Fq(n){return n instanceof Gx&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?$s(n):function rf(n){return(n=String(n)).match(Bq)?n:"unsafe:"+n}(Se(n))}const a_=new ue("ENVIRONMENT_INITIALIZER"),Zx=new ue("INJECTOR",-1),e1=new ue("INJECTOR_DEF_TYPES");class t1{get(e,t=Zl){if(t===Zl){const r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return t}}function e4(...n){return{\u0275providers:n1(0,n)}}function n1(n,...e){const t=[],r=new Set;let i;return ss(e,s=>{const o=s;u_(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&r1(i,t),t}function r1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ss(i,s=>{e.push(s)})}}function u_(n,e,t,r){if(!(n=we(n)))return!1;let i=null,s=BA(n);const o=!s&&Xe(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=BA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)u_(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{ss(s.imports,c=>{u_(c,e,t,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&r1(l,e)}if(!a){const l=Ro(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Qe},{provide:e1,useValue:i,multi:!0},{provide:a_,useValue:()=>ne(i),multi:!0})}const u=s.providers;null==u||a||ss(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}const t4=st({provide:String,useValue:st});function l_(n){return null!==n&&"object"==typeof n&&t4 in n}function Oo(n){return"function"==typeof n}const c_=new ue("Set Injector scope."),uf={},r4={};let d_;function lf(){return void 0===d_&&(d_=new t1),d_}class Hs{}class o1 extends Hs{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(e,o=>this.processProvider(o)),this.records.set(Zx,lu(void 0,this)),i.has("environment")&&this.records.set(Hs,lu(void 0,this));const s=this.records.get(c_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(e1.multi,Qe,me.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ou(this),r=Gr(void 0);try{return e()}finally{ou(t),Gr(r)}}get(e,t=Zl,r=me.Default){this.assertNotDestroyed();const i=ou(this),s=Gr(void 0);try{if(!(r&me.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function u4(n){return"function"==typeof n||"object"==typeof n&&n instanceof ue}(e)&&Mh(e);a=u&&this.injectableDefInScope(u)?lu(h_(e),uf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&me.Self?lf():this.parent).get(e,t=r&me.Optional&&t===Zl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Xh]=o[Xh]||[]).unshift(ot(e)),i)throw o;return function yq(n,e,t,r){const i=n[Xh];throw e[kx]&&i.unshift(e[kx]),n.message=function _q(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(fq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Xh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Gr(s),ou(i)}}resolveInjectorInitializers(){const e=ou(this),t=Gr(void 0);try{const r=this.get(a_.multi,Qe,me.Self);for(const i of r)i()}finally{ou(e),Gr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=Oo(e=we(e))?e:we(e&&e.provide);const r=function s4(n){return l_(n)?lu(void 0,n.useValue):lu(function a1(n,e,t){let r;if(Oo(n)){const i=we(n);return Ro(i)||h_(i)}if(l_(n))r=()=>we(n.useValue);else if(function s1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Xy(n.deps||[]));else if(function i1(n){return!(!n||!n.useExisting)}(n))r=()=>ne(we(n.useExisting));else{const i=we(n&&(n.useClass||n.provide));if(!function o4(n){return!!n.deps}(n))return Ro(i)||h_(i);r=()=>new i(...Xy(n.deps))}return r}(n),uf)}(e);if(Oo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=lu(void 0,uf,!0),i.factory=()=>Xy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===uf&&(t.value=r4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function a4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=we(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function h_(n){const e=Mh(n),t=null!==e?e.factory:Ro(n);if(null!==t)return t;if(n instanceof ue)throw new F(204,!1);if(n instanceof Function)return function i4(n){const e=n.length;if(e>0)throw function Xl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new F(204,!1);const t=function iG(n){const e=n&&(n[kh]||n[jA]);if(e){const t=function sG(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new F(204,!1)}function lu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function l4(n){return!!n.\u0275providers}function f_(n,e){for(const t of n)Array.isArray(t)?f_(t,e):l4(t)?f_(t.\u0275providers,e):e(t)}class u1{}class h4{resolveComponentFactory(e){throw function d4(n){const e=Error(`No component factory found for ${ot(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let uc=(()=>{class n{}return n.NULL=new h4,n})();function f4(){return cu(Qt(),U())}function cu(n,e){return new Rr(Kr(n,e))}let Rr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=f4,n})();class lc{}let m4=(()=>{class n{}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>null}),n})();class du{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const c1=new du("14.2.0"),p_={};function v_(n){return n.ngOriginalError}class hu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&v_(e);for(;t&&v_(t);)t=v_(t);return t||null}}const w_=new Map;let A4=0;const E_="__ngContext__";function Fn(n,e){hr(e)?(n[E_]=e[20],function M4(n){w_.set(n[20],n)}(e)):n[E_]=e}function cc(n){const e=n[E_];return"number"==typeof e?function m1(n){return w_.get(n)||null}(e):e||null}function I_(n){const e=cc(n);return e?hr(e)?e:e.lView:null}function as(n){return n instanceof Function?n():n}var fr=(()=>((fr=fr||{})[fr.Important=1]="Important",fr[fr.DashCase=2]="DashCase",fr))();function D_(n,e){return undefined(n,e)}function dc(n){const e=n[3];return ui(e)?e[3]:e}function T_(n){return I1(n[13])}function S_(n){return I1(n[4])}function I1(n){for(;null!==n&&!ui(n);)n=n[4];return n}function pu(n,e,t,r,i){if(null!=r){let s,o=!1;ui(r)?s=r:hr(r)&&(o=!0,r=r[0]);const a=Ut(r);0===n&&null!==t?null==i?x1(e,t,a):No(e,t,a,i||null,!0):1===n&&null!==t?No(e,t,a,i||null,!0):2===n?function F1(n,e,t){const r=cf(n,e);r&&function rz(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function oz(n,e,t,r,i){const s=t[7];s!==Ut(t)&&pu(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];hc(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function x_(n,e,t){return n.createElement(e,t)}function D1(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Oy(i,-1)),t.splice(r,1)}function M_(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&D1(i,r),e>0&&(n[t-1][4]=r[4]);const s=Yh(n,10+e);!function Q4(n,e){hc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function T1(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&hc(n,e,t,3,null,null),function X4(n){let e=n[13];if(!e)return k_(n[1],n);for(;e;){let t=null;if(hr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)hr(e)&&k_(e[1],e),e=e[3];null===e&&(e=n),hr(e)&&k_(e[1],e),t=e&&e[4]}e=t}}(e)}}function k_(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function nz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ql)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function tz(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Ut(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&ui(e[3])){t!==e[3]&&D1(t,e);const r=e[19];null!==r&&r.detachView(n)}!function k4(n){w_.delete(n[20])}(e)}}function S1(n,e,t){return function A1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===oi.None||i===oi.Emulated)return null}return Kr(r,t)}(n,e.parent,t)}function No(n,e,t,r,i){n.insertBefore(e,t,r,i)}function x1(n,e,t){n.appendChild(e,t)}function M1(n,e,t,r,i){null!==r?No(n,e,t,r,i):x1(n,e,t)}function cf(n,e){return n.parentNode(e)}let O1=function R1(n,e,t){return 40&n.type?Kr(n,t):null};function df(n,e,t,r){const i=S1(n,r,e),s=e[11],a=function k1(n,e,t){return O1(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)M1(s,i,t[u],a,!1);else M1(s,i,t,a,!1)}function hf(n,e){if(null!==e){const t=e.type;if(3&t)return Kr(e,n);if(4&t)return O_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return hf(n,r);{const i=n[e.index];return ui(i)?O_(-1,i):Ut(i)}}if(32&t)return D_(e,n)()||Ut(n[e.index]);{const r=P1(n,e);return null!==r?Array.isArray(r)?r[0]:hf(dc(n[16]),r):hf(n,e.next)}}return null}function P1(n,e){return null!==e?n[16][6].projection[e.projection]:null}function O_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return hf(r,i)}return e[7]}function N_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Fn(Ut(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)N_(n,e,t.child,r,i,s,!1),pu(e,n,i,a,s);else if(32&u){const l=D_(t,r);let c;for(;c=l();)pu(e,n,i,c,s);pu(e,n,i,a,s)}else 16&u?L1(n,e,r,t,i,s):pu(e,n,i,a,s);t=o?t.projectionNext:t.next}}function hc(n,e,t,r,i,s){N_(t,r,n.firstChild,e,i,s,!1)}function L1(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)pu(e,n,i,u[l],s);else N_(n,e,u,o[3],i,s,!0)}function V1(n,e,t){n.setAttribute(e,"style",t)}function P_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function U1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const B1="ng-template";function uz(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==U1(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function j1(n){return 4===n.type&&n.value!==B1}function lz(n,e,t){return e===(4!==n.type||t?n.value:B1)}function cz(n,e,t){let r=4;const i=n.attrs||[],s=function fz(n){for(let e=0;e<n.length;e++)if(fx(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!lz(n,u,t)||""===u&&1===e.length){if(ci(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!uz(n.attrs,l,t)){if(ci(r))return!1;o=!0}continue}const d=dz(8&r?"class":u,i,j1(n),t);if(-1===d){if(ci(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==U1(f,l,0)||2&r&&l!==h){if(ci(r))return!1;o=!0}}}}else{if(!o&&!ci(r)&&!ci(u))return!1;if(o&&ci(u))continue;o=!1,r=u|1&r}}return ci(r)||o}function ci(n){return 0==(1&n)}function dz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function pz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function $1(n,e,t=!1){for(let r=0;r<e.length;r++)if(cz(n,e[r],t))return!0;return!1}function H1(n,e){return n?":not("+e.trim()+")":e}function mz(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ci(o)&&(e+=H1(s,i),i=""),r=o,s=s||!ci(r);t++}return""!==i&&(e+=H1(s,i)),e}const Ae={};function le(n){G1($e(),U(),Jn()+n,!1)}function G1(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&$h(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Hh(e,s,0,t)}Bs(t)}function K1(n,e=null,t=null,r){const i=Q1(n,e,t,r);return i.resolveInjectorInitializers(),i}function Q1(n,e=null,t=null,r,i=new Set){const s=[t||Qe,e4(n)];return r=r||("object"==typeof n?void 0:ot(n)),new o1(s,e||lf(),r||null,i)}let Ln=(()=>{class n{static create(t,r){if(Array.isArray(t))return K1({name:""},r,t,"");{const i=t.name??"";return K1({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Zl,n.NULL=new t1,n.\u0275prov=ge({token:n,providedIn:"any",factory:()=>ne(Zx)}),n.__NG_ELEMENT_ID__=-1,n})();function L(n,e=me.Default){const t=U();return null===t?ne(n,e):bx(Qt(),t,we(n),e)}function B_(){throw new Error("invalid")}function pf(n,e){return n<<17|e<<2}function di(n){return n>>17&32767}function j_(n){return 2|n}function us(n){return(131068&n)>>2}function $_(n,e){return-131069&n|e<<2}function H_(n){return 1|n}function hM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Vy(i),o.contentQueries(2,e[s],s)}}}function yf(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),ZA(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function x4(){return A4++}(),d[21]=c,d[16]=2==e.type?n[16]:d,d}function mu(n,e,t,r,i){let s=n.data[e];if(null===s)s=function J_(n,e,t,r,i){const s=nx(),o=Ny(),u=n.data[e]=function Zz(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function OG(){return Ce.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Gl(){const n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Si(s,!0),s}function yu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _f(n,e,t){Uy(e);try{const r=n.viewQuery;null!==r&&ov(1,r,t);const i=n.template;null!==i&&fM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&hM(n,e),n.staticViewQueries&&ov(2,n.viewQuery,t);const s=n.components;null!==s&&function Qz(n,e){for(let t=0;t<e.length;t++)g5(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,By()}}function fc(n,e,t,r){const i=e[2];if(128!=(128&i)){Uy(e);try{ZA(e),function rx(n){return Ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&fM(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&$h(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Hh(e,l,0,null),jy(e,0)}if(function f5(n){for(let e=T_(n);null!==e;e=S_(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Oy(s,1),i[2]|=512}}}(e),function h5(n){for(let e=T_(n);null!==e;e=S_(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Uh(r)&&fc(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&hM(n,e),o){const l=n.contentCheckHooks;null!==l&&$h(e,l)}else{const l=n.contentHooks;null!==l&&Hh(e,l,1),jy(e,1)}!function Wz(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Bs(~i);else{const s=i,o=t[++r],a=t[++r];NG(o,s),a(2,e[s])}}}finally{Bs(-1)}}(n,e);const a=n.components;null!==a&&function Kz(n,e){for(let t=0;t<e.length;t++)p5(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&ov(2,u,r),o){const l=n.viewCheckHooks;null!==l&&$h(e,l)}else{const l=n.viewHooks;null!==l&&Hh(e,l,2),jy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Oy(e[3],-1))}finally{By()}}}function Yz(n,e,t,r){const i=e[10],o=function XA(n){return 4==(4&n[2])}(e);try{!o&&i.begin&&i.begin(),o&&_f(n,e,r),fc(n,e,t,r)}finally{!o&&i.end&&i.end()}}function fM(n,e,t,r,i){const s=Jn(),o=2&r;try{Bs(-1),o&&e.length>22&&G1(n,e,22,!1),t(r,i)}finally{Bs(s)}}function X_(n,e,t){!tx()||(function i5(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Wl(t,e),Fn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=li(u);l&&l5(e,t,u);const c=Kl(e,n,a,t);Fn(c,e),null!==o&&c5(0,a-i,c,u,0,o),l&&(xr(t.index,e)[8]=c)}}(n,e,t,Kr(t,e)),128==(128&t.flags)&&function s5(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function PG(){return Ce.lFrame.currentDirectiveIndex}();try{Bs(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Fy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&bM(u,l)}}finally{Bs(-1),Fy(o)}}(n,e,t))}function Z_(n,e,t=Kr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function gM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ev(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ev(n,e,t,r,i,s,o,a,u,l){const c=22+r,d=c+i,h=function Jz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ae);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function yM(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function _M(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||j1(e)?null:d5(d,s);o.push(h),a=yM(d,l,a),u=yM(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function Or(n,e,t,r,i,s,o,a){const u=Kr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(av(n,t,c,r,i),Fh(e)&&vM(t,e.index)):3&e.type&&(r=function e5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function vM(n,e){const t=xr(e,n);16&t[2]||(t[2]|=32)}function tv(n,e,t,r){let i=!1;if(tx()){const s=function o5(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];$1(t,o.selectors,!1)&&(i||(i=[]),Kh(Wl(t,e),n,o.type),li(o)?(EM(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,IM(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=yu(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=qh(t.mergedAttrs,d.hostAttrs),CM(n,t,e,l,d),u5(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}_M(n,t)}o&&function a5(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new F(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=qh(t.mergedAttrs,t.attrs),i}function wM(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function r5(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function bM(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function EM(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function u5(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;li(e)&&(t[""]=n)}}function IM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function CM(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ro(i.type)),o=new ql(s,li(i),L);n.blueprint[r]=o,t[r]=o,wM(n,e,0,r,yu(n,t,i.hostVars,Ae),i)}function l5(n,e,t){const r=Kr(e,n),i=gM(t),s=n[10],o=vf(n,yf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function ki(n,e,t,r,i,s){const o=Kr(n,e);!function nv(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Se(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function c5(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function d5(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function DM(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function p5(n,e){const t=xr(e,n);if(Uh(t)){const r=t[1];48&t[2]?fc(r,t,r.template,t[8]):t[5]>0&&rv(t)}}function rv(n){for(let r=T_(n);null!==r;r=S_(r))for(let i=10;i<r.length;i++){const s=r[i];if(Uh(s))if(512&s[2]){const o=s[1];fc(o,s,o.template,s[8])}else s[5]>0&&rv(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=xr(t[r],n);Uh(i)&&i[5]>0&&rv(i)}}function g5(n,e){const t=xr(e,n),r=t[1];(function m5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),_f(r,t,t[8])}function vf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function iv(n){for(;n;){n[2]|=32;const e=dc(n);if(pG(n)&&!e)return n;n=e}return null}function ov(n,e,t){Vy(0),e(n,t)}function SM(n){return n[7]||(n[7]=[])}function AM(n){return n.cleanup||(n.cleanup=[])}function MM(n,e){const t=n[9],r=t?t.get(hu,null):null;r&&r.handleError(e)}function av(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function wf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vy(i,a):2==s&&(r=vy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function bf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ut(s)),ui(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&bf(u[1],u,l,r)}const o=t.type;if(8&o)bf(n,e,t.child,r);else if(32&o){const a=D_(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=P1(e,t);if(Array.isArray(a))r.push(...a);else{const u=dc(e[16]);bf(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class pc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return bf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ui(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(M_(e,r),Yh(t,r))}this._attachedToViewContainer=!1}T1(this._lView[1],this._lView)}onDestroy(e){!function mM(n,e,t,r){const i=SM(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&AM(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){iv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function sv(n,e,t){const r=e[10];r.begin&&r.begin();try{fc(n,e,n.template,t)}catch(i){throw MM(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J4(n,e){hc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class _5 extends pc{constructor(e){super(e),this._view=e}detectChanges(){!function TM(n){!function y5(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=I_(t);if(null!==r){const i=r[1];Yz(i,r,i.template,t)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class uv extends uc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Xe(e);return new gc(t,this.ngModule)}}function kM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class w5{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,p_,r);return i!==p_||t===p_?i:this.parentInjector.get(e,t,r)}}class gc extends u1{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function yz(n){return n.map(mz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return kM(this.componentDef.inputs)}get outputs(){return kM(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Hs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new w5(e,s):e,a=o.get(lc,null);if(null===a)throw new F(407,!1);const u=o.get(m4,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function Xz(n,e,t){return n.selectRootElement(e,t===oi.ShadowDom)}(l,r,this.componentDef.encapsulation):x_(a.createRenderer(null,this.componentDef),c,function v5(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f={components:[]},p=ev(0,null,null,1,0,null,null,null,null,null),g=yf(null,p,f,h,null,null,a,l,u,o,null);let I,x;Uy(g);try{const O=function I5(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=mu(o,22,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(wf(u,l,!0),null!==n&&(Gh(i,n,l),null!==u.classes&&P_(i,n,u.classes),null!==u.styles&&V1(i,n,u.styles)));const c=r.createRenderer(n,e),d=yf(t,gM(e),null,e.onPush?32:16,t[22],u,r,c,s||null,null,null);return o.firstCreatePass&&(Kh(Wl(u,t),o,e.type),EM(o,u),IM(u,t.length,1)),vf(t,d),t[22]=d}(d,this.componentDef,g,a,l);if(d)if(r)Gh(l,d,["ng-version",c1.full]);else{const{attrs:T,classes:N}=function _z(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ci(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);T&&Gh(l,d,T),N&&N.length>0&&P_(l,d,N.join(" "))}if(x=Ry(p,22),void 0!==t){const T=x.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const z=t[N];T.push(null!=z?Array.from(z):null)}}I=function C5(n,e,t,r,i){const s=t[1],o=function n5(n,e,t){const r=Qt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),CM(n,r,e,yu(n,e,1,null),t),_M(n,r));const i=Kl(e,n,r.directiveStart,r);Fn(i,e);const s=Kr(r,e);return s&&Fn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,null!==i)for(const u of i)u(o,e);if(e.contentQueries){const u=Qt();e.contentQueries(1,o,u.directiveStart)}const a=Qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Bs(a.index),wM(t[1],a,0,a.directiveStart,a.directiveEnd,e),bM(e,o)),o}(O,this.componentDef,g,f,[T5]),_f(p,g,null)}finally{By()}return new E5(this.componentType,I,cu(x,g),g,x)}}class E5 extends class c4{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new _5(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;av(s[1],s,i,e,t),vM(s,this._tNode.index)}}get injector(){return new eu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function T5(){const n=Qt();jh(U()[1],n)}let Ef=null;function Po(){if(!Ef){const n=at.Symbol;if(n&&n.iterator)Ef=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ef=r)}}}return Ef}function mc(n){return!!function cv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Po()in n)}function Vn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Oi(n,e,t,r){const i=U();return Vn(i,Ja(),e)&&($e(),ki(Dt(),i,n,e,t,r)),Oi}function vu(n,e,t,r){return Vn(n,Ja(),t)?e+Se(t)+r:Ae}function Je(n,e,t,r,i,s,o,a){const u=U(),l=$e(),c=n+22,d=l.firstCreatePass?function V5(n,e,t,r,i,s,o,a,u){const l=e.consts,c=mu(e,n,4,o||null,Us(l,a));tv(e,t,c,Us(l,u)),jh(e,c);const d=c.tViews=ev(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,r,i,s,o):l.data[c];Si(d,!1);const h=u[11].createComment("");df(l,u,h,d),Fn(h,u),vf(u,u[c]=DM(h,u,h,d)),Lh(d)&&X_(l,u,d),null!=o&&Z_(u,d,a)}function Rt(n){return function Ya(n,e){return n[e]}(function RG(){return Ce.lFrame.contextLView}(),22+n)}function ae(n,e,t){const r=U();return Vn(r,Ja(),e)&&Or($e(),Dt(),r,n,e,r[11],t,!1),ae}function dv(n,e,t,r,i){const o=i?"class":"style";av(n,t,e.inputs[o],o,r)}function j(n,e,t,r){const i=U(),s=$e(),o=22+n,a=i[11],u=i[o]=x_(a,e,function jG(){return Ce.lFrame.currentNamespace}()),l=s.firstCreatePass?function B5(n,e,t,r,i,s,o){const a=e.consts,l=mu(e,n,2,i,Us(a,s));return tv(e,t,l,Us(a,o)),null!==l.attrs&&wf(l,l.attrs,!1),null!==l.mergedAttrs&&wf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];Si(l,!0);const c=l.mergedAttrs;null!==c&&Gh(a,u,c);const d=l.classes;null!==d&&P_(a,u,d);const h=l.styles;return null!==h&&V1(a,u,h),64!=(64&l.flags)&&df(s,i,u,l),0===function SG(){return Ce.lFrame.elementDepthCount}()&&Fn(u,i),function AG(){Ce.lFrame.elementDepthCount++}(),Lh(l)&&(X_(s,i,l),function pM(n,e,t){if(Sy(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&Z_(i,l),j}function $(){let n=Qt();Ny()?function Py(){Ce.lFrame.isParent=!1}():(n=n.parent,Si(n,!1));const e=n;!function xG(){Ce.lFrame.elementDepthCount--}();const t=$e();return t.firstCreatePass&&(jh(t,n),Sy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function zG(n){return 0!=(16&n.flags)}(e)&&dv(t,e,U(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function WG(n){return 0!=(32&n.flags)}(e)&&dv(t,e,U(),e.stylesWithoutHost,!1),$}function Un(n,e,t,r){return j(n,e,t,r),$(),Un}function et(){return U()}function _c(n){return!!n&&"function"==typeof n.then}const pv=function HM(n){return!!n&&"function"==typeof n.subscribe};function ce(n,e,t,r){const i=U(),s=$e(),o=Qt();return function qM(n,e,t,r,i,s,o,a){const u=Lh(r),c=n.firstCreatePass&&AM(n),d=e[8],h=SM(e);let f=!0;if(3&r.type||a){const I=Kr(r,e),x=a?a(I):I,O=h.length,T=a?z=>a(Ut(z[r.index])):r.index;let N=null;if(!a&&u&&(N=function $5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=WM(r,e,d,s,!1);const z=t.listen(x,i,s);h.push(s,z),c&&c.push(i,T,O,O+1)}}else s=WM(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const I=g.length;if(I)for(let x=0;x<I;x+=2){const Q=e[g[x]][g[x+1]].subscribe(s),Ie=h.length;h.push(s,Q),c&&c.push(i,r.index,Ie,-(Ie+1))}}}(s,i,i[11],o,n,e,0,r),ce}function zM(n,e,t,r){try{return!1!==t(r)}catch(i){return MM(n,i),!1}}function WM(n,e,t,r,i){return function s(o){if(o===Function)return r;iv(2&n.flags?xr(n.index,e):e);let u=zM(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=zM(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ke(n=1){return function LG(n){return(Ce.lFrame.contextLView=function VG(n,e){for(;n>0;)e=e[15],n--;return e}(n,Ce.lFrame.contextLView))[8]}(n)}function Cf(n,e,t){return Lo(n,"",e,"",t),Cf}function Lo(n,e,t,r,i){const s=U(),o=vu(s,e,t,r);return o!==Ae&&Or($e(),Dt(),s,n,o,s[11],i,!1),Lo}function nk(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?di(s):us(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];K5(n[a],e)&&(u=!0,n[a+1]=r?H_(c):j_(c)),a=r?di(c):us(c)}u&&(n[t+1]=r?j_(s):H_(s))}function K5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&su(n,e)>=0}const Jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rk(n){return n.substring(Jt.key,Jt.keyEnd)}function ik(n,e){const t=Jt.textEnd;return t===e?-1:(e=Jt.keyEnd=function X5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Jt.key=e,t),Su(n,e,t))}function Su(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Pi(n,e){for(let t=function Y5(n){return function ok(n){Jt.key=0,Jt.keyEnd=0,Jt.value=0,Jt.valueEnd=0,Jt.textEnd=n.length}(n),ik(n,Su(n,0,Jt.textEnd))}(e);t>=0;t=ik(e,t))kr(n,rk(e),!0)}function fi(n,e,t,r){const i=$e(),s=function is(n){const e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);i.firstUpdatePass&&function dk(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Jn()],o=ck(n,t);gk(s,r)&&null===e&&!o&&(e=!1),e=function rW(n,e,t,r){const i=function Ly(n){const e=Ce.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=vc(t=gv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=gv(i,n,e,t,r),null===s){let u=function iW(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==us(r))return n[di(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=gv(null,n,e,u[1],r),u=vc(u,e.attrs,r),function sW(n,e,t,r){n[di(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function oW(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=vc(r,n[s].hostAttrs,t);return vc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function z5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=di(o),u=us(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||su(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=di(n[a+1]);n[r+1]=pf(h,a),0!==h&&(n[h+1]=$_(n[h+1],r)),n[a+1]=function Lz(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=pf(a,0),0!==a&&(n[a+1]=$_(n[a+1],r)),a=r;else n[r+1]=pf(u,0),0===a?a=r:n[u+1]=$_(n[u+1],r),u=r;l&&(n[r+1]=j_(n[r+1])),nk(n,c,r,!0),nk(n,c,r,!1),function W5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&su(s,e)>=0&&(t[r+1]=H_(t[r+1]))}(e,c,n,r,s),o=pf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(i,null,s,r);const o=U();if(t!==Ae&&Vn(o,s,t)){const a=i.data[Jn()];if(gk(a,r)&&!ck(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=vy(u,t||"")),dv(i,a,o,t,r)}else!function uW(n,e,t,r,i,s,o,a){i===Ae&&(i=Qe);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let g,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,g=f),null!==p&&fk(n,e,t,r,p,g,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function aW(n,e,t){if(null==t||""===t)return Qe;const r=[],i=$s(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function ck(n,e){return e>=n.expandoStartIndex}function gv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=vc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function vc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),kr(n,o,!!t||e[++s]))}return void 0===n?null:n}function fk(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];Tf(function iM(n){return 1==(1&n)}(l)?pk(u,e,t,i,us(l),o):void 0)||(Tf(s)||function rM(n){return 2==(2&n)}(l)&&(s=pk(u,null,t,i,a,o)),function az(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:fr.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fr.Important),n.setStyle(t,r,i,s))}}(r,o,Vh(Jn(),t),i,s))}function pk(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===Ae&&(h=d?Qe:void 0);let f=d?Qy(h,r):c===r?h:void 0;if(l&&!Tf(f)&&(f=Qy(u,r)),Tf(f)&&(a=f,o))return a;const p=n[i+1];i=o?di(p):us(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Qy(u,r))}return a}function Tf(n){return void 0!==n}function gk(n,e){return 0!=(n.flags&(e?16:32))}function Pe(n,e=""){const t=U(),r=$e(),i=n+22,s=r.firstCreatePass?mu(r,i,1,e,null):r.data[i],o=t[i]=function A_(n,e){return n.createText(e)}(t[11],e);df(r,t,o,s),Si(s,!1)}function pi(n){return Sf("",n,""),pi}function Sf(n,e,t){const r=U(),i=vu(r,n,e,t);return i!==Ae&&function ls(n,e,t){const r=Vh(e,n);!function C1(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Jn(),i),Sf}const xu="en-US";let Vk=xu;class Uo{}class cR{}class dR extends Uo{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uv(this);const r=Sr(e);this._bootstrapComponents=as(r.bootstrap),this._r3Injector=Q1(e,t,[{provide:Uo,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ev extends cR{constructor(e){super(),this.moduleType=e}create(e){return new dR(this.moduleType,e)}}class A7 extends Uo{constructor(e,t,r){super(),this.componentFactoryResolver=new uv(this),this.instance=null;const i=new o1([...e,{provide:Uo,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],t||lf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Rf(n,e,t=null){return new A7(n,e,t).injector}let x7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=n1(0,t.type),i=r.length>0?Rf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ge({token:n,providedIn:"environment",factory:()=>new n(ne(Hs))}),n})();function hR(n){n.getStandaloneInjector=e=>e.get(x7).getOrCreateStandaloneInjector(n)}function vR(n,e,t){const r=function Yn(){const n=Ce.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=U();return i[r]===Ae?function Ri(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function yc(n,e){return n[e]}(i,r)}function Cv(n){return e=>{setTimeout(n,void 0,e)}}const yt=class e6 extends Ti{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Cv(s),i&&(i=Cv(i)),o&&(o=Cv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof M&&e.add(a),a}};let cs=(()=>{class n{}return n.__NG_ELEMENT_ID__=i6,n})();const n6=cs,r6=class extends n6{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=yf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),_f(r,i,e),new pc(i)}};function i6(){return function Of(n,e){return 4&n.type?new r6(e,n,cu(n,e)):null}(Qt(),U())}let gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=s6,n})();function s6(){return function SR(n,e){let t;const r=e[n.index];if(ui(r))t=r;else{let i;if(8&n.type)i=Ut(r);else{const s=e[11];i=s.createComment("");const o=Kr(n,e);No(s,cf(s,o),i,function iz(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=DM(r,e,i,n),vf(e,t)}return new DR(t,n,e)}(Qt(),U())}const o6=gi,DR=class extends o6{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return cu(this._hostTNode,this._hostLView)}get injector(){return new eu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wh(this._hostTNode,this._hostLView);if(mx(e)){const t=Za(e,this._hostLView),r=Xa(e);return new eu(t[1].data[r+8],t)}return new eu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=TR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Jl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new gc(Xe(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Hs,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function TG(n){return ui(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new DR(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function Z4(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Sx(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function ez(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=O_(s,o),u=r[11],l=cf(u,o[7]);return null!==l&&function Y4(n,e,t,r,i,s){r[0]=i,r[6]=e,hc(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),Sx(Tv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=TR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=M_(this._lContainer,t);r&&(Yh(Tv(this._lContainer),t),T1(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=M_(this._lContainer,t);return r&&null!=Yh(Tv(this._lContainer),t)?new pc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function TR(n){return n[8]}function Tv(n){return n[8]||(n[8]=[])}function Pf(...n){}const Ff=new ue("Application Initializer");let Lf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Pf,this.reject=Pf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(_c(s))t.push(s);else if(pv(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ne(Ff,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sc=new ue("AppId",{providedIn:"root",factory:function JR(){return`${Uv()}${Uv()}${Uv()}`}});function Uv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XR=new ue("Platform Initializer"),Vf=new ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZR=new ue("appBootstrapListener"),eO=new ue("AnimationModuleType");let F6=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ds=new ue("LocaleId",{providedIn:"root",factory:()=>kt(ds,me.Optional|me.SkipSelf)||function L6(){return typeof $localize<"u"&&$localize.locale||xu}()});class U6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Bv=(()=>{class n{compileModuleSync(t){return new Ev(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=as(Sr(t).declarations).reduce((o,a)=>{const u=Xe(a);return u&&o.push(new gc(u)),o},[]);return new U6(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $6=(()=>Promise.resolve(0))();function jv(n){typeof Zone>"u"?$6.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function H6(){let n=at.requestAnimationFrame,e=at.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function z6(n){const e=()=>{!function q6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(at,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hv(n),n.isCheckStableRunning=!0,$v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return rO(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),iO(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return rO(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),iO(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Hv(n),$v(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,G6,Pf,Pf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const G6={};function $v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iO(n){n._nesting--,$v(n)}class W6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const sO=new ue(""),Uf=new ue("");let zv,Gv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zv||(function K6(n){zv=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ne(dt),ne(qv),ne(Uf))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),qv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return zv?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),zs=null;const oO=new ue("AllowMultipleToken"),Wv=new ue("PlatformDestroyListeners");class aO{constructor(e,t){this.name=e,this.token=t}}function lO(n,e,t=[]){const r=`Platform: ${e}`,i=new ue(r);return(s=[])=>{let o=Kv();if(!o||o.injector.get(oO,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function J6(n){if(zs&&!zs.get(oO,!1))throw new F(400,!1);zs=n;const e=n.get(dO);(function uO(n){const e=n.get(XR,null);e&&e.forEach(t=>t())})(n)}(function cO(n=[],e){return Ln.create({name:e,providers:[{provide:c_,useValue:"platform"},{provide:Wv,useValue:new Set([()=>zs=null])},...n]})}(a,r))}return function Z6(n){const e=Kv();if(!e)throw new F(401,!1);return e}()}}function Kv(){return zs?.get(dO)??null}let dO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function fO(n,e){let t;return t="noop"===n?new W6:("zone.js"===n?void 0:n)||new dt(e),t}(r?.ngZone,function hO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:dt,useValue:i}];return i.run(()=>{const o=Ln.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(hu,null);if(!u)throw new F(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{u.handleError(c)}});a.onDestroy(()=>{Bf(this._modules,a),l.unsubscribe()})}),function pO(n,e,t){try{const r=t();return _c(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(Lf);return l.runInitializers(),l.donePromise.then(()=>(function Uk(n){Dr(n,"Expected localeId to be defined"),"string"==typeof n&&(Vk=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ds,xu)||xu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=gO({},r);return function Q6(n,e,t){const r=new Ev(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new F(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Wv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ne(Ln))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gO(n,e){return Array.isArray(e)?e.reduce(gO,n):{...n,...e}}let Ac=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new wt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new wt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function QH(...n){const e=Ul(n),t=function $H(n,e){return"number"==typeof my(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ii(r[0]):Ha(t)(Vt(r,e)):es}(s,o.pipe(function YH(n={}){const{connector:e=(()=>new Ti),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return on((g,I)=>{l++,!d&&!c&&h();const x=u=u??e();I.add(()=>{l--,0===l&&!d&&!c&&(a=yy(p,i))}),x.subscribe(I),!o&&l>0&&(o=new ri({next:O=>x.next(O),error:O=>{d=!0,h(),a=yy(f,t,O),x.error(O)},complete:()=>{c=!0,h(),a=yy(f,r),x.complete()}}),ii(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof u1;if(!this._injector.get(Lf).done)throw!i&&function qa(n){const e=Xe(n)||Kn(n)||Qn(n);return null!==e&&e.standalone}(t),new F(405,false);let o;o=i?t:this._injector.get(uc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Y6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Uo),l=o.create(Ln.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(sO,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Bf(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Bf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ZR,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Bf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ne(dt),ne(Hs),ne(hu))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let jf=(()=>{class n{}return n.__NG_ELEMENT_ID__=n8,n})();function n8(n){return function r8(n,e,t){if(Fh(n)&&!t){const r=xr(n.index,e);return new pc(r,r)}return 47&n.type?new pc(e[16],e):null}(Qt(),U(),16==(16&n))}class EO{constructor(){}supports(e){return mc(e)}create(e){return new l8(e)}}const u8=(n,e)=>e;class l8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<CO(r,i,s)?t:r,a=CO(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!mc(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function P5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Po()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new c8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class d8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new d8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function TO(){return new Gf([new EO])}let Gf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TO()),deps:[[n,new nc,new Bt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new F(901,!1)}}return n.\u0275prov=ge({token:n,providedIn:"root",factory:TO}),n})();const m8=lO(null,"core",[]);let y8=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ne(Ac))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({}),n})();function fs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let qf=null;function Fi(){return qf}const Bn=new ue("DocumentToken");let Zv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(){return function b8(){return ne(AO)}()},providedIn:"platform"}),n})();const E8=new ue("Location Initialized");let AO=(()=>{class n extends Zv{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(t){const r=Fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Fi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){xO()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){xO()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ne(Bn))},n.\u0275prov=ge({token:n,factory:function(){return function I8(){return new AO(ne(Bn))}()},providedIn:"platform"}),n})();function xO(){return!!window.history.pushState}function ew(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function MO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ps(n){return n&&"?"!==n[0]?"?"+n:n}let jo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(){return kt(RO)},providedIn:"root"}),n})();const kO=new ue("appBaseHref");let RO=(()=>{class n extends jo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??kt(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ew(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ps(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ps(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ps(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Zv),ne(kO,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C8=(()=>{class n extends jo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ew(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ps(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ps(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Zv),ne(kO,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),tw=(()=>{class n{constructor(t){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=MO(OO(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ps(r))}normalize(t){return n.stripTrailingSlash(function T8(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,OO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ps(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ps(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ps,n.joinWithSlash=ew,n.stripTrailingSlash=MO,n.\u0275fac=function(t){return new(t||n)(ne(jo))},n.\u0275prov=ge({token:n,factory:function(){return function D8(){return new tw(ne(jo))}()},providedIn:"root"}),n})();function OO(n){return n.replace(/\/index.html$/,"")}class hK{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tp=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new hK(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),GO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{GO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(L(gi),L(cs),L(Gf))},n.\u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function GO(n,e){n.context.$implicit=e.item}let np=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(L(gi),L(cs))},n.\u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class pK{constructor(){this.$implicit=null,this.ngIf=null}}function qO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ot(e)}'.`)}let jK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({}),n})();let qK=(()=>{class n{}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>new zK(ne(Bn),window)}),n})();class zK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function WK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=QO(this.window.history)||QO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function QO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yw extends class h9 extends class w8{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function v8(n){qf||(qf=n)}(new yw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function f9(){return Oc=Oc||document.querySelector("base"),Oc?Oc.getAttribute("href"):null}();return null==t?null:function p9(n){ip=ip||document.createElement("a"),ip.setAttribute("href",n);const e=ip.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Oc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lK(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ip,Oc=null;const ZO=new ue("TRANSITION_ID"),m9=[{provide:Ff,useFactory:function g9(n,e,t){return()=>{t.get(Lf).donePromise.then(()=>{const r=Fi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[ZO,Bn,Ln],multi:!0}];let _9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const sp=new ue("EventManagerPlugins");let op=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ne(sp),ne(dt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class eN{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Fi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let tN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Nc=(()=>{class n extends tN{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(nN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nN))}}return n.\u0275fac=function(t){return new(t||n)(ne(Bn))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function nN(n){Fi().remove(n)}const _w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vw=/%COMP%/g;function ap(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ap(n,i,t):(i=i.replace(vw,n),t.push(i))}return t}function sN(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let up=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ww(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case oi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new C9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case oi.ShadowDom:return new D9(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ap(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ne(op),ne(Nc),ne(Sc))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class ww{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_w[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(aN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=_w[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=_w[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,sN(r)):this.eventManager.addEventListener(e,t,sN(r))}}function aN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class C9 extends ww{constructor(e,t,r,i){super(e),this.component=r;const s=ap(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function b9(n){return"_ngcontent-%COMP%".replace(vw,n)}(i+"-"+r.id),this.hostAttr=function E9(n){return"_nghost-%COMP%".replace(vw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class D9 extends ww{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ap(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let T9=(()=>{class n extends eN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ne(Bn))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const uN=["alt","control","meta","shift"],S9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let x9=(()=>{class n extends eN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),uN.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=S9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uN.forEach(o=>{o!==i&&(0,A9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ne(Bn))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const cN=[{provide:Vf,useValue:"browser"},{provide:XR,useValue:function M9(){yw.makeCurrent()},multi:!0},{provide:Bn,useFactory:function R9(){return function Aq(n){e_=n}(document),document},deps:[]}],O9=lO(m8,"browser",cN),dN=new ue(""),hN=[{provide:Uf,useClass:class y9{addToWindow(e){at.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(r=>{const i=at.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Fi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:sO,useClass:Gv,deps:[dt,qv,Uf]},{provide:Gv,useClass:Gv,deps:[dt,qv,Uf]}],fN=[{provide:c_,useValue:"root"},{provide:hu,useFactory:function k9(){return new hu},deps:[]},{provide:sp,useClass:T9,multi:!0,deps:[Bn,dt,Vf]},{provide:sp,useClass:x9,multi:!0,deps:[Bn]},{provide:up,useClass:up,deps:[op,Nc,Sc]},{provide:lc,useExisting:up},{provide:tN,useExisting:Nc},{provide:Nc,useClass:Nc,deps:[Bn]},{provide:op,useClass:op,deps:[sp,dt]},{provide:class KK{},useClass:_9,deps:[]},[]];let pN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Sc,useValue:t.appId},{provide:ZO,useExisting:Sc},m9]}}}return n.\u0275fac=function(t){return new(t||n)(ne(dN,12))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({providers:[...fN,...hN],imports:[jK,y8]}),n})(),gN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ne(Bn))},n.\u0275prov=ge({token:n,factory:function(t){let r=null;return r=t?new t:function P9(){return new gN(ne(Bn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class _N{}const ms="*";function Ou(n,e){return{type:7,name:n,definitions:e,options:{}}}function Li(n,e=null){return{type:4,styles:e,timings:n}}function vN(n,e=null){return{type:2,steps:n,options:e}}function un(n){return{type:6,styles:n,offset:null}}function Vi(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wN(n){Promise.resolve(null).then(n)}class Pc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?wN(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function EN(n){return new F(3e3,!1)}function CQ(){return typeof window<"u"&&typeof window.document<"u"}function Cw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ks(n){switch(n.length){case 0:return new Pc;case 1:return n[0];default:return new bN(n)}}function IN(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(c=>{const d=c.get("offset"),h=d==u,f=h&&l||new Map;c.forEach((p,g)=>{let I=g,x=p;if("offset"!==g)switch(I=e.normalizePropertyName(I,o),x){case"!":x=i.get(g);break;case ms:x=s.get(g);break;default:x=e.normalizeStyleValue(g,I,x,o)}f.set(I,x)}),h||a.push(f),l=f,u=d}),o.length)throw function hQ(n){return new F(3502,!1)}();return a}function Dw(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Tw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Tw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Tw(t,"destroy",n)))}}function Tw(n,e,t){const s=Sw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function Sw(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Nr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function CN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Aw=(n,e)=>!1,DN=(n,e,t)=>[],TN=null;function xw(n){const e=n.parentNode||n.host;return e===TN?null:e}(Cw()||typeof Element<"u")&&(CQ()?(TN=(()=>document.documentElement)(),Aw=(n,e)=>{for(;e;){if(e===n)return!0;e=xw(e)}return!1}):Aw=(n,e)=>n.contains(e),DN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let $o=null,SN=!1;const AN=Aw,xN=DN;let MN=(()=>{class n{validateStyleProperty(t){return function TQ(n){$o||($o=function SQ(){return typeof document<"u"?document.body:null}()||{},SN=!!$o.style&&"WebkitAppearance"in $o.style);let e=!0;return $o.style&&!function DQ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $o.style,!e&&SN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $o.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return AN(t,r)}getParentElement(t){return xw(t)}query(t,r,i){return xN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new Pc(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{}return n.NOOP=new MN,n})();const kw="ng-enter",lp="ng-leave",cp="ng-trigger",dp=".ng-trigger",RN="ng-animating",Rw=".ng-animating";function Qs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ow(parseFloat(e[1]),e[2])}function Ow(n,e){return"s"===e?1e3*n:n}function hp(n,e,t){return n.hasOwnProperty("duration")?n:function MQ(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(EN()),{duration:0,delay:0,easing:""};i=Ow(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=Ow(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function G9(){return new F(3100,!1)}()),a=!0),s<0&&(e.push(function q9(){return new F(3101,!1)}()),a=!0),a&&e.splice(u,0,EN())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Fc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ON(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ys(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function PN(n,e,t){return t?e+":"+t+";":""}function FN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=PN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PN(0,NQ(t),n.style[t]));n.setAttribute("style",e)}function Ui(n,e,t){n.style&&(e.forEach((r,i)=>{const s=Pw(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),Cw()&&FN(n))}function Ho(n,e){n.style&&(e.forEach((t,r)=>{const i=Pw(r);n.style[i]=""}),Cw()&&FN(n))}function Lc(n){return Array.isArray(n)?1==n.length?n[0]:vN(n):n}const Nw=new RegExp("{{\\s*(.+?)\\s*}}","g");function LN(n){let e=[];if("string"==typeof n){let t;for(;t=Nw.exec(n);)e.push(t[1]);Nw.lastIndex=0}return e}function fp(n,e,t){const r=n.toString(),i=r.replace(Nw,(s,o)=>{let a=e[o];return null==a&&(t.push(function W9(n){return new F(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function pp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const OQ=/-+([a-z0-9])/g;function Pw(n){return n.replace(OQ,(...e)=>e[1].toUpperCase())}function NQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function K9(n){return new F(3004,!1)}()}}function VN(n,e){return window.getComputedStyle(n)[e]}function BQ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function jQ(n,e,t){if(":"==n[0]){const u=function $Q(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function uQ(n){return new F(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function aQ(n){return new F(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(UN(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(UN(o,i))}(r,t,e)):t.push(n),t}const _p=new Set(["true","1"]),vp=new Set(["false","0"]);function UN(n,e){const t=_p.has(n)||vp.has(n),r=_p.has(e)||vp.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?_p.has(n):vp.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?_p.has(e):vp.has(e)),o&&a}}const HQ=new RegExp("s*:selfs*,?","g");function Fw(n,e,t,r){return new GQ(n).build(e,t,r)}class GQ{constructor(e){this._driver=e}build(e,t,r){const i=new WQ(t);return this._resetContextStyleTimingState(i),Pr(this,Lc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Y9(){return new F(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function J9(){return new F(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{LN(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(pp(s.values()),t.errors.push(function X9(n,e){return new F(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Pr(this,Lc(e.animation),t);return{type:1,matchers:BQ(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Go(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Pr(this,r,t)),options:Go(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Pr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Go(e.options)}}visitAnimate(e,t){const r=function QQ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Lw(hp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Lw(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=hp(t,e);return Lw(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:un({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=un(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ms?r.push(a):t.errors.push(new F(3002,!1)):r.push(ON(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function eQ(n,e,t,r,i){return new F(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function RQ(n,e,t){const r=e.params||{},i=LN(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function z9(n){return new F(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tQ(){return new F(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(x=>{const O=this._makeStyleAst(x,t);let T=null!=O.offset?O.offset:function KQ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(O.styles),N=0;return null!=T&&(s++,N=O.offset=T),u=u||N<0||N>1,a=a||N<l,l=N,o.push(N),O});u&&t.errors.push(function nQ(){return new F(3012,!1)}()),a&&t.errors.push(function rQ(){return new F(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function iQ(){return new F(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,I=g.duration;return c.forEach((x,O)=>{const T=h>0?O==f?1:h*O:o[O],N=T*I;t.currentTime=p+g.delay+N,g.duration=N,this._validateStyleAst(x,t),x.offset=T,r.styles.push(x)}),r}visitReference(e,t){return{type:8,animation:Pr(this,Lc(e.animation),t),options:Go(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Go(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Go(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function qQ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(HQ,"")),n=n.replace(/@\*/g,dp).replace(/@\w+/g,t=>dp+"-"+t.slice(1)).replace(/:animating/g,Rw),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Nr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Pr(this,Lc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Go(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function sQ(){return new F(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:hp(e.timings,t.errors,!0);return{type:12,animation:Pr(this,Lc(e.animation),t),timings:r,options:null}}}class WQ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Go(n){return n?(n=Fc(n)).params&&(n.params=function zQ(n){return n?Fc(n):null}(n.params)):n={},n}function Lw(n,e,t){return{duration:n,delay:e,easing:t}}function Vw(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class wp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const XQ=new RegExp(":enter","g"),eY=new RegExp(":leave","g");function Uw(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new tY).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class tY{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new wp;const d=new Bw(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?Qs(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),Pr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const I=f[g];if(I.element===t){p=I;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[Vw(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Qs(r.duration):null,a=null!=r.delay?Qs(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Pr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bp);const o=Qs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Pr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Qs(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Pr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return hp(t.params?fp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Qs(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bp);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),Pr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;Pr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const bp={};class Bw{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ep(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Qs(r.duration)),null!=r.delay&&(i.delay=Qs(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=fp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Bw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=bp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new nY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(XQ,"."+this._enterClassName)).replace(eY,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function oQ(n){return new F(3014,!1)}()),a}}class Ep{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ep(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ms),this._currentKeyframe.set(t,ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function rY(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ms)}else Ys(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=fp(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ms),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Ys(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===ms&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?pp(e.values()):[],o=t.size?pp(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return Vw(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class nY extends Ep{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Ys(e[0]);u.set("offset",0),s.push(u);const l=Ys(e[0]);l.set("offset",$N(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=Ys(e[d]);const f=h.get("offset");h.set("offset",$N((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return Vw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function $N(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class jw{}const iY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sY extends jw{normalizePropertyName(e,t){return Pw(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(iY.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Q9(n,e){return new F(3005,!1)}())}return o+s}}function HN(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const $w={};class GN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function oY(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||$w,p=this.buildStyles(r,a&&a.params||$w,d),g=u&&u.params||$w,I=this.buildStyles(i,g,d),x=new Set,O=new Map,T=new Map,N="void"===i,z={params:aY(g,h),delay:this.ast.options?.delay},Q=c?[]:Uw(e,t,this.ast.animation,s,o,p,I,z,l,d);let Ie=0;if(Q.forEach(Lt=>{Ie=Math.max(Lt.duration+Lt.delay,Ie)}),d.length)return HN(t,this._triggerName,r,i,N,p,I,[],[],O,T,Ie,d);Q.forEach(Lt=>{const cr=Lt.element,Nl=Nr(O,cr,new Set);Lt.preStyleProps.forEach(Ci=>Nl.add(Ci));const Ls=Nr(T,cr,new Set);Lt.postStyleProps.forEach(Ci=>Ls.add(Ci)),cr!==t&&x.add(cr)});const ut=pp(x.values());return HN(t,this._triggerName,r,i,N,p,I,Q,ut,O,T,Ie)}}function aY(n,e){const t=Fc(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class uY{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Fc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=fp(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(u,o)})}),r}}class cY{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new uY(i.style,i.options&&i.options.params||{},r))}),qN(this.states,"true","1"),qN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GN(e,i,this.states))}),this.fallbackTransition=function dY(n,e,t){return new GN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function qN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const hY=new wp;class fY{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=Fw(this._driver,t,r,[]);if(r.length)throw function fQ(n){return new F(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=IN(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Uw(this._driver,t,s,kw,lp,new Map,new Map,r,hY,i),o.forEach(c=>{const d=Nr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function pQ(){return new F(3300,!1)}()),o=[]),i.length)throw function gQ(n){return new F(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,ms))})});const l=Ks(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function mQ(n){return new F(3301,!1)}();return t}listen(e,t,r,i){const s=Sw(t,"","","");return Dw(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const zN="ng-animate-queued",Hw="ng-animate-disabled",_Y=[],WN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class Gw{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function IY(n){return n??null}(r?e.value:e),r){const s=Fc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Vc="void",qw=new Gw(Vc);class wY{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function yQ(n,e){return new F(3302,!1)}();if(null==r||0==r.length)throw function _Q(n){return new F(3303,!1)}();if(!function CY(n){return"start"==n||"done"==n}(r))throw function vQ(n,e){return new F(3400,!1)}();const s=Nr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Nr(this._engine.statesByElement,e,new Map);return a.has(t)||(Zr(e,cp),Zr(e,cp+"-"+t),a.set(t,qw)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function wQ(n){return new F(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new zw(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Zr(e,cp),Zr(e,cp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new Gw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=qw),l.value!==Vc&&u.value===l.value){if(!function SY(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],I=s.matchStyles(u.value,u.params,g),x=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ho(e,I),Ui(e,x)})}return}const h=Nr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Zr(e,zN),o.onStart(()=>{Nu(e,zN)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const I=this._engine.playersByElement.get(e);if(I){let x=I.indexOf(o);x>=0&&I.splice(x,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,dp,!0);r.forEach(i=>{if(i[Xr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Vc,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ks(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||qw,c=new Gw(Vc),d=new zw(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xr];(!s||s===WN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Zr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=Sw(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,Dw(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class bY{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new wY(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Ip(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ip(t))return;const s=t[Xr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zr(e,Hw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Nu(e,Hw))}removeNode(e,t,r,i){if(Ip(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Xr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ip(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,dp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Rw,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ks(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xr];if(t&&t.setForRemoval){if(e[Xr]=WN,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Hw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ks(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function bQ(n){return new F(3402,!1)}()}_flushAnimations(e,t){const r=new wp,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(ie=>{c.add(ie);const de=this.driver.query(ie,".ng-animate-queued",!0);for(let ve=0;ve<de.length;ve++)c.add(de[ve])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=YN(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((ie,de)=>{const ve=kw+g++;p.set(de,ve),ie.forEach(We=>Zr(We,ve))});const I=[],x=new Set,O=new Set;for(let ie=0;ie<this.collectedLeaveElements.length;ie++){const de=this.collectedLeaveElements[ie],ve=de[Xr];ve&&ve.setForRemoval&&(I.push(de),x.add(de),ve.hasAnimation?this.driver.query(de,".ng-star-inserted",!0).forEach(We=>x.add(We)):O.add(de))}const T=new Map,N=YN(h,Array.from(x));N.forEach((ie,de)=>{const ve=lp+g++;T.set(de,ve),ie.forEach(We=>Zr(We,ve))}),e.push(()=>{f.forEach((ie,de)=>{const ve=p.get(de);ie.forEach(We=>Nu(We,ve))}),N.forEach((ie,de)=>{const ve=T.get(de);ie.forEach(We=>Nu(We,ve))}),I.forEach(ie=>{this.processLeaveNode(ie)})});const z=[],Q=[];for(let ie=this._namespaceList.length-1;ie>=0;ie--)this._namespaceList[ie].drainQueuedTransitions(t).forEach(ve=>{const We=ve.player,_n=ve.element;if(z.push(We),this.collectedEnterElements.length){const zn=_n[Xr];if(zn&&zn.setForMove){if(zn.previousTriggersValues&&zn.previousTriggersValues.has(ve.triggerName)){const $a=zn.previousTriggersValues.get(ve.triggerName),ni=this.statesByElement.get(ve.element);if(ni&&ni.has(ve.triggerName)){const fy=ni.get(ve.triggerName);fy.value=$a,ni.set(ve.triggerName,fy)}}return void We.destroy()}}const Xi=!d||!this.driver.containsElement(d,_n),$r=T.get(_n),To=p.get(_n),Ct=this._buildInstruction(ve,r,To,$r,Xi);if(Ct.errors&&Ct.errors.length)return void Q.push(Ct);if(Xi)return We.onStart(()=>Ho(_n,Ct.fromStyles)),We.onDestroy(()=>Ui(_n,Ct.toStyles)),void i.push(We);if(ve.isFallbackTransition)return We.onStart(()=>Ho(_n,Ct.fromStyles)),We.onDestroy(()=>Ui(_n,Ct.toStyles)),void i.push(We);const EH=[];Ct.timelines.forEach(zn=>{zn.stretchStartingKeyframe=!0,this.disabledNodes.has(zn.element)||EH.push(zn)}),Ct.timelines=EH,r.append(_n,Ct.timelines),o.push({instruction:Ct,player:We,element:_n}),Ct.queriedElements.forEach(zn=>Nr(a,zn,[]).push(We)),Ct.preStyleProps.forEach((zn,$a)=>{if(zn.size){let ni=u.get($a);ni||u.set($a,ni=new Set),zn.forEach((fy,vA)=>ni.add(vA))}}),Ct.postStyleProps.forEach((zn,$a)=>{let ni=l.get($a);ni||l.set($a,ni=new Set),zn.forEach((fy,vA)=>ni.add(vA))})});if(Q.length){const ie=[];Q.forEach(de=>{ie.push(function EQ(n,e){return new F(3505,!1)}())}),z.forEach(de=>de.destroy()),this.reportError(ie)}const Ie=new Map,ut=new Map;o.forEach(ie=>{const de=ie.element;r.has(de)&&(ut.set(de,de),this._beforeAnimationBuild(ie.player.namespaceId,ie.instruction,Ie))}),i.forEach(ie=>{const de=ie.element;this._getPreviousPlayers(de,!1,ie.namespaceId,ie.triggerName,null).forEach(We=>{Nr(Ie,de,[]).push(We),We.destroy()})});const Lt=I.filter(ie=>XN(ie,u,l)),cr=new Map;QN(cr,this.driver,O,l,ms).forEach(ie=>{XN(ie,u,l)&&Lt.push(ie)});const Ls=new Map;f.forEach((ie,de)=>{QN(Ls,this.driver,new Set(ie),u,"!")}),Lt.forEach(ie=>{const de=cr.get(ie),ve=Ls.get(ie);cr.set(ie,new Map([...Array.from(de?.entries()??[]),...Array.from(ve?.entries()??[])]))});const Ci=[],Pl=[],Fl={};o.forEach(ie=>{const{element:de,player:ve,instruction:We}=ie;if(r.has(de)){if(c.has(de))return ve.onDestroy(()=>Ui(de,We.toStyles)),ve.disabled=!0,ve.overrideTotalTime(We.totalTime),void i.push(ve);let _n=Fl;if(ut.size>1){let $r=de;const To=[];for(;$r=$r.parentNode;){const Ct=ut.get($r);if(Ct){_n=Ct;break}To.push($r)}To.forEach(Ct=>ut.set(Ct,_n))}const Xi=this._buildAnimation(ve.namespaceId,We,Ie,s,Ls,cr);if(ve.setRealPlayer(Xi),_n===Fl)Ci.push(ve);else{const $r=this.playersByElement.get(_n);$r&&$r.length&&(ve.parentPlayer=Ks($r)),i.push(ve)}}else Ho(de,We.fromStyles),ve.onDestroy(()=>Ui(de,We.toStyles)),Pl.push(ve),c.has(de)&&i.push(ve)}),Pl.forEach(ie=>{const de=s.get(ie.element);if(de&&de.length){const ve=Ks(de);ie.setRealPlayer(ve)}}),i.forEach(ie=>{ie.parentPlayer?ie.syncPlayerEvents(ie.parentPlayer):ie.destroy()});for(let ie=0;ie<I.length;ie++){const de=I[ie],ve=de[Xr];if(Nu(de,lp),ve&&ve.hasAnimation)continue;let We=[];if(a.size){let Xi=a.get(de);Xi&&Xi.length&&We.push(...Xi);let $r=this.driver.query(de,Rw,!0);for(let To=0;To<$r.length;To++){let Ct=a.get($r[To]);Ct&&Ct.length&&We.push(...Ct)}}const _n=We.filter(Xi=>!Xi.destroyed);_n.length?DY(this,de,_n):this.processLeaveNode(de)}return I.length=0,Ci.forEach(ie=>{this.players.push(ie),ie.onDone(()=>{ie.destroy();const de=this.players.indexOf(ie);this.players.splice(de,1)}),ie.play()}),Ci}elementContainsData(e,t){let r=!1;const i=t[Xr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Vc;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=Nr(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ho(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const I=g[Xr];if(I&&I.removedBeforeQueried)return new Pc(p.duration,p.delay);const x=g!==u,O=function TY(n){const e=[];return JN(n,e),e}((r.get(g)||_Y).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===g),T=s.get(g),N=o.get(g),z=IN(0,this._normalizer,0,p.keyframes,T,N),Q=this._buildPlayer(p,z,O);if(p.subTimeline&&i&&d.add(g),x){const Ie=new zw(e,a,g);Ie.setRealPlayer(Q),l.push(Ie)}return Q});l.forEach(p=>{Nr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function EY(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Zr(p,RN));const f=Ks(h);return f.onDestroy(()=>{c.forEach(p=>Nu(p,RN)),Ui(u,t.toStyles)}),d.forEach(p=>{Nr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Pc(e.duration,e.delay)}}class zw{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Pc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Dw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Nr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ip(n){return n&&1===n.nodeType}function KN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function QN(n,e,t,r,i){const s=[];t.forEach(u=>s.push(KN(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[Xr]=vY,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>KN(u,s[a++])),o}function YN(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Zr(n,e){n.classList?.add(e)}function Nu(n,e){n.classList?.remove(e)}function DY(n,e,t){Ks(t).onDone(()=>n.processLeaveNode(e))}function JN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof bN?JN(r.players,e):e.push(r)}}function XN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Cp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new bY(e,t,r),this._timelineEngine=new fY(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=Fw(this._driver,s,u,[]);if(u.length)throw function dQ(n,e){return new F(3404,!1)}();a=function lY(n,e,t){return new cY(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=CN(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=CN(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xY=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ho(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ww(n){let e=null;return n.forEach((t,r)=>{(function MY(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ZN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:VN(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class kY{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return AN(e,t)}getParentElement(e){return xw(e)}query(e,t,r){return xN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof ZN);(function PQ(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function kQ(n){return n.length?n[0]instanceof Map?n:n.map(e=>ON(e)):[]}(t).map(f=>Ys(f));d=function FQ(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,VN(n,a)))}}return e}(e,d,l);const h=function AY(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ww(e[0]),e.length>1&&(r=Ww(e[e.length-1]))):e instanceof Map&&(t=Ww(e)),t||r?new xY(n,t,r):null}(e,d);return new ZN(e,d,u,h)}}let RY=(()=>{class n extends _N{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:oi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?vN(t):t;return eP(this._renderer,null,r,"register",[i]),new OY(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(ne(lc),ne(Bn))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class OY extends class H9{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new NY(this._id,e,t||{},this._renderer)}}class NY{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const tP="@.disabled";let PY=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new nP("",s,this.engine),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new FY(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(ne(lc),ne(Cp),ne(dt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class nP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==tP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class FY extends nP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function LY(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function VY(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let UY=(()=>{class n extends Cp{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(ne(Bn),ne(Mw),ne(jw),ne(Ac))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const rP=[{provide:_N,useClass:RY},{provide:jw,useFactory:function BY(){return new sY}},{provide:Cp,useClass:UY},{provide:lc,useFactory:function jY(n,e,t){return new PY(n,e,t)},deps:[up,Cp,dt]}],Kw=[{provide:Mw,useFactory:()=>new kY},{provide:eO,useValue:"BrowserAnimations"},...rP],iP=[{provide:Mw,useClass:MN},{provide:eO,useValue:"NoopAnimations"},...rP];let $Y=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?iP:Kw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({providers:Kw,imports:[pN]}),n})();const{isArray:HY}=Array,{getPrototypeOf:GY,prototype:qY,keys:zY}=Object;const{isArray:KY}=Array;let JP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({}),n})(),QJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({imports:[JP]}),n})(),YJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({imports:[QJ]}),n})();function fe(...n){return Vt(n,Ul(n))}class vi extends Ti{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Hc=q(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gF(...n){const e=Ul(n),t=function LA(n){return A(my(n))?n.pop():void 0}(n),{args:r,keys:i}=function sP(n){if(1===n.length){const e=n[0];if(HY(e))return{args:e,keys:null};if(function WY(n){return n&&"object"==typeof n&&GY(n)===qY}(e)){const t=zY(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Vt([],e);const s=new wt(function XJ(n,e,t=Wt){return r=>{mF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)mF(e,()=>{const l=Vt(n[u],e);let c=!1;l.subscribe(Kt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function aP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,o):Wt));return t?s.pipe(function oP(n){return je(e=>function QY(n,e){return KY(e)?n(...e):n(e)}(n,e))}(t)):s}function mF(n,e,t){n?Zi(t,n,e):e()}function gb(...n){return function ZJ(){return Ha(1)}()(Vt(n,Ul(n)))}function yF(n){return new wt(e=>{ii(n()).subscribe(e)})}function Gc(n,e){const t=A(n)?n:()=>n,r=i=>i.error(t());return new wt(e?i=>e.schedule(r,0,i):r)}function mb(){return on((n,e)=>{let t=null;n._refCount++;const r=Kt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _F extends wt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,IA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new M;const t=this.getSubject();e.add(this.source.subscribe(Kt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=M.EMPTY)}return e}refCount(){return mb()(this)}}function ji(n,e){return on((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Kt(r,u=>{i?.unsubscribe();let l=0;const c=s++;ii(n(u,c)).subscribe(i=Kt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function qc(n){return n<=0?()=>es:on((e,t)=>{let r=0;e.subscribe(Kt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function eo(n,e){return on((t,r)=>{let i=0;t.subscribe(Kt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Pp(n){return on((e,t)=>{let r=!1;e.subscribe(Kt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function vF(n=tX){return on((e,t)=>{let r=!1;e.subscribe(Kt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function tX(){return new Hc}function to(n,e){const t=arguments.length>=2;return r=>r.pipe(n?eo((i,s)=>n(i,s,r)):Wt,qc(1),t?Pp(e):vF(()=>new Hc))}function Wo(n,e){return A(e)?vn(n,e,1):vn(n,1)}function wn(n,e,t){const r=A(n)||e||t?{next:n,error:e,complete:t}:n;return r?on((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Kt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Wt}function no(n){return on((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Kt(t,void 0,void 0,o=>{s=ii(n(o,no(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function nX(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(Kt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function wF(n,e){return on(nX(n,e,arguments.length>=2,!0))}function yb(n){return n<=0?()=>es:on((e,t)=>{let r=[];e.subscribe(Kt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function bF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?eo((i,s)=>n(i,s,r)):Wt,yb(1),t?Pp(e):vF(()=>new Hc))}function _b(n){return on((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Fe="primary",zc=Symbol("RouteTitle");class sX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fu(n){return new sX(n)}function oX(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!EF(n[i],e[i]))return!1;return!0}function EF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function IF(n){return Array.prototype.concat.apply([],n)}function CF(n){return n.length>0?n[n.length-1]:null}function bn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ro(n){return pv(n)?n:_c(n)?Vt(Promise.resolve(n)):fe(n)}const lX={exact:function SF(n,e,t){if(!Qo(n.segments,e.segments)||!Fp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!SF(n.children[r],e.children[r],t))return!1;return!0},subset:AF},DF={exact:function cX(n,e){return $i(n,e)},subset:function dX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EF(n[t],e[t]))},ignored:()=>!0};function TF(n,e,t){return lX[t.paths](n.root,e.root,t.matrixParams)&&DF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function AF(n,e,t){return xF(n,e,e.segments,t)}function xF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Qo(i,t)||e.hasChildren()||!Fp(i,t,r))}if(n.segments.length===t.length){if(!Qo(n.segments,t)||!Fp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!AF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Qo(n.segments,i)&&Fp(n.segments,i,r)&&n.children[Fe])&&xF(n.children[Fe],e,s,r)}}function Fp(n,e,t){return e.every((r,i)=>DF[t](n[i].parameters,r.parameters))}class Ko{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return pX.serialize(this)}}class Ue{constructor(e,t){this.segments=e,this.children=t,this.parent=null,bn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lp(this)}}class Wc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fu(this.parameters)),this._parameterMap}toString(){return OF(this)}}function Qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let MF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(){return new wb},providedIn:"root"}),n})();class wb{parse(e){const t=new IX(e);return new Ko(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Kc(e.root,!0)}`,r=function yX(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Vp(t)}=${Vp(i)}`).join("&"):`${Vp(t)}=${Vp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const pX=new wb;function Lp(n){return n.segments.map(e=>OF(e)).join("/")}function Kc(n,e){if(!n.hasChildren())return Lp(n);if(e){const t=n.children[Fe]?Kc(n.children[Fe],!1):"",r=[];return bn(n.children,(i,s)=>{s!==Fe&&r.push(`${s}:${Kc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fX(n,e){let t=[];return bn(n.children,(r,i)=>{i===Fe&&(t=t.concat(e(r,i)))}),bn(n.children,(r,i)=>{i!==Fe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Fe?[Kc(n.children[Fe],!1)]:[`${i}:${Kc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fe]?`${Lp(n)}/${t[0]}`:`${Lp(n)}/(${t.join("//")})`}}function kF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vp(n){return kF(n).replace(/%3B/gi,";")}function bb(n){return kF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Up(n){return decodeURIComponent(n)}function RF(n){return Up(n.replace(/\+/g,"%20"))}function OF(n){return`${bb(n.path)}${function mX(n){return Object.keys(n).map(e=>`;${bb(e)}=${bb(n[e])}`).join("")}(n.parameters)}`}const _X=/^[^\/()?;=#]+/;function Bp(n){const e=n.match(_X);return e?e[0]:""}const vX=/^[^=?&#]+/,bX=/^[^&#]+/;class IX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Fe]=new Ue(e,t)),r}parseSegment(){const e=Bp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Wc(Up(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Bp(this.remaining);i&&(r=i,this.capture(r))}e[Up(t)]=Up(r)}parseQueryParam(e){const t=function wX(n){const e=n.match(vX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function EX(n){const e=n.match(bX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=RF(t),s=RF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new F(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Fe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Fe]:new Ue([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function Eb(n){return n.segments.length>0?new Ue([],{[Fe]:n}):n}function jp(n){const e={};for(const r of Object.keys(n.children)){const s=jp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function CX(n){if(1===n.numberOfChildren&&n.children[Fe]){const e=n.children[Fe];return new Ue(n.segments.concat(e.segments),e.children)}return n}(new Ue(n.segments,e))}function Yo(n){return n instanceof Ko}function SX(n,e,t,r,i){if(0===t.length)return Lu(e.root,e.root,e.root,r,i);const s=function FF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return bn(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new PF(t,e,r)}(t);return s.toRoot()?Lu(e.root,e.root,new Ue([],{}),r,i):function o(u){const l=function xX(n,e,t,r){if(n.isAbsolute)return new Vu(e.root,!0,0);if(-1===r)return new Vu(t,t===e.root,0);return function LF(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Vu(r,!1,i-s)}(t,r+(Qc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),c=l.processChildren?Jc(l.segmentGroup,l.index,s.commands):Cb(l.segmentGroup,l.index,s.commands);return Lu(e.root,l.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function Qc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yc(n){return"object"==typeof n&&null!=n&&n.outlets}function Lu(n,e,t,r,i){let o,s={};r&&bn(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:NF(n,e,t);const a=Eb(jp(o));return new Ko(a,s,i)}function NF(n,e,t){const r={};return bn(n.children,(i,s)=>{r[s]=i===e?t:NF(i,e,t)}),new Ue(n.segments,r)}class PF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qc(r[0]))throw new F(4003,!1);const i=r.find(Yc);if(i&&i!==CF(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cb(n,e,t){if(n||(n=new Ue([],{})),0===n.segments.length&&n.hasChildren())return Jc(n,e,t);const r=function kX(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Yc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!UF(u,l,o))return s;r+=2}else{if(!UF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ue(n.segments.slice(0,r.pathIndex),{});return s.children[Fe]=new Ue(n.segments.slice(r.pathIndex),n.children),Jc(s,0,i)}return r.match&&0===i.length?new Ue(n.segments,{}):r.match&&!n.hasChildren()?Db(n,e,t):r.match?Jc(n,0,i):Db(n,e,t)}function Jc(n,e,t){if(0===t.length)return new Ue(n.segments,{});{const r=function MX(n){return Yc(n[0])?n[0].outlets:{[Fe]:n}}(t),i={};return bn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Cb(n.children[o],e,s))}),bn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ue(n.segments,i)}}function Db(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Yc(s)){const u=RX(s.outlets);return new Ue(r,u)}if(0===i&&Qc(t[0])){r.push(new Wc(n.segments[e].path,VF(t[0]))),i++;continue}const o=Yc(s)?s.outlets[Fe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Qc(a)?(r.push(new Wc(o,VF(a))),i+=2):(r.push(new Wc(o,{})),i++)}return new Ue(r,{})}function RX(n){const e={};return bn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Db(new Ue([],{}),0,t))}),e}function VF(n){const e={};return bn(n,(t,r)=>e[r]=`${t}`),e}function UF(n,e,t){return n==t.path&&$i(e,t.parameters)}class ys{constructor(e,t){this.id=e,this.url=t}}class Tb extends ys{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jo extends ys{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $p extends ys{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class BF extends ys{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OX extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NX extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PX extends ys{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FX extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LX extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $X{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $F{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ab(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ab(e,this._root).map(t=>t.value)}}function Sb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sb(n,t);if(r)return r}return null}function Ab(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ab(n,t);if(r.length)return r.unshift(e),r}return[]}class _s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HF extends $F{constructor(e,t){super(e),this.snapshot=t,xb(this,e)}toString(){return this.snapshot.toString()}}function GF(n,e){const t=function qX(n,e){const o=new Hp([],{},{},"",{},Fe,e,null,n.root,-1,{});return new zF("",new _s(o,[]))}(n,e),r=new vi([new Wc("",{})]),i=new vi({}),s=new vi({}),o=new vi({}),a=new vi(""),u=new io(r,i,o,a,s,Fe,e,t.root);return u.snapshot=t.root,new HF(new _s(u,[]),t)}class io{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(je(l=>l[zc]))??fe(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(e=>Fu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(e=>Fu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function zX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hp{constructor(e,t,r,i,s,o,a,u,l,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[zc],this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zF extends $F{constructor(e,t){super(t),this.url=e,xb(this,t)}toString(){return WF(this._root)}}function xb(n,e){e.value._routerState=n,e.children.forEach(t=>xb(n,t))}function WF(n){const e=n.children.length>0?` { ${n.children.map(WF).join(", ")} } `:"";return`${n.value}${e}`}function Mb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$i(e.params,t.params)||n.params.next(t.params),function aX(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kb(n,e){const t=$i(n.params,e.params)&&function hX(n,e){return Qo(n,e)&&n.every((t,r)=>$i(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kb(n.parent,e.parent))}function Xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function KX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xc(n,r,i);return Xc(n,r)})}(n,e,t);return new _s(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xc(n,a)),o}}const r=function QX(n){return new io(new vi(n.url),new vi(n.params),new vi(n.queryParams),new vi(n.fragment),new vi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Xc(n,s));return new _s(r,i)}}const Rb="ngNavigationCancelingError";function KF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function QF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Rb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function YF(n){return JF(n)&&Yo(n.url)}function JF(n){return n&&n[Rb]}class YX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zc,this.attachRef=null}}let Zc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new YX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gp=!1;let Ob=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.name=i||Fe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,Gp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,Gp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,Gp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,Gp);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new JX(t,a,i.injector);if(r&&function XX(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(L(Zc),L(gi),function Ql(n){return function JG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(fx(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Qt(),n)}("name"),L(jf),L(Hs))},n.\u0275dir=be({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class JX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===io?this.route:e===Zc?this.childContexts:this.parent.get(e,t)}}let Nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tr({type:n,selectors:[["ng-component"]],standalone:!0,features:[hR],decls:1,vars:0,template:function(t,r){1&t&&Un(0,"router-outlet")},dependencies:[Ob],encapsulation:2}),n})();function XF(n,e){return n.providers&&!n._injector&&(n._injector=Rf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fb(n){const e=n.children&&n.children.map(Fb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Fe&&(t.component=Nb),t}function ei(n){return n.outlet||Fe}function ZF(n,e){const t=n.filter(r=>ei(r)===e);return t.push(...n.filter(r=>ei(r)!==e)),t}function ed(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class rZ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Uu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),bn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Uu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new HX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Mb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Mb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ed(i.snapshot),u=a?.get(uc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class eL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qp{constructor(e,t){this.component=e,this.route=t}}function iZ(n,e,t){const r=n._root;return td(r,e?e._root:null,t,[r.value])}function Bu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function rG(n){return null!==Mh(n)}(n)?e.get(n):n:r}function td(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uu(e);return n.children.forEach(o=>{(function oZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function aZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qo(n.url,e.url)||!$i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kb(n,e)||!$i(n.queryParams,e.queryParams);default:return!kb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new eL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),td(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qp(a.outlet.component,o))}else o&&nd(e,a,i),i.canActivateChecks.push(new eL(r)),td(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),bn(s,(o,a)=>nd(o,t.getContext(a),i)),i}function nd(n,e,t){const r=Uu(n),i=n.value;bn(r,(s,o)=>{nd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new qp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function rd(n){return"function"==typeof n}function Lb(n){return n instanceof Hc||"EmptyError"===n?.name}const zp=Symbol("INITIAL_VALUE");function ju(){return ji(n=>gF(n.map(e=>e.pipe(qc(1),function eX(...n){const e=Ul(n);return on((t,r)=>{(e?gb(n,t,e):gb(n,t)).subscribe(r)})}(zp)))).pipe(je(e=>{for(const t of e)if(!0!==t){if(t===zp)return zp;if(!1===t||t instanceof Ko)return t}return!0}),eo(e=>e!==zp),qc(1)))}function tL(n){return function Vl(...n){return wA(n)}(wn(e=>{if(Yo(e))throw KF(0,e)}),je(e=>!0===e))}const Vb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nL(n,e,t,r,i){const s=Ub(n,e,t);return s.matched?function CZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?fe(i.map(o=>{const a=Bu(o,n);return ro(function fZ(n){return n&&rd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ju(),tL()):fe(!0)}(r=XF(e,r),e,t).pipe(je(o=>!0===o?s:{...Vb})):fe(s)}function Ub(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Vb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||oX)(t,n,e);if(!i)return{...Vb};const s={};bn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Wp(n,e,t,r,i="corrected"){if(t.length>0&&function SZ(n,e,t){return t.some(r=>Kp(n,e,r)&&ei(r)!==Fe)}(n,t,r)){const o=new Ue(e,function TZ(n,e,t,r){const i={};i[Fe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ei(s)!==Fe){const o=new Ue([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ei(s)]=o}return i}(n,e,r,new Ue(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function AZ(n,e,t){return t.some(r=>Kp(n,e,r))}(n,t,r)){const o=new Ue(n.segments,function DZ(n,e,t,r,i,s){const o={};for(const a of r)if(Kp(n,t,a)&&!i[ei(a)]){const u=new Ue([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[ei(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ue(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Kp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rL(n,e,t,r){return!!(ei(n)===r||r!==Fe&&Kp(e,t,n))&&("**"===n.path||Ub(e,n,t).matched)}function iL(n,e,t){return 0===e.length&&!n.children[t]}const Qp=!1;class Yp{constructor(e){this.segmentGroup=e||null}}class sL{constructor(e){this.urlTree=e}}function id(n){return Gc(new Yp(n))}function oL(n){return Gc(new sL(n))}class RZ{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Wp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ue(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Fe).pipe(je(s=>this.createUrlTree(jp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(no(s=>{if(s instanceof sL)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Yp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Fe).pipe(je(i=>this.createUrlTree(jp(i),e.queryParams,e.fragment))).pipe(no(i=>{throw i instanceof Yp?this.noMatchError(i):i}))}noMatchError(e){return new F(4002,Qp)}createUrlTree(e,t,r){const i=Eb(e);return new Ko(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(je(s=>new Ue([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Vt(i).pipe(Wo(s=>{const o=r.children[s],a=ZF(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(je(u=>({segment:u,outlet:s})))}),wF((s,o)=>(s[o.outlet]=o.segment,s),{}),bF())}expandSegment(e,t,r,i,s,o){return Vt(r).pipe(Wo(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(no(l=>{if(l instanceof Yp)return fe(null);throw l}))),to(a=>!!a),no((a,u)=>{if(Lb(a))return iL(t,i,s)?fe(new Ue([],{})):id(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return rL(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):id(t):id(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oL(s):this.lineralizeSegments(r,s).pipe(vn(o=>{const a=new Ue(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Ub(t,i,s);if(!a)return id(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?oL(d):this.lineralizeSegments(i,d).pipe(vn(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=XF(r,e),r.loadChildren?(r._loadedRoutes?fe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(je(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Ue(i,{})))):fe(new Ue(i,{}))):nL(t,r,i,e).pipe(ji(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(vn(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=Wp(t,a,u,h),g=new Ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(je(T=>new Ue(a,T)));if(0===h.length&&0===p.length)return fe(new Ue(a,{}));const I=ei(r)===s;return this.expandSegment(d,g,h,p,I?Fe:s,!0).pipe(je(O=>new Ue(a.concat(O.segments),O.children)))})):id(t)))}getChildConfig(e,t,r){return t.children?fe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?fe({routes:t._loadedRoutes,injector:t._loadedInjector}):function IZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?fe(!0):fe(i.map(o=>{const a=Bu(o,n);return ro(function lZ(n){return n&&rd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ju(),tL())}(e,t,r).pipe(vn(i=>i?this.configLoader.loadChildren(e,t).pipe(wn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function MZ(n){return Gc(QF(Qp,3))}())):fe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return fe(r);if(i.numberOfChildren>1||!i.children[Fe])return Gc(new F(4e3,Qp));i=i.children[Fe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ko(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return bn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return bn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new Ue(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new F(4001,Qp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class NZ{}class LZ{constructor(e,t,r,i,s,o,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Wp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Fe).pipe(je(t=>{if(null===t)return null;const r=new Hp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _s(r,t),s=new zF(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=qF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Vt(Object.keys(r.children)).pipe(Wo(i=>{const s=r.children[i],o=ZF(t,i);return this.processSegmentGroup(e,o,s,i)}),wF((i,s)=>i&&s?(i.push(...s),i):null),function rX(n,e=!1){return on((t,r)=>{let i=0;t.subscribe(Kt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Pp(null),bF(),je(i=>{if(null===i)return null;const s=aL(i);return function VZ(n){n.sort((e,t)=>e.value.outlet===Fe?-1:t.value.outlet===Fe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return Vt(t).pipe(Wo(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),to(o=>!!o),no(o=>{if(Lb(o))return iL(r,i,s)?fe([]):fe(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!rL(t,r,i,s))return fe(null);let o;if("**"===t.path){const a=i.length>0?CF(i).parameters:{},u=lL(r)+i.length;o=fe({snapshot:new Hp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dL(t),ei(t),t.component??t._loadedComponent??null,t,uL(r),u,hL(t),u),consumedSegments:[],remainingSegments:[]})}else o=nL(r,t,i,e).pipe(je(({matched:a,consumedSegments:u,remainingSegments:l,parameters:c})=>{if(!a)return null;const d=lL(r)+u.length;return{snapshot:new Hp(u,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dL(t),ei(t),t.component??t._loadedComponent??null,t,uL(r),d,hL(t),d),consumedSegments:u,remainingSegments:l}}));return o.pipe(ji(a=>{if(null===a)return fe(null);const{snapshot:u,consumedSegments:l,remainingSegments:c}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function UZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Wp(r,l,c,h.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(je(I=>null===I?null:[new _s(u,I)]));if(0===h.length&&0===p.length)return fe([new _s(u,[])]);const g=ei(t)===s;return this.processSegment(d,h,f,p,g?Fe:s).pipe(je(I=>null===I?null:[new _s(u,I)]))}))}}function BZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function aL(n){const e=[],t=new Set;for(const r of n){if(!BZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=aL(r.children);e.push(new _s(r.value,i))}return e.filter(r=>!t.has(r))}function uL(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lL(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function dL(n){return n.data||{}}function hL(n){return n.resolve||{}}function fL(n){return"string"==typeof n.title||null===n.title}function Bb(n){return ji(e=>{const t=n(e);return t?Vt(t).pipe(je(()=>e)):fe(e)})}let pL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Fe);return r}getResolvedTitleForRoute(t){return t.data[zc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ge({token:n,factory:function(){return kt(gL)},providedIn:"root"}),n})(),gL=(()=>{class n extends pL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ne(gN))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KZ{}class YZ extends class QZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Xp=new ue("",{providedIn:"root",factory:()=>({})}),jb=new ue("ROUTES");let $b=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return fe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ro(t.loadComponent()).pipe(wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),_b(()=>{this.componentLoaders.delete(t)})),i=new _F(r,()=>new Ti).pipe(mb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return fe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(je(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,c=!1;Array.isArray(a)?l=a:(u=a.create(t).injector,l=IF(u.get(jb,[],me.Self|me.Optional)));return{routes:l.map(Fb),injector:u}}),_b(()=>{this.childrenLoaders.delete(r)})),o=new _F(s,()=>new Ti).pipe(mb());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ro(t()).pipe(vn(r=>r instanceof cR||Array.isArray(r)?fe(r):Vt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(ne(Ln),ne(Bv))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XZ{}class ZZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function eee(n){throw n}function tee(n,e,t){return e.parse("/")}const nee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ree={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function yL(){const n=kt(MF),e=kt(Zc),t=kt(tw),r=kt(Ln),i=kt(Bv),s=kt(jb,{optional:!0})??[],o=kt(Xp,{optional:!0})??{},a=kt(gL),u=kt(pL,{optional:!0}),l=kt(XZ,{optional:!0}),c=kt(KZ,{optional:!0}),d=new Gt(null,n,e,t,r,i,IF(s));return l&&(d.urlHandlingStrategy=l),c&&(d.routeReuseStrategy=c),d.titleStrategy=u??a,function iee(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let Gt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ti,this.errorHandler=eee,this.malformedUriErrorHandler=tee,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>fe(void 0),this.urlHandlingStrategy=new ZZ,this.routeReuseStrategy=new YZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get($b),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new UX(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new VX(h)),this.ngModule=o.get(Uo),this.console=o.get(F6);const d=o.get(dt);this.isNgZoneEnabled=d instanceof dt&&dt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function uX(){return new Ko(new Ue([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GF(this.currentUrlTree,this.rootComponentType),this.transitions=new vi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(eo(i=>0!==i.id),je(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ji(i=>{let s=!1,o=!1;return fe(i).pipe(wn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ji(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return _L(a.source)&&(this.browserUrlTree=a.extractedUrl),fe(a).pipe(ji(d=>{const h=this.transitions.getValue();return r.next(new Tb(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?es:Promise.resolve(d)}),function OZ(n,e,t,r){return ji(i=>function kZ(n,e,t,r,i){return new RZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(je(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function $Z(n,e,t,r,i,s){return vn(o=>function FZ(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new LZ(n,e,t,r,i,o,a,s).recognize().pipe(ji(u=>null===u?function PZ(n){return new wt(e=>e.error(n))}(new NZ):fe(u)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(je(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),wn(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new OX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:I}=a,x=new Tb(h,this.serializeUrl(f),p,g);r.next(x);const O=GF(f,this.rootComponentType).snapshot;return fe(i={...a,targetSnapshot:O,urlAfterRedirects:f,extras:{...I,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),es}),wn(a=>{const u=new NX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),je(a=>i={...a,guards:iZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function gZ(n,e){return vn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?fe({...t,guardsResult:!0}):function mZ(n,e,t,r){return Vt(n).pipe(vn(i=>function EZ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?fe(s.map(a=>{const u=ed(e)??i,l=Bu(a,u);return ro(function hZ(n){return n&&rd(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(to())})).pipe(ju()):fe(!0)}(i.component,i.route,t,e,r)),to(i=>!0!==i,!0))}(o,r,i,n).pipe(vn(a=>a&&function uZ(n){return"boolean"==typeof n}(a)?function yZ(n,e,t,r){return Vt(e).pipe(Wo(i=>gb(function vZ(n,e){return null!==n&&e&&e(new BX(n)),fe(!0)}(i.route.parent,r),function _Z(n,e){return null!==n&&e&&e(new $X(n)),fe(!0)}(i.route,r),function bZ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function sZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>yF(()=>fe(o.guards.map(u=>{const l=ed(o.node)??t,c=Bu(u,l);return ro(function dZ(n){return n&&rd(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(to())})).pipe(ju())));return fe(s).pipe(ju())}(n,i.path,t),function wZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return fe(!0);const i=r.map(s=>yF(()=>{const o=ed(e)??t,a=Bu(s,o);return ro(function cZ(n){return n&&rd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(to())}));return fe(i).pipe(ju())}(n,i.route,t))),to(i=>!0!==i,!0))}(r,s,n,e):fe(a)),je(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),wn(a=>{if(i.guardsResult=a.guardsResult,Yo(a.guardsResult))throw KF(0,a.guardsResult);const u=new PX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),eo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Bb(a=>{if(a.guards.canActivateChecks.length)return fe(a).pipe(wn(u=>{const l=new FX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),ji(u=>{let l=!1;return fe(u).pipe(function HZ(n,e){return vn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return fe(t);let s=0;return Vt(i).pipe(Wo(o=>function GZ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!fL(i)&&(s[zc]=i.title),function qZ(n,e,t,r){const i=function zZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return fe({});const s={};return Vt(i).pipe(vn(o=>function WZ(n,e,t,r){const i=ed(e)??r,s=Bu(n,i);return ro(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(to(),wn(a=>{s[o]=a}))),yb(1),function iX(n){return je(()=>n)}(s),no(o=>Lb(o)?es:Gc(o)))}(s,n,e,r).pipe(je(o=>(n._resolvedData=o,n.data=qF(n,t).resolve,i&&fL(i)&&(n.data[zc]=i.title),null)))}(o.route,r,n,e)),wn(()=>s++),yb(1),vn(o=>s===i.length?fe(t):es))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),wn(u=>{const l=new LX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),Bb(a=>{const u=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(wn(d=>{l.component=d}),je(()=>{})));for(const d of l.children)c.push(...u(d));return c};return gF(u(a.targetSnapshot.root)).pipe(Pp(),qc(1))}),Bb(()=>this.afterPreactivation()),je(a=>{const u=function WX(n,e,t){const r=Xc(n,e._root,t?t._root:void 0);return new HF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),wn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>je(r=>(new rZ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),wn({next(){s=!0},complete(){s=!0}}),_b(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),no(a=>{if(o=!0,JF(a)){YF(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new $p(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),YF(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_L(i.source)};this.scheduleNavigation(l,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new BF(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return es}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Fb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),SX(l,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Yo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function see(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new F(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...nee}:!1===r?{...ree}:r,Yo(t))return TF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return TF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Jo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((h,f)=>{a=h,u=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new $p(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){B_()},n.\u0275prov=ge({token:n,factory:function(){return yL()},providedIn:"root"}),n})();function _L(n){return"imperative"!==n}let eg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ti,this.subscription=t.events.subscribe(s=>{s instanceof Jo&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=fs(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=fs(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=fs(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){return!!(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(L(Gt),L(io),L(jo))},n.\u0275dir=be({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&ce("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Oi("target",r.target)("href",r.href,af)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[zr]}),n})();class vL{}let uee=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(eo(t=>t instanceof Jo),Wo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Rf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Vt(i).pipe(Ha())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):fe(null);const s=i.pipe(vn(o=>null===o?fe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Vt([s,this.loader.loadComponent(r)]).pipe(Ha()):s})}}return n.\u0275fac=function(t){return new(t||n)(ne(Gt),ne(Bv),ne(Hs),ne(vL),ne($b))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gb=new ue("");let wL=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new jF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){B_()},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function $u(n,e){return{\u0275kind:n,\u0275providers:e}}function qb(n){return[{provide:jb,multi:!0,useValue:n}]}function EL(){const n=kt(Ln);return e=>{const t=n.get(Ac);if(e!==t.components[0])return;const r=n.get(Gt),i=n.get(IL);1===n.get(zb)&&r.initialNavigation(),n.get(CL,null,me.Optional)?.setUpPreloading(),n.get(Gb,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const IL=new ue("",{factory:()=>new Ti}),zb=new ue("",{providedIn:"root",factory:()=>1});const CL=new ue("");function hee(n){return $u(0,[{provide:CL,useExisting:uee},{provide:vL,useExisting:n}])}const DL=new ue("ROUTER_FORROOT_GUARD"),fee=[tw,{provide:MF,useClass:wb},{provide:Gt,useFactory:yL},Zc,{provide:io,useFactory:function bL(n){return n.routerState.root},deps:[Gt]},$b];function pee(){return new aO("Router",Gt)}let TL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[fee,[],qb(t),{provide:DL,useFactory:_ee,deps:[[Gt,new Bt,new nc]]},{provide:Xp,useValue:r||{}},r?.useHash?{provide:jo,useClass:C8}:{provide:jo,useClass:RO},{provide:Gb,useFactory:()=>{const n=kt(Gt),e=kt(qK),t=kt(Xp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new wL(n,e,t)}},r?.preloadingStrategy?hee(r.preloadingStrategy).\u0275providers:[],{provide:aO,multi:!0,useFactory:pee},r?.initialNavigation?vee(r):[],[{provide:SL,useFactory:EL},{provide:ZR,multi:!0,useExisting:SL}]]}}static forChild(t){return{ngModule:n,providers:[qb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(ne(DL,8))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({imports:[Nb]}),n})();function _ee(n){return"guarded"}function vee(n){return["disabled"===n.initialNavigation?$u(3,[{provide:Ff,multi:!0,useFactory:()=>{const e=kt(Gt);return()=>{e.setUpLocationChangeListener()}}},{provide:zb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$u(2,[{provide:zb,useValue:0},{provide:Ff,multi:!0,deps:[Ln],useFactory:e=>{const t=e.get(E8,Promise.resolve(null));let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(Gt),a=e.get(IL);(function i(s){e.get(Gt).events.pipe(eo(a=>a instanceof Jo||a instanceof $p||a instanceof BF),je(a=>a instanceof Jo||a instanceof $p&&(0===a.code||1===a.code)&&null),eo(a=>null!==a),qc(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?fe(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const SL=new ue("");function AL(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){AL(s,r,i,o,a,"next",u)}function a(u){AL(s,r,i,o,a,"throw",u)}o(void 0)})}}function xL(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const s=new ri({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Hc)}});n.subscribe(s)})}const ML=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ML(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},rg=function(n){return function(n){const e=ML(n);return Kb.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class ig{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function ln(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function RL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function sg(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function OL(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function NL(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Xo(){return"object"==typeof indexedDB}function sd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Yb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hi.prototype.create)}}class Hi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Mee(n,e){return n.replace(kee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Fr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const kee=/\{\$([^}]+)}/g;function ag(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(FL(s)&&FL(o)){if(!ag(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function FL(n){return null!==n&&"object"==typeof n}function od(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Nee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Pee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Jb),void 0===i.error&&(i.error=Jb),void 0===i.complete&&(i.complete=Jb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jb(){}function Zb(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function nr(n){return n&&n._delegate?n._delegate:n}class En{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zo="[DEFAULT]";class jee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ig;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Hee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Zo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const eE=[];var He=(()=>{return(n=He||(He={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",He;var n})();const LL={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},qee=He.INFO,zee={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Wee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=zee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Hu{constructor(e){this.name=e,this._logLevel=qee,this._logHandler=Wee,this._userLogHandler=null,eE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?LL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}let VL,UL;const BL=new WeakMap,tE=new WeakMap,jL=new WeakMap,nE=new WeakMap,rE=new WeakMap;let iE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return tE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||jL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function tte(n){return"function"==typeof n?function ete(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yee(){return UL||(UL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(sE(this),e),vs(BL.get(this))}:function(...e){return vs(n.apply(sE(this),e))}:function(e,...t){const r=n.call(sE(this),e,...t);return jL.set(r,e.sort?e.sort():[e]),vs(r)}}(n):(n instanceof IDBTransaction&&function Xee(n){if(tE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});tE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Qee(){return VL||(VL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,iE):n)}function vs(n){if(n instanceof IDBRequest)return function Jee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(vs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&BL.set(t,n)}).catch(()=>{}),rE.set(e,n),e}(n);if(nE.has(n))return nE.get(n);const e=tte(n);return e!==n&&(nE.set(n,e),rE.set(e,n)),e}const sE=n=>rE.get(n);function ug(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vs(o.result),u.oldVersion,u.newVersion,vs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function oE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),vs(t).then(()=>{})}const nte=["get","getKey","getAll","getAllKeys","count"],rte=["put","add","delete","clear"],aE=new Map;function $L(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(aE.get(e))return aE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=rte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!nte.includes(t))return;const s=function(){var o=y(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aE.set(e,s),s}!function Zee(n){iE=n(iE)}(n=>({...n,get:(e,t,r)=>$L(e,t)||n.get(e,t,r),has:(e,t)=>!!$L(e,t)||n.has(e,t)}));class ite{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ste(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const uE="@firebase/app",ea=new Hu("@firebase/app"),lE="[DEFAULT]",kte={[uE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ta=new Map,lg=new Map;function Rte(n,e){try{n.container.addComponent(e)}catch(t){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hn(n){const e=n.name;if(lg.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,n);for(const t of ta.values())Rte(t,n);return!0}function na(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const so=new Hi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}const ra="9.9.3";function cg(n=lE){const e=ta.get(n);if(!e)throw so.create("no-app",{appName:n});return e}function GL(){return Array.from(ta.values())}function pt(n,e,t){var r;let i=null!==(r=kte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ea.warn(a.join(" "))}Hn(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ad="firebase-heartbeat-store";let dE=null;function qL(){return dE||(dE=ug("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ad)}}).catch(n=>{throw so.create("idb-open",{originalErrorMessage:n.message})})),dE}function hE(){return(hE=y(function*(n){var e;try{return(yield qL()).transaction(ad).objectStore(ad).get(WL(n))}catch(t){if(t instanceof Fr)ea.warn(t.message);else{const r=so.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});ea.warn(r.message)}}})).apply(this,arguments)}function zL(n,e){return fE.apply(this,arguments)}function fE(){return(fE=y(function*(n,e){var t;try{const i=(yield qL()).transaction(ad,"readwrite");return yield i.objectStore(ad).put(e,WL(n)),i.done}catch(r){if(r instanceof Fr)ea.warn(r.message);else{const i=so.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});ea.warn(i.message)}}})).apply(this,arguments)}function WL(n){return`${n.name}!${n.options.appId}`}class jte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=KL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=KL(),{heartbeatsToSend:r,unsentEntries:i}=function $te(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),QL(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),QL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=rg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function KL(){return(new Date).toISOString().substring(0,10)}class Hte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Xo()&&sd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Vte(n){return hE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return zL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return zL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function QL(n){return rg(JSON.stringify({version:2,heartbeats:n})).length}!function Gte(n){Hn(new En("platform-logger",e=>new ite(e),"PRIVATE")),Hn(new En("heartbeat",e=>new jte(e),"PRIVATE")),pt(uE,"0.7.31",n),pt(uE,"0.7.31","esm2017"),pt("fire-js","")}("");var re,qte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws={},pE=pE||{},De=qte||self;function dg(){}function gE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ud(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var mE="closure_uid_"+(1e9*Math.random()>>>0),Wte=0;function Kte(n,e,t){return n.call.apply(n.bind,arguments)}function Qte(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function In(n,e,t){return(In=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kte:Qte).apply(null,arguments)}function hg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Cn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function oo(){this.s=this.s,this.o=this.o}var Jte={};oo.prototype.s=!1,oo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function zte(n){return Object.prototype.hasOwnProperty.call(n,mE)&&n[mE]||(n[mE]=++Wte)}(this);delete Jte[n]}},oo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},JL=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function XL(n){return Array.prototype.concat.apply([],arguments)}function yE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function fg(n){return/^[\s\xa0]*$/.test(n)}var ir,ZL=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rr(n,e){return-1!=n.indexOf(e)}function _E(n,e){return n<e?-1:n>e?1:0}e:{var eV=De.navigator;if(eV){var tV=eV.userAgent;if(tV){ir=tV;break e}}ir=""}function vE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nV(n){const e={};for(const t in n)e[t]=n[t];return e}var rV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<rV.length;s++)t=rV[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wE(n){return wE[" "](n),n}wE[" "]=dg;var pg,n,ene=rr(ir,"Opera"),Gu=rr(ir,"Trident")||rr(ir,"MSIE"),sV=rr(ir,"Edge"),bE=sV||Gu,oV=rr(ir,"Gecko")&&!(rr(ir.toLowerCase(),"webkit")&&!rr(ir,"Edge"))&&!(rr(ir,"Trident")||rr(ir,"MSIE"))&&!rr(ir,"Edge"),tne=rr(ir.toLowerCase(),"webkit")&&!rr(ir,"Edge");function aV(){var n=De.document;return n?n.documentMode:void 0}e:{var EE="",IE=(n=ir,oV?/rv:([^\);]+)(\)|;)/.exec(n):sV?/Edge\/([\d\.]+)/.exec(n):Gu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tne?/WebKit\/(\S+)/.exec(n):ene?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(IE&&(EE=IE?IE[1]:""),Gu){var CE=aV();if(null!=CE&&CE>parseFloat(EE)){pg=String(CE);break e}}pg=EE}var nne={};var ine=De.document&&Gu&&(aV()||parseInt(pg,10))||void 0,sne=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{De.addEventListener("test",dg,e),De.removeEventListener("test",dg,e)}catch{}return n}();function Gn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ld(n,e){if(Gn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oV){e:{try{wE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:one[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ld.Z.h.call(this)}}Gn.prototype.h=function(){this.defaultPrevented=!0},Cn(ld,Gn);var one={2:"touch",3:"pen",4:"mouse"};ld.prototype.h=function(){ld.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cd="closure_listenable_"+(1e6*Math.random()|0),ane=0;function une(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ane,this.ca=this.fa=!1}function gg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function mg(n){this.src=n,this.g={},this.h=0}function TE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=YL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function SE(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}mg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=SE(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new une(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var AE="closure_lm_"+(1e6*Math.random()|0),xE={};function lV(n,e,t,r,i){if(r&&r.once)return dV(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lV(n,e[s],t,r,i);return null}return t=OE(t),n&&n[cd]?n.N(e,t,ud(r)?!!r.capture:!!r,i):cV(n,e,t,!1,r,i)}function cV(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=ud(i)?!!i.capture:!!i,a=kE(n);if(a||(n[AE]=a=new mg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function lne(){var e=cne;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sne||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dV(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dV(n,e[s],t,r,i);return null}return t=OE(t),n&&n[cd]?n.O(e,t,ud(r)?!!r.capture:!!r,i):cV(n,e,t,!0,r,i)}function hV(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hV(n,e[s],t,r,i);else r=ud(r)?!!r.capture:!!r,t=OE(t),n&&n[cd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=SE(s=n.g[e],t,r,i))&&(gg(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=kE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=SE(e,t,r,i)),(t=-1<n?e[n]:null)&&ME(t))}function ME(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[cd])TE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kE(e))?(TE(t,n),0==t.h&&(t.src=null,e[AE]=null)):gg(n)}}}function fV(n){return n in xE?xE[n]:xE[n]="on"+n}function cne(n,e){if(n.ca)n=!0;else{e=new ld(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ME(n),n=t.call(r,e)}return n}function kE(n){return(n=n[AE])instanceof mg?n:null}var RE="__closure_events_fn_"+(1e9*Math.random()>>>0);function OE(n){return"function"==typeof n?n:(n[RE]||(n[RE]=function(e){return n.handleEvent(e)}),n[RE])}function cn(){oo.call(this),this.i=new mg(this),this.P=this,this.I=null}function Dn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Gn(e,n);else if(e instanceof Gn)e.target=e.target||n;else{var i=e;iV(e=new Gn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=yg(o,r,!0,e)&&i}if(i=yg(o=e.g=n,r,!0,e)&&i,i=yg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=yg(o=e.g=t[s],r,!1,e)&&i}function yg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&TE(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Cn(cn,oo),cn.prototype[cd]=!0,cn.prototype.removeEventListener=function(n,e,t,r){hV(this,n,e,t,r)},cn.prototype.M=function(){if(cn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gg(t[r]);delete n.g[e],n.h--}}this.I=null},cn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},cn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var NE=De.JSON.stringify;function dne(){var n=gV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var FE,pV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fne,n=>n.reset());class fne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pne(n){De.setTimeout(()=>{throw n},0)}function PE(n,e){FE||function gne(){var n=De.Promise.resolve(void 0);FE=function(){n.then(mne)}}(),LE||(FE(),LE=!0),gV.add(n,e)}var LE=!1,gV=new class hne{constructor(){this.h=this.g=null}add(e,t){const r=pV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mne(){for(var n;n=dne();){try{n.h.call(n.g)}catch(t){pne(t)}var e=pV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}LE=!1}function _g(n,e){cn.call(this),this.h=n||1,this.g=e||De,this.j=In(this.kb,this),this.l=Date.now()}function VE(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function UE(n,e,t){if("function"==typeof n)t&&(n=In(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=In(n.handleEvent,n)}return 2147483647<Number(e)?-1:De.setTimeout(n,e||0)}function mV(n){n.g=UE(()=>{n.g=null,n.i&&(n.i=!1,mV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cn(_g,cn),(re=_g.prototype).da=!1,re.S=null,re.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dn(this,"tick"),this.da&&(VE(this),this.start()))}},re.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.M=function(){_g.Z.M.call(this),VE(this),delete this.g};class yne extends oo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mV(this)}M(){super.M(),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dd(n){oo.call(this),this.h=n,this.g={}}Cn(dd,oo);var yV=[];function _V(n,e,t,r){Array.isArray(t)||(t&&(yV[0]=t.toString()),t=yV);for(var i=0;i<t.length;i++){var s=lV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function vV(n){vE(n.g,function(e,t){this.g.hasOwnProperty(t)&&ME(e)},n),n.g={}}function vg(){this.g=!0}function qu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bne(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return NE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}dd.prototype.M=function(){dd.Z.M.call(this),vV(this)},dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vg.prototype.Aa=function(){this.g=!1},vg.prototype.info=function(){};var ia={},wV=null;function wg(){return wV=wV||new cn}function bV(n){Gn.call(this,ia.Ma,n)}function hd(n){const e=wg();Dn(e,new bV(e,n))}function EV(n,e){Gn.call(this,ia.STAT_EVENT,n),this.stat=e}function sr(n){const e=wg();Dn(e,new EV(e,n))}function IV(n,e){Gn.call(this,ia.Na,n),this.size=e}function fd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){n()},e)}ia.Ma="serverreachability",Cn(bV,Gn),ia.STAT_EVENT="statevent",Cn(EV,Gn),ia.Na="timingevent",Cn(IV,Gn);var bg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},CV={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function BE(){}function TV(){}BE.prototype.h=null;var HE,pd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jE(){Gn.call(this,"d")}function $E(){Gn.call(this,"c")}function Eg(){}function gd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new dd(this),this.P=Ene,this.W=new _g(n=bE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new SV}function SV(){this.i=null,this.g="",this.h=!1}Cn(jE,Gn),Cn($E,Gn),Cn(Eg,BE),Eg.prototype.g=function(){return new XMLHttpRequest},Eg.prototype.i=function(){return{}},HE=new Eg;var Ene=45e3,GE={},Ig={};function qE(n,e,t){n.K=1,n.v=Ag(bs(e)),n.s=t,n.U=!0,AV(n,null)}function AV(n,e){n.F=Date.now(),md(n),n.A=bs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),LV(t.h,"t",r),n.C=0,t=n.l.H,n.h=new SV,n.g=o2(n.l,t?e:null,!n.s),0<n.O&&(n.L=new yne(In(n.Ia,n,n.g),n.O)),_V(n.V,n.g,"readystatechange",n.gb),e=n.H?nV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),hd(1),function _ne(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function MV(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Ine(n,t),i==Ig){4==e&&(n.o=4,sr(14),r=!1),qu(n.j,n.m,null,"[Incomplete Response]");break}if(i==GE){n.o=4,sr(15),qu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qu(n.j,n.m,i,null),zE(n,i)}xV(n)&&i!=Ig&&i!=GE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,sr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),rI(e),e.L=!0,sr(11))):(qu(n.j,n.m,t,"[Invalid Chunked Response]"),sa(n),yd(n))}function Ine(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ig:(t=Number(e.substring(t,r)),isNaN(t)?GE:(r+=1)+t>e.length?Ig:(e=e.substr(r,t),n.C=r+t,e))}function md(n){n.Y=Date.now()+n.P,kV(n,n.P)}function kV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fd(In(n.eb,n),e)}function Cg(n){n.B&&(De.clearTimeout(n.B),n.B=null)}function yd(n){0==n.l.G||n.I||n2(n.l,n)}function sa(n){Cg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,VE(n.W),vV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function zE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QE(t.i,n)))if(t.I=n.N,!n.J&&QE(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ng(t),Rg(t)}nI(t),sr(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=fd(In(t.ab,t),6e3));if(1>=BV(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else ua(t,11)}else if((n.J||t.g==n)&&Ng(t),!fg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(rr(p,"spdy")||rr(p,"quic")||rr(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(YE(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,_t(r.F,r.D,g))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=s2(r,r.H?r.la:null,r.W),o.J){jV(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Cg(a),md(a)),r.g=o}else e2(r);0<t.l.length&&Og(t)}else"stop"!=l[0]&&"close"!=l[0]||ua(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ua(t,7):eI(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}hd(4)}catch{}}function WE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gE(n)||"string"==typeof n)JL(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gE(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Cne(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function zu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof zu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function KE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];oa(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)oa(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function oa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(re=gd.prototype).setTimeout=function(n){this.P=n},re.gb=function(n){n=n.target;const e=this.L;e&&3==Es(n)?e.l():this.Ia(n)},re.Ia=function(n){try{if(n==this.g)e:{const c=Es(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||bE||this.g&&(this.h.h||this.g.ga()||QV(this.g)))){this.I||4!=c||7==e||hd(8==e||0>=d?3:2),Cg(this);var t=this.g.ba();this.N=t;t:if(xV(this)){var r=QV(this.g);n="";var i=r.length,s=4==Es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),yd(this);var o="";break t}this.h.i=new De.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function vne(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,sr(12),sa(this),yd(this);break e}qu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zE(this,t)}this.U?(MV(this,c,o),bE&&this.i&&3==c&&(_V(this.V,this.W,"tick",this.fb),this.W.start())):(qu(this.j,this.m,o,null),zE(this,o)),4==c&&sa(this),this.i&&!this.I&&(4==c?n2(this.l,this):(this.i=!1,md(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,sr(12)):(this.o=0,sr(13)),sa(this),yd(this)}}}catch{}},re.fb=function(){if(this.g){var n=Es(this.g),e=this.g.ga();this.C<e.length&&(Cg(this),MV(this,n,e),this.i&&4!=n&&md(this))}},re.cancel=function(){this.I=!0,sa(this)},re.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function wne(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(hd(3),sr(17)),sa(this),this.o=2,yd(this)):kV(this,this.Y-n)},(re=zu.prototype).R=function(){KE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},re.T=function(){return KE(this),this.g.concat()},re.get=function(n,e){return oa(this.h,n)?this.h[n]:e},re.set=function(n,e){oa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},re.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var RV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function aa(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof aa){this.g=void 0!==e?e:n.g,Dg(this,n.j),this.s=n.s,Tg(this,n.i),Sg(this,n.m),this.l=n.l,e=n.h;var t=new wd;t.i=e.i,e.g&&(t.g=new zu(e.g),t.h=e.h),OV(this,t),this.o=n.o}else n&&(t=String(n).match(RV))?(this.g=!!e,Dg(this,t[1]||"",!0),this.s=_d(t[2]||""),Tg(this,t[3]||"",!0),Sg(this,t[4]),this.l=_d(t[5]||"",!0),OV(this,t[6]||"",!0),this.o=_d(t[7]||"")):(this.g=!!e,this.h=new wd(null,this.g))}function bs(n){return new aa(n)}function Dg(n,e,t){n.j=t?_d(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tg(n,e,t){n.i=t?_d(e,!0):e}function Sg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function OV(n,e,t){e instanceof wd?(n.h=e,function One(n,e){e&&!n.j&&(ao(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(PV(this,r),LV(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=vd(e,kne)),n.h=new wd(e,n.g))}function _t(n,e,t){n.h.set(e,t)}function Ag(n){return _t(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _d(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ane),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ane(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}aa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vd(e,NV,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vd(e,NV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(vd(t,"/"==t.charAt(0)?Mne:xne,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vd(t,Rne)),n.join("")};var NV=/[#\/\?@]/g,xne=/[#\?:]/g,Mne=/[#\?]/g,kne=/[#\?@]/g,Rne=/#/g;function wd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ao(n){n.g||(n.g=new zu,n.h=0,n.i&&function Dne(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PV(n,e){ao(n),e=Wu(n,e),oa(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,oa((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&KE(n)))}function FV(n,e){return ao(n),e=Wu(n,e),oa(n.g.h,e)}function LV(n,e,t){PV(n,e),0<t.length&&(n.i=null,n.g.set(Wu(n,e),yE(t)),n.h+=t.length)}function Wu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VV(n){this.l=n||Pne,n=De.PerformanceNavigationTiming?0<(n=De.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(De.g&&De.g.Ea&&De.g.Ea()&&De.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=wd.prototype).add=function(n,e){ao(this),this.i=null,n=Wu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},re.forEach=function(n,e){ao(this),this.g.forEach(function(t,r){JL(t,function(i){n.call(e,i,r,this)},this)},this)},re.T=function(){ao(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},re.R=function(n){ao(this);var e=[];if("string"==typeof n)FV(this,n)&&(e=XL(e,this.g.get(Wu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=XL(e,n[t])}return e},re.set=function(n,e){return ao(this),this.i=null,FV(this,n=Wu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},re.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var Pne=10;function UV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function BV(n){return n.h?1:n.g?n.g.size:0}function QE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YE(n,e){n.g?n.g.add(e):n.h=e}function jV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $V(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yE(n.i)}function JE(){}function Fne(){this.g=new JE}function Lne(n,e,t){const r=t||"";try{WE(n,function(i,s){let o=i;ud(i)&&(o=NE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bd(n){this.l=n.$b||null,this.j=n.ib||!1}function Mg(n,e){cn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=XE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VV.prototype.cancel=function(){if(this.i=$V(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},JE.prototype.stringify=function(n){return De.JSON.stringify(n,void 0)},JE.prototype.parse=function(n){return De.JSON.parse(n,void 0)},Cn(bd,BE),bd.prototype.g=function(){return new Mg(this.l,this.j)},bd.prototype.i=function(n){return function(){return n}}({}),Cn(Mg,cn);var XE=0;function HV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ed(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Id(n)}function Id(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(re=Mg.prototype).open=function(n,e){if(this.readyState!=XE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Id(this)},re.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||De).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ed(this)),this.readyState=XE},re.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Id(this)),this.g&&(this.readyState=3,Id(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},re.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ed(this):Id(this),3==this.readyState&&HV(this)}},re.Ua=function(n){this.g&&(this.response=this.responseText=n,Ed(this))},re.Ta=function(n){this.g&&(this.response=n,Ed(this))},re.ha=function(){this.g&&Ed(this)},re.setRequestHeader=function(n,e){this.v.append(n,e)},re.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Mg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Une=De.JSON.parse;function qt(n){cn.call(this),this.headers=new zu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=GV,this.K=this.L=!1}Cn(qt,cn);var GV="",Bne=/^https?$/i,jne=["POST","PUT"];function Hne(n){return"content-type"==n.toLowerCase()}function qV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zV(n),kg(n)}function zV(n){n.D||(n.D=!0,Dn(n,"complete"),Dn(n,"error"))}function WV(n){if(n.h&&typeof pE<"u"&&(!n.C[1]||4!=Es(n)||2!=n.ba()))if(n.v&&4==Es(n))UE(n.Fa,0,n);else if(Dn(n,"readystatechange"),4==Es(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(RV)[1]||null;if(!i&&De.self&&De.self.location){var s=De.self.location.protocol;i=s.substr(0,s.length-1)}r=!Bne.test(i?i.toLowerCase():"")}t=r}if(t)Dn(n,"complete"),Dn(n,"success");else{n.m=6;try{var o=2<Es(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",zV(n)}}finally{kg(n)}}}function kg(n,e){if(n.g){KV(n);const t=n.g,r=n.C[0]?dg:null;n.g=null,n.C=null,e||Dn(n,"ready");try{t.onreadystatechange=r}catch{}}}function KV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(De.clearTimeout(n.A),n.A=null)}function Es(n){return n.g?n.g.readyState:0}function QV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case GV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Gne(n){let e="";return vE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_t(n,e,t))}function Cd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YV(n){this.za=0,this.l=[],this.h=new vg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Cd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Cd("baseRetryDelayMs",5e3,n),this.$a=Cd("retryDelaySeedMs",1e4,n),this.Ya=Cd("forwardChannelMaxRetries",2,n),this.ra=Cd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new VV(n&&n.concurrentRequestLimit),this.Ca=new Fne,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function eI(n){if(JV(n),3==n.G){var e=n.V++,t=bs(n.F);_t(t,"SID",n.J),_t(t,"RID",e),_t(t,"TYPE","terminate"),Dd(n,t),(e=new gd(n,n.h,e,void 0)).K=2,e.v=Ag(bs(t)),t=!1,De.navigator&&De.navigator.sendBeacon&&(t=De.navigator.sendBeacon(e.v.toString(),"")),!t&&De.Image&&((new Image).src=e.v,t=!0),t||(e.g=o2(e.l,null),e.g.ea(e.v)),e.F=Date.now(),md(e)}i2(n)}function Rg(n){n.g&&(rI(n),n.g.cancel(),n.g=null)}function JV(n){Rg(n),n.u&&(De.clearTimeout(n.u),n.u=null),Ng(n),n.i.cancel(),n.m&&("number"==typeof n.m&&De.clearTimeout(n.m),n.m=null)}function tI(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Og(n)}function Og(n){UV(n.i)||n.m||(n.m=!0,PE(n.Ha,n),n.C=0)}function XV(n,e){var t;t=e?e.m:n.V++;const r=bs(n.F);_t(r,"SID",n.J),_t(r,"RID",t),_t(r,"AID",n.U),Dd(n,r),n.o&&n.s&&ZE(r,n.o,n.s),t=new gd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ZV(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),YE(n.i,t),qE(t,r,e)}function Dd(n,e){n.j&&WE({},function(t,r){_t(e,r,t)})}function ZV(n,e,t){t=Math.min(n.l.length,t);var r=n.j?In(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{Lne(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function e2(n){n.g||n.u||(n.Y=1,PE(n.Ga,n),n.A=0)}function nI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=fd(In(n.Ga,n),r2(n,n.A)),n.A++,0))}function rI(n){null!=n.B&&(De.clearTimeout(n.B),n.B=null)}function t2(n){n.g=new gd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=bs(n.oa);_t(e,"RID","rpc"),_t(e,"SID",n.J),_t(e,"CI",n.N?"0":"1"),_t(e,"AID",n.U),Dd(n,e),_t(e,"TYPE","xmlhttp"),n.o&&n.s&&ZE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ag(bs(e)),t.s=null,t.U=!0,AV(t,n)}function Ng(n){null!=n.v&&(De.clearTimeout(n.v),n.v=null)}function n2(n,e){var t=null;if(n.g==e){Ng(n),rI(n),n.g=null;var r=2}else{if(!QE(n.i,e))return;t=e.D,jV(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Dn(r=wg(),new IV(r,t,e,i)),Og(n)}else e2(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function qne(n,e){return!(BV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=fd(In(n.Ha,n,e),r2(n,n.C)),n.C++,0)))}(n,e)||2==r&&nI(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ua(n,5);break;case 4:ua(n,10);break;case 3:ua(n,6);break;default:ua(n,2)}}function r2(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ua(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=In(n.jb,n);t||(t=new aa("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||Dg(t,"https"),Ag(t)),function Vne(n,e){const t=new vg;if(De.Image){const r=new Image;r.onload=hg(xg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=hg(xg,t,r,"TestLoadImage: error",!1,e),r.onabort=hg(xg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=hg(xg,t,r,"TestLoadImage: timeout",!1,e),De.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else sr(2);n.G=0,n.j&&n.j.va(e),i2(n),JV(n)}function i2(n){n.G=0,n.I=-1,n.j&&((0!=$V(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yE(n.l),n.l.length=0),n.j.ua())}function s2(n,e,t){let r=function Tne(n){return n instanceof aa?bs(n):new aa(n,void 0)}(t);if(""!=r.i)e&&Tg(r,e+"."+r.i),Sg(r,r.m);else{const i=De.location;r=function Sne(n,e,t,r){var i=new aa(null,void 0);return n&&Dg(i,n),e&&Tg(i,e),t&&Sg(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&vE(n.aa,function(i,s){_t(r,s,i)}),t=n.sa,(e=n.D)&&t&&_t(r,e,t),_t(r,"VER",n.ma),Dd(n,r),r}function o2(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qt(t&&n.Ba&&!n.qa?new bd({ib:!0}):n.qa)).L=n.H,e}function a2(){}function Pg(){if(Gu&&!(10<=Number(ine)))throw Error("Environmental error: no available transport.")}function Lr(n,e){cn.call(this),this.g=new YV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!fg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ku(this)}function u2(n){jE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function l2(){$E.call(this),this.status=1}function Ku(n){this.g=n}(re=qt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():HE.g(),this.C=function DV(n){return n.h||(n.h=n.i())}(this.u?this.u:HE),this.g.onreadystatechange=In(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void qV(this,s)}n=t||"";const i=new zu(this.headers);r&&WE(r,function(s,o){i.set(o,s)}),r=function Xte(n){e:{var e=Hne;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=De.FormData&&n instanceof De.FormData,!(0<=YL(jne,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KV(this),0<this.B&&((this.K=function $ne(n){return Gu&&function rne(){return function Zte(n){var e=nne;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ZL(String(pg)).split("."),t=ZL("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=_E(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||_E(0==i[2].length,0==s[2].length)||_E(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=In(this.pa,this)):this.A=UE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){qV(this,s)}},re.pa=function(){typeof pE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))},re.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dn(this,"complete"),Dn(this,"abort"),kg(this))},re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kg(this,!0)),qt.Z.M.call(this)},re.Fa=function(){this.s||(this.F||this.v||this.l?WV(this):this.cb())},re.cb=function(){WV(this)},re.ba=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},re.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},re.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Une(e)}},re.Da=function(){return this.m},re.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=YV.prototype).ma=8,re.G=1,re.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},re.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new gd(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=nV(s),iV(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZV(this,i,e),_t(t=bs(this.F),"RID",n),_t(t,"CVER",22),this.D&&_t(t,"X-HTTP-Session-Id",this.D),Dd(this,t),this.o&&s&&ZE(t,this.o,s),YE(this.i,i),this.Ra&&_t(t,"TYPE","init"),this.ja?(_t(t,"$req",e),_t(t,"SID","null"),i.$=!0,qE(i,t,null)):qE(i,t,e),this.G=2}}else 3==this.G&&(n?XV(this,n):0==this.l.length||UV(this.i)||XV(this))},re.Ga=function(){if(this.u=null,t2(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=fd(In(this.bb,this),n)}},re.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sr(10),Rg(this),t2(this))},re.ab=function(){null!=this.v&&(this.v=null,Rg(this),nI(this),sr(19))},re.jb=function(n){n?(this.h.info("Successfully pinged google.com"),sr(2)):(this.h.info("Failed to ping google.com"),sr(1))},(re=a2.prototype).xa=function(){},re.wa=function(){},re.va=function(){},re.ua=function(){},re.Oa=function(){},Pg.prototype.g=function(n,e){return new Lr(n,e)},Cn(Lr,cn),Lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),PE(In(n.hb,n,e))),sr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=s2(n,null,n.W),Og(n)},Lr.prototype.close=function(){eI(this.g)},Lr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,tI(this.g,e)}else this.v?((e={}).__data__=NE(n),tI(this.g,e)):tI(this.g,n)},Lr.prototype.M=function(){this.g.j=null,delete this.j,eI(this.g),delete this.g,Lr.Z.M.call(this)},Cn(u2,jE),Cn(l2,$E),Cn(Ku,a2),Ku.prototype.xa=function(){Dn(this.g,"a")},Ku.prototype.wa=function(n){Dn(this.g,new u2(n))},Ku.prototype.va=function(n){Dn(this.g,new l2(n))},Ku.prototype.ua=function(){Dn(this.g,"b")},Pg.prototype.createWebChannel=Pg.prototype.g,Lr.prototype.send=Lr.prototype.u,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,bg.NO_ERROR=0,bg.TIMEOUT=8,bg.HTTP_ERROR=6,CV.COMPLETE="complete",TV.EventType=pd,pd.OPEN="a",pd.CLOSE="b",pd.ERROR="c",pd.MESSAGE="d",cn.prototype.listen=cn.prototype.N,qt.prototype.listenOnce=qt.prototype.O,qt.prototype.getLastError=qt.prototype.La,qt.prototype.getLastErrorCode=qt.prototype.Da,qt.prototype.getStatus=qt.prototype.ba,qt.prototype.getResponseJson=qt.prototype.Qa,qt.prototype.getResponseText=qt.prototype.ga,qt.prototype.send=qt.prototype.ea;var zne=ws.createWebChannelTransport=function(){return new Pg},Wne=ws.getStatEventTarget=function(){return wg()},iI=ws.ErrorCode=bg,Kne=ws.EventType=CV,Qne=ws.Event=ia,c2=ws.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yne=ws.FetchXmlHttpFactory=bd,Fg=ws.WebChannel=TV,Jne=ws.XhrIo=qt;const d2="@firebase/firestore";class dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Qu="9.9.2";const uo=new Hu("@firebase/firestore");function sI(){return uo.logLevel}function G(n,...e){if(uo.logLevel<=He.DEBUG){const t=e.map(oI);uo.debug(`Firestore (${Qu}): ${n}`,...t)}}function Nt(n,...e){if(uo.logLevel<=He.ERROR){const t=e.map(oI);uo.error(`Firestore (${Qu}): ${n}`,...t)}}function Yu(n,...e){if(uo.logLevel<=He.WARN){const t=e.map(oI);uo.warn(`Firestore (${Qu}): ${n}`,...t)}}function oI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function se(n="Unexpected state"){const e=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: `+n;throw Nt(e),new Error(e)}function Ee(n,e){n||se()}function J(n,e){return n}const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class h2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class ere{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee("string"==typeof r.accessToken),new h2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ee(null===e||"string"==typeof e),new dn(e)}}class tre{constructor(e,t,r){this.type="FirstParty",this.user=dn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class nre{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new tre(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rre{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ee("string"==typeof t.token),this.p=t.token,new f2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ire(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class p2{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ire(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(n,e){return n<e?-1:n>e?1:0}function Ju(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Et(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Et(0,0))}static max(){return new _e(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Td{constructor(e,t,r){void 0===t?t=0:t>e.length&&se(),void 0===r?r=e.length-t:r>e.length-t&&se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Td.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Td?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends Td{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const sre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Td{construct(e,t,r){return new Pt(e,t,r)}static isValidIdentifier(e){return sre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new H(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new H(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new H(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ge.fromString(e))}static fromName(e){return new Y(Ge.fromString(e).popFirst(5))}static empty(){return new Y(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ge(e.slice()))}}function y2(n){return new Vr(n.readTime,n.key,-1)}class Vr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vr(_e.min(),Y.empty(),-1)}static max(){return new Vr(_e.max(),Y.empty(),-1)}}function uI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Y.comparator(n.documentKey,e.documentKey),0!==t?t:Te(n.largestBatchId,e.largestBatchId))}const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function lo(n){return lI.apply(this,arguments)}function lI(){return lI=y(function*(n){if(n.code!==R.FAILED_PRECONDITION||n.message!==_2)throw n;G("LocalStore","Unexpectedly lost primary lease")}),lI.apply(this,arguments)}class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof k?t:k.resolve(t)}catch(t){return k.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):k.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):k.reject(t)}static resolve(e){return new k((t,r)=>{t(e)})}static reject(e){return new k((t,r)=>{r(e)})}static waitFor(e){return new k((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=k.resolve(!1);for(const r of e)t=t.next(i=>i?k.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new k((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function co(n){return"IndexedDbTransactionError"===n.name}class gr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function w2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function b2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}gr.ot=-1;class St{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bg(this.root,e,this.comparator,!0)}}class Bg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Tn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1,Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Tn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E2(this.data.getIterator())}getIteratorFrom(e){return new E2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nt(this.comparator);return t.data=e,t}}class E2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ur{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Ur([])}unionWith(e){let t=new nt(Pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Zt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const fre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(n){if(Ee(!!n),"string"==typeof n){let e=0;const t=fre.exec(n);if(Ee(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ha(n){return"string"==typeof n?Zt.fromBase64String(n):Zt.fromUint8Array(n)}function dI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function I2(n){const e=n.mapValue.fields.__previous_value__;return dI(e)?I2(e):e}function xd(n){const e=ho(n.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}class pre{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class fo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}function Md(n){return null==n}function kd(n){return 0===n&&1/n==-1/0}const po_mapValue={fields:{__type__:{stringValue:"__max__"}}};function fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dI(n)?4:A2(n)?9007199254740991:10:se()}function Gi(n,e){if(n===e)return!0;const t=fa(n);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xd(n).isEqual(xd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ho(r.timestampValue),o=ho(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ha(n.bytesValue).isEqual(ha(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return At(r.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return At(r.integerValue)===At(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=At(r.doubleValue),o=At(i.doubleValue);return s===o?kd(s)===kd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ju(n.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(w2(s)!==w2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gi(s[a],o[a])))return!1;return!0}(n,e);default:return se()}var i}function Rd(n,e){return void 0!==(n.values||[]).find(t=>Gi(t,e))}function go(n,e){if(n===e)return 0;const t=fa(n),r=fa(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=At(i.integerValue||i.doubleValue),a=At(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return D2(n.timestampValue,e.timestampValue);case 4:return D2(xd(n),xd(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ha(i),a=ha(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=Te(o[u],a[u]);if(0!==l)return l}return Te(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Te(At(i.latitude),At(s.latitude));return 0!==o?o:Te(At(i.longitude),At(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=go(o[u],a[u]);if(l)return l}return Te(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===po_mapValue&&s===po_mapValue)return 0;if(i===po_mapValue)return 1;if(s===po_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=Te(a[c],l[c]);if(0!==d)return d;const h=go(o[a[c]],u[l[c]]);if(0!==h)return h}return Te(a.length,l.length)}(n.mapValue,e.mapValue);default:throw se()}}function D2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Te(n,e);const t=ho(n),r=ho(e),i=Te(t.seconds,r.seconds);return 0!==i?i:Te(t.nanos,r.nanos)}function Zu(n){return hI(n)}function hI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ho(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ha(n.bytesValue).toBase64():"referenceValue"in n?Y.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=hI(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${hI(r.fields[a])}`;return s+"}"}(n.mapValue):se();var e}function fI(n){return!!n&&"integerValue"in n}function Od(n){return!!n&&"arrayValue"in n}function T2(n){return!!n&&"nullValue"in n}function S2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $g(n){return!!n&&"mapValue"in n}function Nd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$g(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nd(t)}setAll(e){let t=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Nd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());$g(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){da(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(Nd(this.value))}}function k2(n){const e=[];return da(n.fields,(t,r)=>{const i=new Pt([t]);if($g(r)){const s=k2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ur(e)}class ft{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ft(e,0,_e.min(),_e.min(),Sn.empty(),0)}static newFoundDocument(e,t,r){return new ft(e,1,t,_e.min(),r,0)}static newNoDocument(e,t){return new ft(e,2,t,_e.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new ft(e,3,t,_e.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yre{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function R2(n,e=null,t=[],r=[],i=null,s=null,o=null){return new yre(n,e,t,r,i,s,o)}function ga(n){const e=J(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Zu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zu(r)).join(",")),e.ut=t}return e.ut}function Pd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Tre(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Gi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L2(n.startAt,e.startAt)&&L2(n.endAt,e.endAt)}function Hg(n){return Y.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class An extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new vre(e,t,r):"array-contains"===t?new Ere(e,r):"in"===t?new Ire(e,r):"not-in"===t?new Cre(e,r):"array-contains-any"===t?new Dre(e,r):new An(e,t,r)}static ct(e,t,r){return"in"===t?new wre(e,r):new bre(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(go(t,this.value)):null!==t&&fa(this.value)===fa(t)&&this.at(go(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return se()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vre extends An{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){const t=Y.comparator(e.key,this.key);return this.at(t)}}class wre extends An{constructor(e,t){super(e,"in",t),this.keys=P2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bre extends An{constructor(e,t){super(e,"not-in",t),this.keys=P2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function P2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}class Ere extends An{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Od(t)&&Rd(t.arrayValue,this.value)}}class Ire extends An{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rd(this.value.arrayValue,t)}}class Cre extends An{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rd(this.value.arrayValue,t)}}class Dre extends An{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Od(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rd(this.value.arrayValue,r))}}class mo{constructor(e,t){this.position=e,this.inclusive=t}}class el{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tre(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function F2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Y.comparator(Y.fromName(o.referenceValue),t.key):go(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function L2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gi(n.position[t],e.position[t]))return!1;return!0}class Is{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null}}function tl(n){return new Is(n)}function U2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nl(n){const e=J(n);if(null===e.lt){e.lt=[];const t=function gI(n){for(const e of n.filters)if(e.ht())return e.field;return null}(e),r=function pI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new el(t)),e.lt.push(new el(Pt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new el(Pt.keyField(),s))}}}return e.lt}function mr(n){const e=J(n);if(!e.ft)if("F"===e.limitType)e.ft=R2(e.path,e.collectionGroup,nl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of nl(e))t.push(new el(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new mo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mo(e.startAt.position,e.startAt.inclusive):null;e.ft=R2(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function qg(n,e,t){return new Is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fd(n,e){return Pd(mr(n),mr(e))&&n.limitType===e.limitType}function B2(n){return`${ga(mr(n))}|lt:${n.limitType}`}function yI(n){return`Query(target=${function _re(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Zu(r.value)}`;var r}).join(", ")}]`),Md(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Zu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Zu(t)).join(",")),`Target(${e})`}(mr(n))}; limitType=${n.limitType})`}function _I(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Y.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=F2(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,nl(t),r)||t.endAt&&!function(i,s,o){const a=F2(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,nl(t),r)));var t,r}function $2(n){return(e,t)=>{let r=!1;for(const i of nl(n)){const s=Sre(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Sre(n,e,t){const r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?go(a,u):se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}function H2(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function G2(n){return{integerValue:""+n}}function q2(n,e){return function C2(n){return"number"==typeof n&&Number.isInteger(n)&&!kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?G2(e):H2(n,e)}class zg{constructor(){this._=void 0}}function Are(n,e,t){return n instanceof rl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ma?W2(n,e):n instanceof ya?K2(n,e):function(r,i){const s=z2(r,i),o=Q2(s)+Q2(r._t);return fI(s)&&fI(r._t)?G2(o):H2(r.wt,o)}(n,e)}function xre(n,e,t){return n instanceof ma?W2(n,e):n instanceof ya?K2(n,e):t}function z2(n,e){return n instanceof il?fI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class rl extends zg{}class ma extends zg{constructor(e){super(),this.elements=e}}function W2(n,e){const t=Y2(e);for(const r of n.elements)t.some(i=>Gi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ya extends zg{constructor(e){super(),this.elements=e}}function K2(n,e){let t=Y2(e);for(const r of n.elements)t=t.filter(i=>!Gi(i,r));return{arrayValue:{values:t}}}class il extends zg{constructor(e,t){super(),this.wt=e,this._t=t}}function Q2(n){return At(n.integerValue||n.doubleValue)}function Y2(n){return Od(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kre{constructor(e,t){this.version=e,this.transformResults=t}}class It{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Kg{}function J2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ol(n.key,It.none()):new sl(n.key,n.data,It.none());{const t=n.data,r=Sn.empty();let i=new nt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Cs(n.key,r,new Ur(i.toArray()),It.none())}}function Rre(n,e,t){n instanceof sl?function(r,i,s){const o=r.value.clone(),a=eU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Cs?function(r,i,s){if(!Wg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=eU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Z2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vd(n,e,t,r){return n instanceof sl?function(i,s,o,a){if(!Wg(i.precondition,s))return o;const u=i.value.clone(),l=tU(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cs?function(i,s,o,a){if(!Wg(i.precondition,s))return o;const u=tU(i.fieldTransforms,a,s),l=s.data;return l.setAll(Z2(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(n,e,t,r):(o=t,Wg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ore(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=z2(r.transform,i||null);null!=s&&(null===t&&(t=Sn.empty()),t.set(r.field,s))}return t||null}function X2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ju(t,r,(i,s)=>function Mre(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ma&&r instanceof ma||t instanceof ya&&r instanceof ya?Ju(t.elements,r.elements,Gi):t instanceof il&&r instanceof il?Gi(t._t,r._t):t instanceof rl&&r instanceof rl);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class sl extends Kg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends Kg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Z2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eU(n,e,t){const r=new Map;Ee(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xre(o,a,t[i]))}return r}function tU(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Are(s,o,e))}return r}class ol extends Kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends Kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nre{constructor(e){this.count=e}}var zt,qe;function nU(n){switch(n){default:return se();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function rU(n){if(void 0===n)return Nt("GRPC error has no .code"),R.UNKNOWN;switch(n){case zt.OK:return R.OK;case zt.CANCELLED:return R.CANCELLED;case zt.UNKNOWN:return R.UNKNOWN;case zt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case zt.INTERNAL:return R.INTERNAL;case zt.UNAVAILABLE:return R.UNAVAILABLE;case zt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case zt.NOT_FOUND:return R.NOT_FOUND;case zt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case zt.ABORTED:return R.ABORTED;case zt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case zt.DATA_LOSS:return R.DATA_LOSS;default:return se()}}(qe=zt||(zt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return b2(this.inner)}size(){return this.innerSize}}const Pre=new St(Y.comparator);function yr(){return Pre}const iU=new St(Y.comparator);function Ud(...n){let e=iU;for(const t of n)e=e.insert(t.key,t);return e}function sU(n){let e=iU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Bd()}function oU(){return Bd()}function Bd(){return new yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fre=new St(Y.comparator),Lre=new nt(Y.comparator);function Re(...n){let e=Lre;for(const t of n)e=e.add(t);return e}const Vre=new nt(Te);function Qg(){return Vre}class jd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,t)),new jd(_e.min(),r,Qg(),yr(),Re())}}class $d{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new $d(Zt.EMPTY_BYTE_STRING,t,Re(),Re(),Re())}}class Yg{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class aU{constructor(e,t){this.targetId=e,this.It=t}}class uU{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lU{constructor(){this.Tt=0,this.Et=dU(),this.At=Zt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Re(),t=Re(),r=Re();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se()}}),new $d(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=dU()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Ure{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=yr(),this.Bt=cU(),this.Lt=new nt(Te)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const s=i.target;if(Hg(s))if(0===r){const o=new Y(s.path);this.Kt(t,o,ft.newNoDocument(o,_e.min()))}else Ee(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&Hg(a.target)){const u=new Y(a.target.path);null!==this.$t.get(u)||this.Xt(o,u)||this.Kt(o,u,ft.newNoDocument(u,e))}s.vt&&(t.set(o,s.St()),s.Dt())}});let r=Re();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ht(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new jd(e,t,this.Lt,this.$t,r);return this.$t=yr(),this.Bt=cU(),this.Lt=new nt(Te),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new lU,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new nt(Te),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||G("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new lU),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function cU(){return new St(Y.comparator)}function dU(){return new St(Y.comparator)}const Bre={asc:"ASCENDING",desc:"DESCENDING"},jre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $re{constructor(e,t){this.databaseId=e,this.dt=t}}function Hd(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hU(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Hre(n,e){return Hd(n,e.toTimestamp())}function fn(n){return Ee(!!n),_e.fromTimestamp(function(e){const t=ho(e);return new Et(t.seconds,t.nanos)}(n))}function wI(n,e){return(t=n,new Ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fU(n){const e=Ge.fromString(n);return Ee(EU(e)),e}function Gd(n,e){return wI(n.databaseId,e.path)}function zi(n,e){const t=fU(e);if(t.get(1)!==n.databaseId.projectId)throw new H(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(gU(t))}function bI(n,e){return wI(n.databaseId,e)}function qd(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gU(n){return Ee(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mU(n,e,t){return{name:Gd(n,e),fields:t.value.mapValue.fields}}function _U(n,e){return{documents:[bI(n,e.path)]}}function vU(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(S2(d.value))return{unaryFilter:{field:al(d.field),op:"IS_NAN"}};if(T2(d.value))return{unaryFilter:{field:al(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(S2(d.value))return{unaryFilter:{field:al(d.field),op:"IS_NOT_NAN"}};if(T2(d.value))return{unaryFilter:{field:al(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(d.field),op:Qre(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:al((c=l).field),direction:Kre(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.dt||Md(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function wU(n){let e=function pU(n){const e=fU(n);return 4===e.length?Ge.emptyPath():gU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ee(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=bU(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new el(ul((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Md(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new mo((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new mo(c.values||[],!c.before)}(t.endAt)),function V2(n,e,t,r,i,s,o,a){return new Is(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function bU(n){return n?void 0!==n.unaryFilter?[Jre(n)]:void 0!==n.fieldFilter?[Yre(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>bU(e)).reduce((e,t)=>e.concat(t)):se():[]}function Kre(n){return Bre[n]}function Qre(n){return jre[n]}function al(n){return{fieldPath:n.canonicalString()}}function ul(n){return Pt.fromServerFormat(n.fieldPath)}function Yre(n){return An.create(ul(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}function Jre(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ul(n.unaryFilter.field);return An.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ul(n.unaryFilter.field);return An.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ul(n.unaryFilter.field);return An.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ul(n.unaryFilter.field);return An.create(i,"!=",{nullValue:"NULL_VALUE"});default:return se()}}function Xre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class CI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Rre(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=J2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(t,r)=>X2(t,r))&&Ju(this.baseMutations,e.baseMutations,(t,r)=>X2(t,r))}}class DI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ee(e.mutations.length===r.length);let i=Fre;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new DI(e,t,r,i)}}class TI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _o{constructor(e,t,r,i,s=_e.min(),o=_e.min(),a=Zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class xU{constructor(e){this.ne=e}}function SI(n){const e=wU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qg(e,e.limit,"L"):e}class ba{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),kd(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ha(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?A2(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):se()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),Y.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}ba.ye=new ba;class Cie{constructor(){this.ze=new xI}addToCollectionParentIndex(e,t){return this.ze.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Vr.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}}class xI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new nt(Ge.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ge.comparator)).toArray()}}new Uint8Array(0);class _r{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);class Ca{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Ca(0)}static Rn(){return new Ca(-1)}}class Nie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Vd(r.mutation,i,Ur.empty(),Et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Re()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ud();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Re()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=yr();const o=Bd(),a=Bd();return t.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(void 0===c||c.mutation instanceof Cs)?s=s.insert(l.key,l):void 0!==c&&(o.set(l.key,c.mutation.getFieldMask()),Vd(c.mutation,l,c.mutation.getFieldMask(),Et.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),t.forEach((l,c)=>{var d;return a.set(l,new Nie(c,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Bd();let i=new St((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let c=r.get(u)||Ur.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||Re()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=oU();c.forEach(h=>{if(!s.has(h)){const f=J2(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Y.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function mI(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):k.resolve(qi());let a=-1,u=s;return o.next(l=>k.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?k.resolve():this.getBaseDocument(e,c,d).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Re())).next(c=>({batchId:a,changes:sU(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Ud();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Ud();return this.indexManager.getCollectionParents(e,i).next(o=>k.forEach(o,a=>{const u=(l=t,c=a.child(i),new Is(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,ft.newInvalidDocument(l)))});let o=Ud();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&Vd(l.mutation,u,Ur.empty(),Et.now()),_I(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):k.resolve(ft.newInvalidDocument(t))}}class Pie{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return k.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:fn(r.createTime)}),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:SI(r.bundledQuery),readTime:fn(r.readTime)}),k.resolve();var r}}class Fie{constructor(){this.overlays=new St(Y.comparator),this.Xn=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return k.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ie(e,t,s)}),k.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),s=t.length+1,o=new Y(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new St((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=qi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return k.resolve(a)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TI(t,r));let s=this.Xn.get(t);void 0===s&&(s=Re(),this.Xn.set(t,s)),this.Xn.set(t,s.add(r.key))}}class MI{constructor(){this.Zn=new nt(gn.ts),this.es=new nt(gn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new gn(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new gn(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Y(new Ge([])),r=new gn(t,e),i=new gn(t,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Y(new Ge([])),r=new gn(t,e),i=new gn(t,e+1);let s=Re();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new gn(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Y.comparator(e.key,t.key)||Te(e.ls,t.ls)}static ns(e,t){return Te(e.ls,t.ls)||Y.comparator(e.key,t.key)}}class Lie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new nt(gn.ts)}checkEmpty(e){return k.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.fs;this.fs++;const o=new CI(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,t){return k.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gn(t,0),i=new gn(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nt(Te);return t.forEach(i=>{const s=new gn(i,0),o=new gn(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),k.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new gn(new Y(s),0);let a=new nt(Te);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},o),k.resolve(this.gs(a))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ee(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return k.forEach(t.mutations,i=>{const s=new gn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new gn(t,0),i=this.ds.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return k.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vie{constructor(e){this.ps=e,this.docs=new St(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),k.resolve(r)}getAllFromCollection(e,t,r){let i=yr();const s=new Y(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||uI(y2(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return k.resolve(i)}getAllFromCollectionGroup(e,t,r,i){se()}Is(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Uie(this)}getSize(e){return k.resolve(this.size)}}class Uie extends class kie{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Bie{constructor(e){this.persistence=e,this.Ts=new yo(t=>ga(t),Pd),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Es=0,this.As=new MI,this.targetCount=0,this.Rs=Ca.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),k.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ca(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.vn(t),k.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),k.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.As.containsKey(t))}}class JU{constructor(e,t){this.bs={},this.overlays={},this.Ps=new gr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Bie(this),this.indexManager=new Cie,this.remoteDocumentCache=new Vie(r=>this.referenceDelegate.Ss(r)),this.wt=new xU(t),this.Ds=new Pie(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new Lie(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);const i=new jie(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,t){return k.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class jie extends class ure{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.ks=new MI,this.Ms=null}static Os(e){return new sm(e)}get Fs(){if(this.Ms)return this.Ms;throw se()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),k.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Fs,r=>{const i=Y.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i,_e.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return k.or([()=>k.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class NI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Re(),i=Re();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new NI(e,t.fromCache,r,i)}}class ZU{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(s=>s||this.xi(e,t,i,r)).next(s=>s||this.Ni(e,t))}Ci(e,t){if(U2(t))return k.resolve(null);let r=mr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=qg(t,null,"F"),r=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Di.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ki(t,a);return this.Mi(t,l,o,u.readTime)?this.Ci(e,qg(t,null,"F")):this.Oi(e,l,t,u)}))})))}xi(e,t,r,i){return U2(t)||i.isEqual(_e.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(t,s);return this.Mi(t,o,r,i)?this.Ni(e,t):(sI()<=He.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yI(t)),this.Oi(e,o,t,function m2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(1e9===r?new Et(t+1,0):new Et(t,r));return new Vr(i,Y.empty(),e)}(i,-1)))})}ki(e,t){let r=new nt($2(e));return t.forEach((i,s)=>{_I(e,s)&&(r=r.add(s))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,t){return sI()<=He.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",yI(t)),this.Di.getDocumentsMatchingQuery(e,t,Vr.min())}Oi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Hie{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new St(Te),this.Bi=new yo(s=>ga(s),Pd),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YU(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function tB(n,e){return PI.apply(this,arguments)}function PI(){return PI=y(function*(n,e){const t=J(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Re();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:o,addedBatchIds:a}))})})}),PI.apply(this,arguments)}function Gie(n,e){const t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=k.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);Ee(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Re();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function nB(n){const e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function qie(n,e){const t=J(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Vs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.Vs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,I;e.targetMismatches.has(d)?f=f.withResumeToken(Zt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,I=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.Vs.updateTargetData(s,f))});let u=yr(),l=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function rB(n,e,t){let r=Re(),i=Re();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=yr();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(c=>{u=c.Gi,l=c.Qi})),!r.isEqual(_e.min())){const c=t.Vs.getLastRemoteSnapshotVersion(s).next(d=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.$i=i,s))}function zie(n,e){const t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dl(n,e){const t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):t.Vs.allocateTargetId(r).next(o=>(i=new _o(e,o,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function hl(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=y(function*(n,e,t){const r=J(n),i=r.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!co(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),FI.apply(this,arguments)}function am(n,e,t){const r=J(n);let i=_e.min(),s=Re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=J(a),d=c.Bi.get(l);return void 0!==d?k.resolve(c.$i.get(d)):c.Vs.getTargetData(u,l)}(r,o,mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,t?i:_e.min(),t?s:Re())).next(a=>(function oB(n,e,t){let r=_e.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(e,r)}(r,function j2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ji:s})))}class jI{constructor(){this.activeTargetIds=Qg()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lB{constructor(){this.Fr=new jI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new jI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qie{Br(e){}shutdown(){}}class cB{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jie{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Xie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const o=this.oo(e,t);G("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(G("RestConnection","Received: ",u),u),u=>{throw Yu("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,t,r,i,s,o){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${Yie[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,o)=>{const a=new Jne;a.listenOnce(Kne.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case iI.NO_ERROR:const l=a.getResponseJson();G("Connection","XHR received:",JSON.stringify(l)),s(l);break;case iI.TIMEOUT:G("Connection",'RPC "'+e+'" timed out'),o(new H(R.DEADLINE_EXCEEDED,"Request time out"));break;case iI.HTTP_ERROR:const c=a.getStatus();if(G("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(p)>=0?p:R.UNKNOWN}(d.status);o(new H(h,d.message))}else o(new H(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new H(R.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{G("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zne(),o=Wne(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yne({})),this.uo(a.initMessageHeaders,t,r),RL()||OL()||function See(){return ln().indexOf("Electron/")>=0}()||NL()||function Aee(){return ln().indexOf("MSAppHost/")>=0}()||sg()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");G("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new Jie({jr:p=>{d?G("Connection","Not sending because WebChannel is closed:",p):(c||(G("Connection","Opening WebChannel transport."),l.open(),c=!0),G("Connection","WebChannel sending:",p),l.send(p))},Wr:()=>l.close()}),f=(p,g,I)=>{p.listen(g,x=>{try{I(x)}catch(O){setTimeout(()=>{throw O},0)}})};return f(l,Fg.EventType.OPEN,()=>{d||G("Connection","WebChannel transport opened.")}),f(l,Fg.EventType.CLOSE,()=>{d||(d=!0,G("Connection","WebChannel transport closed"),h.eo())}),f(l,Fg.EventType.ERROR,p=>{d||(d=!0,Yu("Connection","WebChannel transport errored:",p),h.eo(new H(R.UNAVAILABLE,"The operation could not be completed")))}),f(l,Fg.EventType.MESSAGE,p=>{var g;if(!d){const I=p.data[0];Ee(!!I);const x=I,O=x.error||(null===(g=x[0])||void 0===g?void 0:g.error);if(O){G("Connection","WebChannel received error:",O);const T=O.status;let N=function(Q){const Ie=zt[Q];if(void 0!==Ie)return rU(Ie)}(T),z=O.message;void 0===N&&(N=R.INTERNAL,z="Unknown error status: "+T+" with message "+O.message),d=!0,h.eo(new H(N,z)),l.close()}else G("Connection","WebChannel received:",I),h.no(I)}}),f(o,Qne.STAT_EVENT,p=>{p.stat===c2.PROXY?G("Connection","Detected buffering proxy"):p.stat===c2.NOPROXY&&G("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function cm(){return typeof document<"u"?document:null}function th(n){return new $re(n,!0)}class HI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class hB{constructor(e,t,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new HI(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return y(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return y(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return y(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(Nt(t.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===R.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new H(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(y(function*(){e.state=0,e.start()}))}qo(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zie extends hB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function qre(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:se(),i=e.targetChange.targetIds||[],s=function(u,l){return u.dt?(Ee(void 0===l||"string"==typeof l),Zt.fromBase64String(l||"")):(Ee(void 0===l||l instanceof Uint8Array),Zt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?R.UNKNOWN:rU(u.code);return new H(l,u.message||"")}(o);t=new uU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=zi(n,r.document.name),s=fn(r.document.updateTime),o=new Sn({mapValue:{fields:r.document.fields}}),a=ft.newFoundDocument(i,s,o);t=new Yg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=zi(n,r.document),s=r.readTime?fn(r.readTime):_e.min(),o=ft.newNoDocument(i,s);t=new Yg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=zi(n,r.document);t=new Yg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return se();{const r=e.filter,s=new Nre(r.count||0);t=new aU(r.targetId,s)}}var u;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return _e.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?fn(s.readTime):_e.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=qd(this.wt),t.addTarget=function(i,s){let o;const a=s.target;return o=Hg(a)?{documents:_U(i,a)}:{query:vU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=hU(i,s.resumeToken):s.snapshotVersion.compareTo(_e.min())>0&&(o.readTime=Hd(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function Wre(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return se()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=qd(this.wt),t.removeTarget=e,this.Oo(t)}}class ese extends hB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function zre(n,e){return n&&n.length>0?(Ee(void 0!==e),n.map(t=>function(r,i){let s=fn(r.updateTime?r.updateTime:i);return s.isEqual(_e.min())&&(s=fn(i)),new kre(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.Jo(r,t)}return Ee(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=qd(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function zd(n,e){let t;if(e instanceof sl)t={update:mU(n,e.key,e.value)};else if(e instanceof ol)t={delete:Gd(n,e.key)};else if(e instanceof Cs)t={update:mU(n,e.key,e.data),updateMask:Xre(e.fieldMask)};else{if(!(e instanceof vI))return se();t={verify:Gd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof rl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ma)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ya)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof il)return{fieldPath:s.field.canonicalString(),increment:o._t};throw se()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Hre(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:se()),t;var i}(this.wt,r))};this.Oo(t)}}class tse extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(R.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(R.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class nse{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Nt(t),this.su=!1):G("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class rse{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(y(function*(){var u;bo(o)&&(G("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const c=J(l);c.lu.add(4),yield fl(c),c._u.set("Unknown"),c.lu.delete(4),yield nh(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this._u=new nse(r,i)}}function nh(n){return GI.apply(this,arguments)}function GI(){return GI=y(function*(n){if(bo(n))for(const e of n.fu)yield e(!0)}),GI.apply(this,arguments)}function fl(n){return qI.apply(this,arguments)}function qI(){return qI=y(function*(n){for(const e of n.fu)yield e(!1)}),qI.apply(this,arguments)}function dm(n,e){const t=J(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),KI(t)?WI(t):gl(t).Co()&&zI(t,e))}function rh(n,e){const t=J(n),r=gl(t);t.hu.delete(e),r.Co()&&fB(t,e),0===t.hu.size&&(r.Co()?r.ko():bo(t)&&t._u.set("Unknown"))}function zI(n,e){n.wu.Nt(e.targetId),gl(n).Qo(e)}function fB(n,e){n.wu.Nt(e),gl(n).jo(e)}function WI(n){n.wu=new Ure({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),gl(n).start(),n._u.iu()}function KI(n){return bo(n)&&!gl(n).Do()&&n.hu.size>0}function bo(n){return 0===J(n).lu.size}function pB(n){n.wu=void 0}function ise(n){return QI.apply(this,arguments)}function QI(){return QI=y(function*(n){n.hu.forEach((e,t)=>{zI(n,e)})}),QI.apply(this,arguments)}function sse(n,e){return YI.apply(this,arguments)}function YI(){return YI=y(function*(n,e){pB(n),KI(n)?(n._u.uu(e),WI(n)):n._u.set("Unknown")}),YI.apply(this,arguments)}function ose(n,e,t){return JI.apply(this,arguments)}function JI(){return JI=y(function*(n,e,t){if(n._u.set("Online"),e instanceof uU&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hm(n,r)}else if(e instanceof Yg?n.wu.Ut(e):e instanceof aU?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(_e.min()))try{const r=yield nB(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(Zt.EMPTY_BYTE_STRING,u.snapshotVersion)),fB(i,a);const l=new _o(u.target,a,1,u.sequenceNumber);zI(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){G("RemoteStore","Failed to raise snapshot:",r),yield hm(n,r)}var r}),JI.apply(this,arguments)}function hm(n,e,t){return XI.apply(this,arguments)}function XI(){return XI=y(function*(n,e,t){if(!co(e))throw e;n.lu.add(1),yield fl(n),n._u.set("Offline"),t||(t=()=>nB(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){G("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield nh(n)}))}),XI.apply(this,arguments)}function gB(n,e){return e().catch(t=>hm(n,t,e))}function pl(n){return ZI.apply(this,arguments)}function ZI(){return ZI=y(function*(n){const e=J(n),t=Eo(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;ase(e);)try{const i=yield zie(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,use(e,i)}catch(i){yield hm(e,i)}mB(e)&&yB(e)}),ZI.apply(this,arguments)}function ase(n){return bo(n)&&n.au.length<10}function use(n,e){n.au.push(e);const t=Eo(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function mB(n){return bo(n)&&!Eo(n).Do()&&n.au.length>0}function yB(n){Eo(n).start()}function lse(n){return e0.apply(this,arguments)}function e0(){return e0=y(function*(n){Eo(n).Xo()}),e0.apply(this,arguments)}function cse(n){return t0.apply(this,arguments)}function t0(){return t0=y(function*(n){const e=Eo(n);for(const t of n.au)e.Ho(t.mutations)}),t0.apply(this,arguments)}function dse(n,e,t){return n0.apply(this,arguments)}function n0(){return n0=y(function*(n,e,t){const r=n.au.shift(),i=DI.from(r,e,t);yield gB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield pl(n)}),n0.apply(this,arguments)}function hse(n,e){return r0.apply(this,arguments)}function r0(){return r0=y(function*(n,e){var t;e&&Eo(n).zo&&(yield(t=y(function*(r,i){if(nU(s=i.code)&&s!==R.ABORTED){const o=r.au.shift();Eo(r).No(),yield gB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield pl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),mB(n)&&yB(n)}),r0.apply(this,arguments)}function _B(n,e){return s0.apply(this,arguments)}function s0(){return s0=y(function*(n,e){const t=J(n);t.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=bo(t);t.lu.add(3),yield fl(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield nh(t)}),s0.apply(this,arguments)}function a0(){return a0=y(function*(n,e){const t=J(n);e?(t.lu.delete(2),yield nh(t)):e||(t.lu.add(2),yield fl(t),t._u.set("Unknown"))}),a0.apply(this,arguments)}function gl(n){return n.mu||(n.mu=function(e,t,r){const i=J(e);return i.tu(),new Zie(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:ise.bind(null,n),Jr:sse.bind(null,n),Go:ose.bind(null,n)}),n.fu.push(function(){var e=y(function*(t){t?(n.mu.No(),KI(n)?WI(n):n._u.set("Unknown")):(yield n.mu.stop(),pB(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Eo(n){return n.gu||(n.gu=function(e,t,r){const i=J(e);return i.tu(),new ese(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:lse.bind(null,n),Jr:hse.bind(null,n),Yo:cse.bind(null,n),Jo:dse.bind(null,n)}),n.fu.push(function(){var e=y(function*(t){t?(n.gu.No(),yield pl(n)):(yield n.gu.stop(),n.au.length>0&&(G("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class u0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new u0(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ml(n,e){if(Nt("AsyncQueue",`${e}: ${n}`),co(n))return new H(R.UNAVAILABLE,`${e}: ${n}`);throw n}class yl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Ud(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vB{constructor(){this.yu=new St(Y.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):se():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class _l{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new _l(e,t,yl.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fse{constructor(){this.Iu=void 0,this.listeners=[]}}class pse{constructor(){this.queries=new yo(e=>B2(e),Fd),this.onlineState="Unknown",this.Tu=new Set}}function c0(){return c0=y(function*(n,e){const t=J(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new fse),i)try{s.Iu=yield t.onListen(r)}catch(o){const a=ml(o,`Initialization of query '${yI(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&f0(t)}),c0.apply(this,arguments)}function h0(){return h0=y(function*(n,e){const t=J(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),h0.apply(this,arguments)}function gse(n,e){const t=J(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&f0(t)}function mse(n,e,t){const r=J(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function f0(n){n.Tu.forEach(e=>{e.next()})}class p0{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class EB{constructor(e){this.key=e}}class IB{constructor(e){this.key=e}}class CB{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Re(),this.mutatedKeys=Re(),this.Lu=$2(e),this.Uu=new yl(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new vB,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=_I(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let I=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),I=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),I=!0,(u&&this.Lu(f,u)>0||l&&this.Lu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),I=!0):h&&!f&&(r.track({type:1,doc:h}),I=!0,(u||l)&&(a=!0)),I&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Mi:a,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return f(d)-f(h)}(l.type,c.type)||this.Lu(l.doc,c.doc)),this.ju(r);const o=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new _l(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new vB,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Re(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new IB(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new EB(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Re();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return _l.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class vse{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wse{constructor(e){this.key=e,this.Xu=!1}}class bse{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new yo(a=>B2(a),Fd),this.ec=new Map,this.nc=new Set,this.sc=new St(Y.comparator),this.ic=new Map,this.rc=new MI,this.oc={},this.uc=new Map,this.cc=Ca.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Ese(n,e){return g0.apply(this,arguments)}function g0(){return g0=y(function*(n,e){const t=V0(n);let r,i;const s=t.tc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield dl(t.localStore,mr(e));t.isPrimaryClient&&dm(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield m0(t,e,r,"current"===a)}return i}),g0.apply(this,arguments)}function m0(n,e,t,r){return y0.apply(this,arguments)}function y0(){return y0=y(function*(n,e,t,r){n.hc=(c,d,h)=>{return(f=y(function*(p,g,I,x){let O=g.view.Ku(I);O.Mi&&(O=yield am(p.localStore,g.query,!1).then(({documents:z})=>g.view.Ku(z,O)));const T=x&&x.targetChanges.get(g.targetId),N=g.view.applyChanges(O,p.isPrimaryClient,T);return S0(p,g.targetId,N.zu),N.snapshot}),function(p,g,I,x){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield am(n.localStore,e,!0),s=new CB(e,i.ji),o=s.Ku(i.documents),a=$d.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);S0(n,t,u.zu);const l=new vse(e,t,s);return n.tc.set(e,l),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),u.snapshot}),y0.apply(this,arguments)}function Ise(n,e){return _0.apply(this,arguments)}function _0(){return _0=y(function*(n,e){const t=J(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(s=>!Fd(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield hl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rh(t.remoteStore,r.targetId),vl(t,r.targetId)}).catch(lo))):(vl(t,r.targetId),yield hl(t.localStore,r.targetId,!0))}),_0.apply(this,arguments)}function v0(){return v0=y(function*(n,e,t){const r=U0(n);try{const i=yield function(s,o){const a=J(s),u=Et.now(),l=o.reduce((h,f)=>h.add(f.key),Re());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=yr(),p=Re();return a.Ui.getEntries(h,l).next(g=>{f=g,f.forEach((I,x)=>{x.isValidDocument()||(p=p.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const I=[];for(const x of o){const O=Ore(x,c.get(x.key).overlayedDocument);null!=O&&I.push(new Cs(x.key,O,k2(O.value.mapValue),It.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,I,o)}).next(g=>{d=g;const I=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,I)})}).then(()=>({batchId:d.batchId,changes:sU(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oc[s.currentUser.toKey()];u||(u=new St(Te)),u=u.insert(o,a),s.oc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ds(r,i.changes),yield pl(r.remoteStore)}catch(i){const s=ml(i,"Failed to persist write");t.reject(s)}}),v0.apply(this,arguments)}function DB(n,e){return w0.apply(this,arguments)}function w0(){return w0=y(function*(n,e){const t=J(n);try{const r=yield qie(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ic.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?Ee(o.Xu):i.removedDocuments.size>0&&(Ee(o.Xu),o.Xu=!1))}),yield Ds(t,r,e)}catch(r){yield lo(r)}}),w0.apply(this,arguments)}function TB(n,e,t){const r=J(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=J(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Eu(o)&&(u=!0)}),u&&f0(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dse(n,e,t){return b0.apply(this,arguments)}function b0(){return b0=y(function*(n,e,t){const r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new St(Y.comparator);o=o.insert(s,ft.newNoDocument(s,_e.min()));const a=Re().add(s),u=new jd(_e.min(),new Map,new nt(Te),o,a);yield DB(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),A0(r)}else yield hl(r.localStore,e,!1).then(()=>vl(r,e,t)).catch(lo)}),b0.apply(this,arguments)}function Tse(n,e){return E0.apply(this,arguments)}function E0(){return E0=y(function*(n,e){const t=J(n),r=e.batch.batchId;try{const i=yield Gie(t.localStore,e);T0(t,r,null),D0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ds(t,i)}catch(i){yield lo(i)}}),E0.apply(this,arguments)}function Sse(n,e,t){return I0.apply(this,arguments)}function I0(){return I0=y(function*(n,e,t){const r=J(n);try{const i=yield function(s,o){const a=J(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(Ee(null!==c),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);T0(r,e,t),D0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ds(r,i)}catch(i){yield lo(i)}}),I0.apply(this,arguments)}function D0(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function T0(n,e,t){const r=J(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function vl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||SB(n,r)})}function SB(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(rh(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),A0(n))}function S0(n,e,t){for(const r of t)r instanceof EB?(n.rc.addReference(r.key,e),xse(n,r)):r instanceof IB?(G("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||SB(n,r.key)):se()}function xse(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(G("SyncEngine","New document in limbo: "+t),n.nc.add(r),A0(n))}function A0(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new Y(Ge.fromString(e)),r=n.cc.next();n.ic.set(r,new wse(t)),n.sc=n.sc.insert(t,r),dm(n.remoteStore,new _o(mr(tl(t.path)),r,2,gr.ot))}}function Ds(n,e,t){return x0.apply(this,arguments)}function x0(){return x0=y(function*(n,e,t){const r=J(n),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=NI.Vi(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=y(function*(u,l){const c=J(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>k.forEach(l,h=>k.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>k.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!co(d))throw d;G("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.$i.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.$i=c.$i.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),x0.apply(this,arguments)}function Mse(n,e){return M0.apply(this,arguments)}function M0(){return M0=y(function*(n,e){const t=J(n);if(!t.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=yield tB(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(o=>{o.forEach(a=>{a.reject(new H(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ds(t,r.Ki)}var i}),M0.apply(this,arguments)}function kse(n,e){const t=J(n),r=t.ic.get(e);if(r&&r.Xu)return Re().add(r.key);{let i=Re();const s=t.ec.get(e);if(!s)return i;for(const o of s){const a=t.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function V0(n){const e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dse.bind(null,e),e.Zu.Go=gse.bind(null,e.eventManager),e.Zu.lc=mse.bind(null,e.eventManager),e}function U0(n){const e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sse.bind(null,e),e}class Bse{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.wt=th(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return function eB(n,e,t,r){return new Hie(n,e,t,r)}(this.persistence,new ZU,e.initialUser,this.wt)}_c(e){return new JU(sm.Os,this.wt)}dc(e){return new lB}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class B0{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>TB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Mse.bind(null,r.syncEngine),yield function o0(n,e){return a0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pse}createDatastore(e){const t=th(e.databaseInfo.databaseId),r=new Xie(e.databaseInfo);return new tse(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>TB(this.syncEngine,a,0),o=cB.V()?new cB:new Qie,new rse(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new bse(r,i,s,o,a,u);return l&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=y(function*(t){const r=J(t);G("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield fl(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zse{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=p2.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){G("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ml(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kB(n,e){return j0.apply(this,arguments)}function j0(){return j0=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield tB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),j0.apply(this,arguments)}function RB(n,e){return $0.apply(this,arguments)}function $0(){return $0=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield H0(n);G("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>_B(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>_B(e.remoteStore,s)),n.onlineComponents=e}),$0.apply(this,arguments)}function H0(n){return G0.apply(this,arguments)}function G0(){return G0=y(function*(n){return n.offlineComponents||(G("FirestoreClient","Using default OfflineComponentProvider"),yield kB(n,new Bse)),n.offlineComponents}),G0.apply(this,arguments)}function pm(n){return q0.apply(this,arguments)}function q0(){return q0=y(function*(n){return n.onlineComponents||(G("FirestoreClient","Using default OnlineComponentProvider"),yield RB(n,new B0)),n.onlineComponents}),q0.apply(this,arguments)}function wl(n){return W0.apply(this,arguments)}function W0(){return W0=y(function*(n){const e=yield pm(n),t=e.eventManager;return t.onListen=Ese.bind(null,e.syncEngine),t.onUnlisten=Ise.bind(null,e.syncEngine),t}),W0.apply(this,arguments)}const LB=new Map;function K0(n,e,t){if(!t)throw new H(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VB(n){if(!Y.isDocumentKey(n))throw new H(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":se()}function ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mm(n);throw new H(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class jB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new H(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function toe(n,e,t,r){if(!0===e&&!0===r)throw new H(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jB({}),this._settingsFrozen=!1,e instanceof fo?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new H(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(i.options.projectId)}(e))}get app(){if(!this._app)throw new H(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Xne;switch(t.type){case"gapi":const r=t.client;return Ee(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new nre(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new H(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LB.get(e);t&&(G("ComponentProvider","Removing Datastore"),LB.delete(e),t.terminate())}(this),Promise.resolve()}}class Ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class qn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qn(this.firestore,e,this._query)}}class Ki extends qn{constructor(e,t,r){super(e,t,tl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Y(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function ym(n,e,...t){if(n=nr(n),1===arguments.length&&(e=p2.I()),K0("doc","path",e),n instanceof ih){const r=Ge.fromString(e,...t);return VB(r),new Ft(n,null,new Y(r))}{if(!(n instanceof Ft||n instanceof Ki))throw new H(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return VB(r),new Ft(n.firestore,n instanceof Ki?n.converter:null,new Y(r))}}class roe{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new HI(this,"async_queue_retry"),this.Kc=()=>{const t=cm();t&&G("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=cm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=cm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new hn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return y(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!co(t))throw t;G("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=u0.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&se()}verifyOperationInProgress(){}zc(){var e=this;return y(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Q0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class vt extends ih{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new roe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$B(this),this._firestoreClient.terminate()}}function soe(n=cg()){return na(n,"firestore").getImmediate()}function en(n){return n._firestoreClient||$B(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $B(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pre(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new zse(n._authCredentials,n._appCheckCredentials,n._queue,r)}class bl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new H(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Zt.fromBase64String(e))}catch(t){throw new H(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ta(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qB{constructor(e){this._methodName=e}}class Y0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}const ooe=/^__.*__$/;class aoe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}function WB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class _m{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return wm(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(WB(this.Zc)&&ooe.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class uoe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||th(e)}aa(e,t,r,i=!1){return new _m({Zc:e,methodName:t,ca:r,path:Pt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function El(n){const e=n._freezeSettings(),t=th(n._databaseId);return new uoe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function J0(n,e,t,r,i,s={}){const o=n.aa(s.merge||s.mergeFields?2:0,e,t,i);Z0("Data must be an object, but it was:",o,r);const a=XB(r,o);let u,l;if(s.merge)u=new Ur(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=eC(e,d,t);if(!o.contains(h))throw new H(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ej(c,h)||c.push(h)}u=new Ur(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new aoe(new Sn(a),u,l)}function Sa(n,e){if(ZB(n=nr(n)))return Z0("Unsupported field value:",e,n),XB(n,e);if(n instanceof qB)return function(t,r){if(!WB(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Sa(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=nr(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return q2(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Et.fromDate(t);return{timestampValue:Hd(r.wt,i)}}if(t instanceof Et){const i=new Et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hd(r.wt,i)}}if(t instanceof Y0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ta)return{bytesValue:hU(r.wt,t._byteString)};if(t instanceof Ft){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${mm(t)}`)}(n,e)}function XB(n,e){const t={};return b2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,(r,i)=>{const s=Sa(i,e.ea(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function ZB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof Y0||n instanceof Ta||n instanceof Ft||n instanceof qB)}function Z0(n,e,t){if(!ZB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mm(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function eC(n,e,t){if((e=nr(e))instanceof bl)return e._internalPath;if("string"==typeof e)return vm(n,e);throw wm("Field path arguments must be of type string or ",n,!1,void 0,t)}const hoe=new RegExp("[~\\*/\\[\\]]");function vm(n,e,t){if(e.search(hoe)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bl(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wm(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(R.INVALID_ARGUMENT,a+n+u)}function ej(n,e){return n.some(t=>t.isEqual(e))}class tC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new foe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class foe extends tC{data(){return super.data()}}function bm(n,e){return"string"==typeof e?vm(n,e):e instanceof bl?e._internalPath:e._delegate._internalPath}class Aa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Il extends tC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Em extends Il{data(e={}){return super.data(e)}}class Cl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Em(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Em(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Aa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Em(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Aa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:poe(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function poe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class xa extends class _oe{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw se()}}convertObject(e,t){const r={};return da(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Y0(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=I2(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const t=ho(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ge.fromString(e);Ee(EU(r));const i=new fo(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(t)||Nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function oh(n,e){return function(t,r){const i=new hn;return t.asyncQueue.enqueueAndForget(y(function*(){return function Cse(n,e,t){return v0.apply(this,arguments)}(yield function z0(n){return pm(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(en(n),e)}!function(n,e=!0){Qu="9.9.3",Hn(new En("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new vt(i,new ere(t.getProvider("auth-internal")),new rre(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),pt(d2,"3.4.14",n),pt(d2,"3.4.14","esm2017")}();var Ioe={includeMetadataChanges:!1};function iC(n,e){return void 0===e&&(e=Ioe),new wt(function(t){var r=function boe(n,...e){var t,r,i;n=nr(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Q0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Q0(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof Ft)l=ze(n.firestore,vt),c=tl(n._key.path),u={next:d=>{e[o]&&e[o](function rC(n,e,t){const r=t.docs.get(e._key),i=new xa(n);return new Il(n,i,e._key,r,new Aa(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ze(n,qn);l=ze(d.firestore,vt),c=d._query;const h=new xa(l);u={next:f=>{e[o]&&e[o](new Cl(l,h,d,f))},error:e[o+1],complete:e[o+2]},function tj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new H(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const g=new fm(p),I=new p0(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function l0(n,e){return c0.apply(this,arguments)}(yield wl(d),I)})),()=>{g.Tc(),d.asyncQueue.enqueueAndForget(y(function*(){return function d0(n,e){return h0.apply(this,arguments)}(yield wl(d),I)}))}}(en(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function cj(n,e){return void 0===e&&(e={}),function Coe(n){return iC(n,{includeMetadataChanges:!0})}(n).pipe(je(function(t){return function dj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}pt("firebase","9.9.3","app");const gj="@firebase/installations",aC="0.5.12",yj=`w:${aC}`,_j="FIS_v2",Ts=new Hi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vj(n){return n instanceof Fr&&n.code.includes("request-failed")}function uC({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function wj(n){return{token:n.token,requestStatus:2,expiresIn:Loe(n.expiresIn),creationTime:Date.now()}}function lC(n,e){return cC.apply(this,arguments)}function cC(){return cC=y(function*(n,e){const r=(yield e.json()).error;return Ts.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),cC.apply(this,arguments)}function bj({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ej(n,{refreshToken:e}){const t=bj(n);return t.append("Authorization",function Voe(n){return`${_j} ${n}`}(e)),t}function dC(n){return hC.apply(this,arguments)}function hC(){return hC=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),hC.apply(this,arguments)}function Loe(n){return Number(n.replace("s","000"))}function Uoe(n,e){return fC.apply(this,arguments)}function fC(){return fC=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=uC(n),i=bj(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:_j,appId:n.appId,sdkVersion:yj})},u=yield dC(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:wj(l.authToken)}}throw yield lC("Create Installation",u)}),fC.apply(this,arguments)}function Ij(n){return new Promise(e=>{setTimeout(e,n)})}const joe=/^[cdef][\w-]{21}$/;function $oe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Hoe(n){return function Boe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return joe.test(t)?t:""}catch{return""}}function Dl(n){return`${n.appName}!${n.appId}`}const Tl=new Map;function Cj(n,e){const t=Dl(n);Dj(t,e),function zoe(n,e){const t=function Tj(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=n=>{Dj(n.data.key,n.data.fid)}),Ma}();t&&t.postMessage({key:n,fid:e}),function Sj(){0===Tl.size&&Ma&&(Ma.close(),Ma=null)}()}(t,e)}function Dj(n,e){const t=Tl.get(n);if(t)for(const r of t)r(e)}let Ma=null;const ka="firebase-installations-store";let gC=null;function mC(){return gC||(gC=ug("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ka)}})),gC}function Cm(n,e){return yC.apply(this,arguments)}function yC(){return yC=y(function*(n,e){const t=Dl(n),i=(yield mC()).transaction(ka,"readwrite"),s=i.objectStore(ka),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&Cj(n,e.fid),e}),yC.apply(this,arguments)}function _C(n){return vC.apply(this,arguments)}function vC(){return vC=y(function*(n){const e=Dl(n),r=(yield mC()).transaction(ka,"readwrite");yield r.objectStore(ka).delete(e),yield r.done}),vC.apply(this,arguments)}function ah(n,e){return wC.apply(this,arguments)}function wC(){return wC=y(function*(n,e){const t=Dl(n),i=(yield mC()).transaction(ka,"readwrite"),s=i.objectStore(ka),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&Cj(n,a.fid),a}),wC.apply(this,arguments)}function bC(n){return EC.apply(this,arguments)}function EC(){return EC=y(function*(n){let e;const t=yield ah(n.appConfig,r=>{const i=Qoe(r),s=Yoe(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),EC.apply(this,arguments)}function Qoe(n){return xj(n||{fid:$oe(),registrationStatus:0})}function Yoe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ts.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Joe(n,e){return IC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Xoe(n)}:{installationEntry:e}}function IC(){return IC=y(function*(n,e){try{const t=yield Uoe(n,e);return Cm(n.appConfig,t)}catch(t){throw vj(t)&&409===t.customData.serverCode?yield _C(n.appConfig):yield Cm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),IC.apply(this,arguments)}function Xoe(n){return CC.apply(this,arguments)}function CC(){return CC=y(function*(n){let e=yield Aj(n.appConfig);for(;1===e.registrationStatus;)yield Ij(100),e=yield Aj(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield bC(n);return r||t}return e}),CC.apply(this,arguments)}function Aj(n){return ah(n,e=>{if(!e)throw Ts.create("installation-not-found");return xj(e)})}function xj(n){return function Zoe(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function eae(n,e){return DC.apply(this,arguments)}function DC(){return DC=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=tae(n,t),i=Ej(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:yj,appId:n.appId}})},u=yield dC(()=>fetch(r,a));if(u.ok)return wj(yield u.json());throw yield lC("Generate Auth Token",u)}),DC.apply(this,arguments)}function tae(n,{fid:e}){return`${uC(n)}/${e}/authTokens:generate`}function TC(n){return SC.apply(this,arguments)}function SC(){return SC=y(function*(n,e=!1){let t;const r=yield ah(n.appConfig,s=>{if(!kj(s))throw Ts.create("not-registered");const o=s.authToken;if(!e&&iae(o))return s;if(1===o.requestStatus)return t=nae(n,e),s;{if(!navigator.onLine)throw Ts.create("app-offline");const a=oae(s);return t=rae(n,a),a}});return t?yield t:r.authToken}),SC.apply(this,arguments)}function nae(n,e){return AC.apply(this,arguments)}function AC(){return AC=y(function*(n,e){let t=yield Mj(n.appConfig);for(;1===t.authToken.requestStatus;)yield Ij(100),t=yield Mj(n.appConfig);const r=t.authToken;return 0===r.requestStatus?TC(n,e):r}),AC.apply(this,arguments)}function Mj(n){return ah(n,e=>{if(!kj(e))throw Ts.create("not-registered");return function aae(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function rae(n,e){return xC.apply(this,arguments)}function xC(){return xC=y(function*(n,e){try{const t=yield eae(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Cm(n.appConfig,r),t}catch(t){if(!vj(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Cm(n.appConfig,r)}else yield _C(n.appConfig);throw t}}),xC.apply(this,arguments)}function kj(n){return void 0!==n&&2===n.registrationStatus}function iae(n){return 2===n.requestStatus&&!function sae(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function oae(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function MC(){return MC=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield bC(e);return r?r.catch(console.error):TC(e).catch(console.error),t.fid}),MC.apply(this,arguments)}function kC(){return kC=y(function*(n,e=!1){const t=n;return yield cae(t),(yield TC(t,e)).token}),kC.apply(this,arguments)}function cae(n){return RC.apply(this,arguments)}function RC(){return RC=y(function*(n){const{registrationPromise:e}=yield bC(n);e&&(yield e)}),RC.apply(this,arguments)}function PC(n){return Ts.create("missing-app-config-values",{valueName:n})}const Rj="installations",gae=n=>{const e=n.getProvider("app").getImmediate(),t=function fae(n){if(!n||!n.options)throw PC("App Configuration");if(!n.name)throw PC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw PC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:na(e,"heartbeat"),_delete:()=>Promise.resolve()}},mae=n=>{const t=na(n.getProvider("app").getImmediate(),Rj).getImmediate();return{getId:()=>function uae(n){return MC.apply(this,arguments)}(t),getToken:i=>function lae(n){return kC.apply(this,arguments)}(t,i)}};(function yae(){Hn(new En(Rj,gae,"PUBLIC")),Hn(new En("installations-internal",mae,"PRIVATE"))})(),pt(gj,aC),pt(gj,aC,"esm2017");const FC="@firebase/remote-config",vr=new Hi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Aae{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function xae(n=navigator){return n.languages&&n.languages[0]||n.language}class Mae{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:xae()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(l,h),p=new Promise((N,z)=>{e.signal.addEventListener(()=>{const Q=new Error("The operation was aborted.");Q.name="AbortError",z(Q)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(N){let z="fetch-client-network";throw"AbortError"===(null===(r=N)||void 0===r?void 0:r.name)&&(z="fetch-timeout"),vr.create(z,{originalErrorMessage:null===(i=N)||void 0===i?void 0:i.message})}let I=g.status;const x=g.headers.get("ETag")||void 0;let O,T;if(200===g.status){let N;try{N=yield g.json()}catch(z){throw vr.create("fetch-client-parse",{originalErrorMessage:null===(s=z)||void 0===s?void 0:s.message})}O=N.entries,T=N.state}if("INSTANCE_STATE_UNSPECIFIED"===T?I=500:"NO_CHANGE"===T?I=304:("NO_TEMPLATE"===T||"EMPTY_CONFIG"===T)&&(O={}),304!==I&&200!==I)throw vr.create("fetch-status",{httpStatus:I});return{status:I,eTag:x,config:O}})()}}class Oae{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function kae(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Rae(n){if(!(n instanceof Fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Zb(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Fae{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tm(n,e){var t;const r=n.target.error||void 0;return vr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Ra="app_namespace_store";class Bae{constructor(e,t,r,i=function Uae(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Tm(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ra,{keyPath:"compositeKey"})}}catch(r){e(vr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Ra],"readonly").objectStore(Ra),l=t.createCompositeKey(e);try{const c=u.get(l);c.onerror=d=>{s(Tm(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(vr.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const l=i.transaction([Ra],"readwrite").objectStore(Ra),c=r.createCompositeKey(e);try{const d=l.put({compositeKey:c,value:t});d.onerror=h=>{o(Tm(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(vr.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Ra],"readwrite").objectStore(Ra),l=t.createCompositeKey(e);try{const c=u.delete(l);c.onerror=d=>{s(Tm(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(vr.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class jae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Hae(){return jC.apply(this,arguments)}function jC(){return(jC=y(function*(){if(!Xo())return!1;try{return yield sd()}catch{return!1}})).apply(this,arguments)}!function $ae(){Hn(new En("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vr.create("registration-window");if(!Xo())throw vr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw vr.create("registration-project-id");if(!o)throw vr.create("registration-api-key");if(!a)throw vr.create("registration-app-id");const u=new Bae(a,r.name,t=t||"firebase"),l=new jae(u),c=new Hu(FC);c.logLevel=He.ERROR;const d=new Mae(i,ra,t,s,o,a),h=new Oae(d,u),f=new Aae(h,u,l,c),p=new Fae(r,f,l,u,c);return function Dae(n){const e=nr(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),pt(FC,"0.3.11"),pt(FC,"0.3.11","esm2017")}();const Gae="/firebase-messaging-sw.js",qae="/firebase-cloud-messaging-push-scope",Fj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lj="google.c.a.c_id",Wae="google.c.a.c_l",Kae="google.c.a.ts",Qae="google.c.a.e";var Sl=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(Sl||(Sl={})),Sl))();function Ss(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yae(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const $C="fcm_token_details_db",Vj="fcm_token_object_Store";function Xae(n){return HC.apply(this,arguments)}function HC(){return HC=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes($C))return null;let e=null;return(yield ug($C,5,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Vj))return;const l=a.objectStore(Vj),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ss(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ss(d.auth),p256dh:Ss(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ss(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ss(d.auth),p256dh:Ss(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ss(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield oE($C),yield oE("fcm_vapid_details_db"),yield oE("undefined"),Zae(e)?e:null;var r}),HC.apply(this,arguments)}function Zae(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Oa="firebase-messaging-store";let GC=null;function qC(){return GC||(GC=ug("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Oa)}})),GC}function Uj(n){return zC.apply(this,arguments)}function zC(){return zC=y(function*(n){const e=YC(n),r=yield(yield qC()).transaction(Oa).objectStore(Oa).get(e);if(r)return r;{const i=yield Xae(n.appConfig.senderId);if(i)return yield WC(n,i),i}}),zC.apply(this,arguments)}function WC(n,e){return KC.apply(this,arguments)}function KC(){return KC=y(function*(n,e){const t=YC(n),i=(yield qC()).transaction(Oa,"readwrite");return yield i.objectStore(Oa).put(e,t),yield i.done,e}),KC.apply(this,arguments)}function nue(n){return QC.apply(this,arguments)}function QC(){return QC=y(function*(n){const e=YC(n),r=(yield qC()).transaction(Oa,"readwrite");yield r.objectStore(Oa).delete(e),yield r.done}),QC.apply(this,arguments)}function YC({appConfig:n}){return n.appId}const xn=new Hi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function iue(n,e){return JC.apply(this,arguments)}function JC(){return JC=y(function*(n,e){var t;const r=yield tD(n),i=jj(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(eD(n.appConfig),s)).json()}catch(a){throw xn.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw xn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw xn.create("token-subscribe-no-token");return o.token}),JC.apply(this,arguments)}function sue(n,e){return XC.apply(this,arguments)}function XC(){return XC=y(function*(n,e){var t;const r=yield tD(n),i=jj(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${eD(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw xn.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw xn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw xn.create("token-update-no-token");return o.token}),XC.apply(this,arguments)}function Bj(n,e){return ZC.apply(this,arguments)}function ZC(){return ZC=y(function*(n,e){var t;const i={method:"DELETE",headers:yield tD(n)};try{const o=yield(yield fetch(`${eD(n.appConfig)}/${e}`,i)).json();if(o.error)throw xn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw xn.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}}),ZC.apply(this,arguments)}function eD({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function tD(n){return nD.apply(this,arguments)}function nD(){return nD=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),nD.apply(this,arguments)}function jj({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Fj&&(i.web.applicationPubKey=r),i}function aue(n){return rD.apply(this,arguments)}function rD(){return rD=y(function*(n){const e=yield lue(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ss(e.getKey("auth")),p256dh:Ss(e.getKey("p256dh"))},r=yield Uj(n.firebaseDependencies);if(r){if(cue(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?uue(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Bj(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Hj(n.firebaseDependencies,t)}return Hj(n.firebaseDependencies,t)}),rD.apply(this,arguments)}function $j(n){return iD.apply(this,arguments)}function iD(){return iD=y(function*(n){const e=yield Uj(n.firebaseDependencies);e&&(yield Bj(n.firebaseDependencies,e.token),yield nue(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),iD.apply(this,arguments)}function uue(n,e){return sD.apply(this,arguments)}function sD(){return sD=y(function*(n,e){try{const t=yield sue(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield WC(n.firebaseDependencies,r),t}catch(t){throw yield $j(n),t}}),sD.apply(this,arguments)}function Hj(n,e){return oD.apply(this,arguments)}function oD(){return oD=y(function*(n,e){const r={token:yield iue(n,e),createTime:Date.now(),subscriptionOptions:e};return yield WC(n,r),r.token}),oD.apply(this,arguments)}function lue(n,e){return aD.apply(this,arguments)}function aD(){return aD=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yae(e)})}),aD.apply(this,arguments)}function cue(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Gj(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function due(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function hue(n,e){!e.data||(n.data=e.data)}(e,n),function fue(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function pue(n){return"object"==typeof n&&!!n&&Lj in n}function qj(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function uD(n){return xn.create("missing-app-config-values",{valueName:n})}qj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mue{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function gue(n){if(!n||!n.options)throw uD("App Configuration Object");if(!n.name)throw uD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw uD(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function zj(n){return lD.apply(this,arguments)}function lD(){return lD=y(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Gae,{scope:qae}),n.swRegistration.update().catch(()=>{})}catch(t){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}}),lD.apply(this,arguments)}function yue(n,e){return cD.apply(this,arguments)}function cD(){return cD=y(function*(n,e){if(!e&&!n.swRegistration&&(yield zj(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");n.swRegistration=e}}),cD.apply(this,arguments)}function _ue(n,e){return dD.apply(this,arguments)}function dD(){return dD=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Fj)}),dD.apply(this,arguments)}function hD(){return hD=y(function*(n,e){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield _ue(n,e?.vapidKey),yield yue(n,e?.serviceWorkerRegistration),aue(n)}),hD.apply(this,arguments)}function vue(n,e,t){return fD.apply(this,arguments)}function fD(){return fD=y(function*(n,e,t){const r=wue(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Lj],message_name:t[Wae],message_time:t[Kae],message_device_time:Math.floor(Date.now()/1e3)})}),fD.apply(this,arguments)}function wue(n){switch(n){case Sl.NOTIFICATION_CLICKED:return"notification_open";case Sl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pD(){return pD=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Sl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Gj(t)):n.onMessageHandler.next(Gj(t)));const r=t.data;pue(r)&&"1"===r[Qae]&&(yield vue(n,t.messageType,r))}),pD.apply(this,arguments)}const Kj="@firebase/messaging",Eue=n=>{const e=new mue(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function bue(n,e){return pD.apply(this,arguments)}(e,t)),e},Iue=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Wj(n,e){return hD.apply(this,arguments)}(e,r)}};function Yj(){return gD.apply(this,arguments)}function gD(){return(gD=y(function*(){try{yield sd()}catch{return!1}return typeof window<"u"&&Xo()&&Yb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cue(){Hn(new En("messaging",Eue,"PUBLIC")),Hn(new En("messaging-internal",Iue,"PRIVATE")),pt(Kj,"0.9.16"),pt(Kj,"0.9.16","esm2017")}();const Sm="analytics",Sue="firebase_id",Mue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jj="https://www.googletagmanager.com/gtag/js",Mn=new Hu("@firebase/analytics");function Xj(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function kue(n,e){const t=document.createElement("script");t.src=`${Jj}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Oue(n,e,t,r,i,s){return _D.apply(this,arguments)}function _D(){return _D=y(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Xj(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Mn.error(a)}n("config",i,s)}),_D.apply(this,arguments)}function Nue(n,e,t,r,i){return vD.apply(this,arguments)}function vD(){return vD=y(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Xj(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Mn.error(s)}}),vD.apply(this,arguments)}function Lue(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(Jj))return e;return null}const Br=new Hi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Zj=new class jue{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $ue(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Hue(n){return wD.apply(this,arguments)}function wD(){return wD=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:$ue(r)},s=Mue.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Br.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),wD.apply(this,arguments)}function Gue(n){return bD.apply(this,arguments)}function bD(){return bD=y(function*(n,e=Zj,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Br.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Br.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Wue;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),e$({appId:r,apiKey:i,measurementId:s},o,a,e)}),bD.apply(this,arguments)}function e$(n,e,t){return ED.apply(this,arguments)}function ED(){return ED=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Zj){var s,o;const{appId:a,measurementId:u}=n;try{yield que(r,e)}catch(l){if(u)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=l)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw l}try{const l=yield Hue(n);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!zue(c)){if(i.deleteThrottleMetadata(a),u)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:u};throw l}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Zb(t,i.intervalMillis,30):Zb(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(a,h),Mn.debug(`Calling attemptFetch again in ${d} millis`),e$(n,h,r,i)}}),ED.apply(this,arguments)}function que(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zue(n){if(!(n instanceof Fr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Wue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ID,xD;function CD(){return CD=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),CD.apply(this,arguments)}function t$(n){xD=n}function n$(n){ID=n}function Zue(){return MD.apply(this,arguments)}function MD(){return MD=y(function*(){var n;if(!Xo())return Mn.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sd()}catch(e){return Mn.warn(Br.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0}),MD.apply(this,arguments)}function kD(){return kD=y(function*(n,e,t,r,i,s,o){var a;const u=Gue(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mn.error(f)),e.push(u);const l=Zue().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);Lue()||kue(s,c.measurementId),xD&&(i("consent","default",xD),t$(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Sue]=d),i("config",c.measurementId,h),ID&&(i("set",ID),n$(void 0)),c.measurementId}),kD.apply(this,arguments)}class tle{constructor(e){this.app=e}_delete(){return delete As[this.app.options.appId],Promise.resolve()}}let As={},r$=[];const i$={};let o$,xs,Am="dataLayer",RD=!1;function rle(n,e,t){!function nle(){const n=[];if(sg()&&n.push("This is a browser extension environment."),Yb()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Br.create("invalid-analytics-context",{errorInfo:e});Mn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Br.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Br.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=As[r])throw Br.create("already-exists",{id:r});if(!RD){!function Rue(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Am);const{wrappedGtag:s,gtagCore:o}=function Fue(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Pue(n,e,t,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield Nue(n,e,t,a,u):"config"===o?yield Oue(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(l){Mn.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(As,r$,i$,Am,"gtag");xs=s,o$=o,RD=!0}return As[r]=function ele(n,e,t,r,i,s,o){return kD.apply(this,arguments)}(n,r$,i$,e,o$,Am,t),new tle(n)}function sle(){return OD.apply(this,arguments)}function OD(){return(OD=y(function*(){if(sg()||!Yb()||!Xo())return!1;try{return yield sd()}catch{return!1}})).apply(this,arguments)}const a$="@firebase/analytics";!function ale(){Hn(new En(Sm,(e,{options:t})=>rle(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Hn(new En("analytics-internal",function n(e){try{const t=e.getProvider(Sm).getImmediate();return{logEvent:(r,i,s)=>function ole(n,e,t,r){n=nr(n),function Kue(n,e,t,r,i){return CD.apply(this,arguments)}(xs,As[n.app.options.appId],e,t,r).catch(i=>Mn.error(i))}(t,r,i,s)}}catch(t){throw Br.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),pt(a$,"0.8.0"),pt(a$,"0.8.0","esm2017")}();class ule extends M{constructor(e,t){super()}schedule(e,t=0){return this}}const xm={setInterval(n,e,...t){const{delegate:r}=xm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=xm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class l$ extends ule{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return xm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;xm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,S(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const c$={now:()=>(c$.delegate||Date).now(),delegate:void 0};class uh{constructor(e,t=uh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}uh.now=c$.now;class d$ extends uh{constructor(e,t=uh.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const dle=new class cle extends d${}(class lle extends l${constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),hle=new d$(l$),lh=new du("7.4.1"),ND="__angularfire_symbol__analyticsIsSupportedValue",PD="__angularfire_symbol__analyticsIsSupported",FD="__angularfire_symbol__remoteConfigIsSupportedValue",LD="__angularfire_symbol__remoteConfigIsSupported",VD="__angularfire_symbol__messagingIsSupportedValue",UD="__angularfire_symbol__messagingIsSupported";function Mm(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[PD]||(globalThis[PD]=sle().then(n=>globalThis[ND]=n).catch(()=>globalThis[ND]=!1)),globalThis[UD]||(globalThis[UD]=Yj().then(n=>globalThis[VD]=n).catch(()=>globalThis[VD]=!1)),globalThis[LD]||(globalThis[LD]=Hae().then(n=>globalThis[FD]=n).catch(()=>globalThis[FD]=!1));const km=(n,e)=>{const t=e?[e]:GL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Al(){}class h${constructor(e,t=dle){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class fle{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Al,{},Al,Al)),t.pipe(wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rm=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h$(Zone.current)),this.insideAngular=t.run(()=>new h$(Zone.current,hle)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(ne(dt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Na(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ple(n){return Na().ngZone.runOutsideAngular(()=>n())}function Pa(n){return Na().ngZone.run(()=>n())}function gle(n){return Na(),function mle(n){return function(t){return(t=t.lift(new fle(n.ngZone))).pipe(Sh(n.outsideAngular),Th(n.insideAngular))}}(Na())(n)}const yle=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Pa(()=>n.apply(void 0,r))},Fa=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Pa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Al,{},Al,Al)))),r[s]=yle(r[s],t));const i=ple(()=>n.apply(this,r));if(!e){if(i instanceof wt){const s=Na();return i.pipe(Sh(s.outsideAngular),Th(s.insideAngular))}return Pa(()=>i)}return i instanceof wt?i.pipe(gle):i instanceof Promise?Pa(()=>new Promise((s,o)=>i.then(a=>Pa(()=>s(a)),a=>Pa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Pa(()=>i)};class La{constructor(e){return e}}class Om{constructor(){return GL()}}const jD=new ue("angularfire2._apps"),vle={provide:La,useFactory:function _le(n){return n&&1===n.length?n[0]:new La(cg())},deps:[[new Bt,jD]]},wle={provide:Om,deps:[[new Bt,jD]]};function ble(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new La(r)}}let Ele=(()=>{class n{constructor(t){pt("angularfire",lh.full,"core"),pt("angularfire",lh.full,"app"),pt("angular",c1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(ne(Vf))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({providers:[vle,wle]}),n})();function Ile(n,...e){return{ngModule:Ele,providers:[{provide:jD,useFactory:ble(n),multi:!0,deps:[dt,Ln,Rm,...e]}]}}const f$=new Map,Cle={activated:!1,tokenObservers:[]},Dle={initialized:!1,enabled:!1};function mn(n){return f$.get(n)||Cle}function bi(n,e){f$.set(n,e)}function Nm(){return Dle}class Mle{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new ig,yield function kle(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ig,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ar=new Hi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function g$(n){if(!mn(n).activated)throw ar.create("use-before-activation",{appName:n.name})}function GD(n,e){return qD.apply(this,arguments)}function qD(){return qD=y(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,l;try{u=yield fetch(n,a)}catch(f){throw ar.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw ar.create("fetch-status-error",{httpStatus:u.status});try{l=yield u.json()}catch(f){throw ar.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}),qD.apply(this,arguments)}function Ple(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ch="firebase-app-check-store";let Lm=null;function y$(){return Lm||(Lm=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(ar.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ch,{keyPath:"compositeKey"})}}catch(r){e(ar.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Lm)}function zD(){return zD=y(function*(n,e){const r=(yield y$()).transaction(ch,"readwrite"),s=r.objectStore(ch).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(ar.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),zD.apply(this,arguments)}const dh=new Hu("@firebase/app-check");function b$(n,e){return Xo()?function Ule(n,e){return function _$(n,e){return zD.apply(this,arguments)}(function w$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{dh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function E$(){return Nm().enabled}function I$(){return YD.apply(this,arguments)}function YD(){return YD=y(function*(){const n=Nm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YD.apply(this,arguments)}const qle={error:"UNKNOWN_ERROR"};function zle(n){return Kb.encodeString(JSON.stringify(n),!1)}function Vm(n){return JD.apply(this,arguments)}function JD(){return JD=y(function*(n,e=!1){const t=n.app;g$(t);const r=mn(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Um(u)&&(i=u)}if(!e&&i&&Um(i))return{token:i.token};let a,o=!1;if(E$()){r.exchangeTokenPromise||(r.exchangeTokenPromise=GD(Ple(t,yield I$()),n.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield b$(t,u),bi(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?dh.warn(u.message):dh.error(u),s=u}return i?(a={token:i.token},bi(t,Object.assign(Object.assign({},r),{token:i})),yield b$(t,i)):a=Kle(s),o&&D$(t,a),a}),JD.apply(this,arguments)}function ZD(n,e){const t=mn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),bi(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function C$(n){const{app:e}=n,t=mn(e);let r=t.tokenRefresher;r||(r=function Wle(n){const{app:e}=n;return new Mle(y(function*(){let r;if(r=mn(e).token?yield Vm(n,!0):yield Vm(n),r.error)throw r.error}),()=>!0,()=>{const t=mn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),bi(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function D$(n,e){const t=mn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Um(n){return n.expireTimeMillis-Date.now()>0}function Kle(n){return{token:zle(qle),error:n}}class Qle{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=mn(this.app);for(const t of e)ZD(this.app,t.next);return Promise.resolve()}}const O$="app-check-internal";!function lce(){Hn(new En("app-check",n=>function Yle(n,e){return new Qle(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(O$).initialize()})),Hn(new En(O$,n=>function Jle(n){return{getToken:e=>Vm(n,e),addTokenListener:e=>function XD(n,e,t,r){const{app:i}=n,s=mn(i),o={next:t,error:r,type:e};if(bi(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Um(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),C$(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>C$(n))}(n,"INTERNAL",e),removeTokenListener:e=>ZD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),pt("@firebase/app-check","0.5.12")}();class jm{constructor(){return km("app-check")}}typeof window<"u"&&window;const pce=function P$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},F$=new Hi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),L$=new Hu("@firebase/auth");function $m(n,...e){L$.logLevel<=He.ERROR&&L$.error(`Auth (9.9.3): ${n}`,...e)}function wr(n,...e){throw iT(n,...e)}function jr(n,...e){return iT(n,...e)}function V$(n,e,t){const r=Object.assign(Object.assign({},pce()),{[e]:t});return new Hi("auth","Firebase",r).create(e,{appName:n.name})}function xl(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&wr(n,"argument-error"),V$(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iT(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return F$.create(n,...e)}function K(n,e,...t){if(!n)throw iT(e,...t)}function Qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $m(e),new Error(e)}function Ms(n,e){n||Qi(e)}const U$=new Map;function ks(n){Ms(n instanceof Function,"Expected a class definition");let e=U$.get(n);return e?(Ms(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,U$.set(n,e),e)}function hh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function B$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class fh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ms(t>e,"Short delay should be less than long delay!"),this.isMobile=RL()||OL()}get(){return function yce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sT(){return"http:"===B$()||"https:"===B$()}()||sg()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oT(n,e){Ms(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class j${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wce=new fh(3e4,6e4);function tn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yn(n,e,t,r){return aT.apply(this,arguments)}function aT(){return aT=y(function*(n,e,t,r,i={}){return $$(n,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=od(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),j$.fetch()(H$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),aT.apply(this,arguments)}function $$(n,e,t){return uT.apply(this,arguments)}function uT(){return uT=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vce),e);try{const i=new bce(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ph(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ph(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ph(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw ph(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw V$(n,c,l);wr(n,c)}}catch(i){if(i instanceof Fr)throw i;wr(n,"network-request-failed")}}),uT.apply(this,arguments)}function Rs(n,e,t,r){return lT.apply(this,arguments)}function lT(){return lT=y(function*(n,e,t,r,i={}){const s=yield yn(n,e,t,r,i);return"mfaPendingCredential"in s&&wr(n,"multi-factor-auth-required",{_serverResponse:s}),s}),lT.apply(this,arguments)}function H$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?oT(n.config,i):`${n.config.apiScheme}://${i}`}class bce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),wce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ph(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=jr(n,e,r);return i.customData._tokenResponse=t,i}function cT(){return cT=y(function*(n,e){return yn(n,"POST","/v1/accounts:delete",e)}),cT.apply(this,arguments)}function Cce(n,e){return hT.apply(this,arguments)}function hT(){return hT=y(function*(n,e){return yn(n,"POST","/v1/accounts:lookup",e)}),hT.apply(this,arguments)}function gh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fT(){return fT=y(function*(n,e=!1){const t=nr(n),r=yield t.getIdToken(e),i=Hm(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:gh(pT(i.auth_time)),issuedAtTime:gh(pT(i.iat)),expirationTime:gh(pT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),fT.apply(this,arguments)}function pT(n){return 1e3*Number(n)}function Hm(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return $m("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(n){try{return Kb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):($m("Failed to decode base64 JWT payload"),null)}catch(s){return $m("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Os(n,e){return gT.apply(this,arguments)}function gT(){return gT=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Fr&&Sce(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),gT.apply(this,arguments)}function Sce({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Ace{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class G${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mh(n){return mT.apply(this,arguments)}function mT(){return mT=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Os(n,Cce(t,{idToken:r}));K(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?kce(s.providerUserInfo):[],a=Mce(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new G$(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)}),mT.apply(this,arguments)}function yT(){return yT=y(function*(n){const e=nr(n);yield mh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),yT.apply(this,arguments)}function Mce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kce(n){return n.map(e=>{var{providerId:t}=e,r=gy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _T(){return _T=y(function*(n,e){const t=yield $$(n,{},y(function*(){const r=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=H$(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),_T.apply(this,arguments)}class yh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Tce(n){const e=Hm(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return K(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Rce(n,e){return _T.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new yh;return r&&(K("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(K("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(K("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yh,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Io(n,e){K("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ace(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new G$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield Os(t,t.stsTokenManager.getToken(t.auth,e));return K(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Dce(n){return fT.apply(this,arguments)}(this,e)}reload(){return function xce(n){return yT.apply(this,arguments)}(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield mh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Os(e,function Ece(n,e){return cT.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,x=null!==(l=t.createdAt)&&void 0!==l?l:void 0,O=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:N,isAnonymous:z,providerData:Q,stsTokenManager:Ie}=t;K(T&&Ie,e,"internal-error");const ut=yh.fromJSON(this.name,Ie);K("string"==typeof T,e,"internal-error"),Io(d,e.name),Io(h,e.name),K("boolean"==typeof N,e,"internal-error"),K("boolean"==typeof z,e,"internal-error"),Io(f,e.name),Io(p,e.name),Io(g,e.name),Io(I,e.name),Io(x,e.name),Io(O,e.name);const Lt=new Va({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:z,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ut,createdAt:x,lastLoginAt:O});return Q&&Array.isArray(Q)&&(Lt.providerData=Q.map(cr=>Object.assign({},cr))),I&&(Lt._redirectEventId=I),Lt}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new yh;i.updateFromServerResponse(t);const s=new Va({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mh(s),s})()}}const q$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Gm(n,e,t){return`firebase:${n}:${e}:${t}`}class Ml{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Va._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new Ml(ks(q$),e,r);const i=(yield Promise.all(t.map(function(){var l=y(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||ks(q$);const o=Gm(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Va._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=y(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new Ml(s,e,r)):new Ml(s,e,r)})()}}function z$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J$(e))return"Blackberry";if(X$(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||K$(e))&&!e.includes("edge/"))return"Chrome";if(Y$(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function W$(n=ln()){return/firefox\//i.test(n)}function vT(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K$(n=ln()){return/crios\//i.test(n)}function Q$(n=ln()){return/iemobile/i.test(n)}function Y$(n=ln()){return/android/i.test(n)}function J$(n=ln()){return/blackberry/i.test(n)}function X$(n=ln()){return/webos/i.test(n)}function qm(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z$(n=ln()){return qm(n)||Y$(n)||X$(n)||J$(n)||/windows phone/i.test(n)||Q$(n)}function e3(n,e=[]){let t;switch(n){case"Browser":t=z$(ln());break;case"Worker":t=`${z$(ln())}-${n}`;break;default:t=n}return`${t}/JsCore/9.9.3/${e.length?e.join(","):"FirebaseCore-web"}`}class Fce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Lce{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t3(this),this.idTokenSubscription=new t3(this),this.beforeStateQueue=new Fce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F$,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ks(t)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ml.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return K(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){var r;try{yield mh(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function _ce(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?nr(e):null;return r&&K(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&K(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(ks(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&ks(e)||t._popupRedirectResolver;K(r,t,"argument-error"),t.redirectPersistenceManager=yield Ml.create(t,[ks(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return K(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function br(n){return nr(n)}class t3{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Oee(n,e){const t=new Nee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class i3{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}function Ns(n,e){return RT.apply(this,arguments)}function RT(){return RT=y(function*(n,e){return Rs(n,"POST","/v1/accounts:signInWithIdp",tn(n,e))}),RT.apply(this,arguments)}class kl extends i3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=gy(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new kl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ns(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=od(t)}return e}}class Co{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class u3 extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let nde=(()=>{class n extends u3{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return kl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(function*(){const s=yield Va._fromIdTokenResponse(e,r,i),o=c3(r);return new ti({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=c3(r);return new ti({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function c3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Qm extends Fr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Qm(e,t,r,i)}}function d3(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Qm._fromErrorAndOperation(n,s,e,r):s})}function jT(n,e){return $T.apply(this,arguments)}function $T(){return $T=y(function*(n,e,t=!1){const r=yield Os(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ti._forOperation(n,"link",r)}),$T.apply(this,arguments)}function GT(){return GT=y(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield Os(n,d3(i,s,e,n),t);K(o.idToken,i,"internal-error");const a=Hm(o.idToken);K(a,i,"internal-error");const{sub:u}=a;return K(n.uid===u,i,"user-mismatch"),ti._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&wr(i,"user-mismatch"),o}}),GT.apply(this,arguments)}function qT(){return qT=y(function*(n,e,t=!1){const r="signIn",i=yield d3(n,r,e),s=yield ti._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),qT.apply(this,arguments)}const Xm="__sak";class m3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ede=(()=>{class n extends m3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vde(){const n=ln();return vT(n)||qm(n)}()&&function Pce(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Z$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Nce(){return NL()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),y3=(()=>{class n extends m3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Cde=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return y(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function Ide(n){return Promise.all(n.map(function(){var e=y(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Zm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Dde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=Zm("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function nn(){return window}function wS(){return typeof nn().WorkerGlobalScope<"u"&&"function"==typeof nn().importScripts}function bS(){return(bS=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _3="firebaseLocalStorageDb",ey="firebaseLocalStorage",v3="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ty(n,e){return n.transaction([ey],e?"readwrite":"readonly").objectStore(ey)}function ES(){const n=indexedDB.open(_3,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ey,{keyPath:v3})}catch(i){t(i)}}),n.addEventListener("success",y(function*(){const r=n.result;r.objectStoreNames.contains(ey)?e(r):(r.close(),yield function kde(){const n=indexedDB.deleteDatabase(_3);return new wh(n).toPromise()}(),e(yield ES()))}))})}function w3(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=y(function*(n,e,t){const r=ty(n,!0).put({[v3]:e,value:t});return new wh(r).toPromise()}),IS.apply(this,arguments)}function CS(){return CS=y(function*(n,e){const t=ty(n,!1).get(e),r=yield new wh(t).toPromise();return void 0===r?null:r.value}),CS.apply(this,arguments)}function b3(n,e){const t=ty(n,!0).delete(e);return new wh(t).toPromise()}const Pde=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return y(function*(){return t.db||(t.db=yield ES()),t.db})()}_withRetries(t){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return y(function*(){return wS()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return y(function*(){t.receiver=Cde._getInstance(function xde(){return wS()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return y(function*(){var r,i;if(t.activeServiceWorker=yield function Sde(){return bS.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Dde(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function Ade(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const t=yield ES();return yield w3(t,Xm,"1"),yield b3(t,Xm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return y(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>w3(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return y(function*(){const i=yield r._withRetries(s=>function Rde(n,e){return CS.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>b3(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return y(function*(){const r=yield t._withRetries(o=>{const a=ty(o,!1).getAll();return new wh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function I3(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ba(n,e){return e?ks(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}I3("rcb"),new fh(3e4,6e4);class NS extends i3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xde(n){return function p3(n,e){return qT.apply(this,arguments)}(n.auth,new NS(n),n.bypassAuthState)}function Zde(n){const{auth:e,user:t}=n;return K(t,e,"internal-error"),function f3(n,e){return GT.apply(this,arguments)}(t,new NS(n),n.bypassAuthState)}function ehe(n){return PS.apply(this,arguments)}function PS(){return PS=y(function*(n){const{auth:e,user:t}=n;return K(t,e,"internal-error"),jT(t,new NS(n),n.bypassAuthState)}),PS.apply(this,arguments)}class D3{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xde;case"linkViaPopup":case"linkViaRedirect":return ehe;case"reauthViaPopup":case"reauthViaRedirect":return Zde;default:wr(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const the=new fh(2e3,1e4);function FS(){return FS=y(function*(n,e,t){const r=br(n);xl(n,e,Co);const i=Ba(r,t);return new US(r,"signInViaPopup",e,i).executeNotNull()}),FS.apply(this,arguments)}let US=(()=>{class n extends D3{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return y(function*(){const r=yield t.execute();return K(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return y(function*(){Ms(1===t.filter.length,"Popup operations only handle one event");const r=Zm();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(jr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,the.get())};t()}}return n.currentPopupAction=null,n})();const bh=new Map;class ihe extends D3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return y(function*(){let r=bh.get(t.auth._key());if(!r){try{const s=(yield function she(n,e){return BS.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}bh.set(t.auth._key(),r)}return t.bypassAuthState||bh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function BS(){return BS=y(function*(n,e){const t=S3(e),r=T3(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),BS.apply(this,arguments)}function ohe(n,e){bh.set(n._key(),e)}function T3(n){return ks(n._redirectPersistence)}function S3(n){return Gm("pendingRedirect",n.config.apiKey,n.name)}function che(n,e){return zS.apply(this,arguments)}function zS(){return zS=y(function*(n,e){return yield br(n)._initializationPromise,A3(n,e,!1)}),zS.apply(this,arguments)}function A3(n,e){return WS.apply(this,arguments)}function WS(){return WS=y(function*(n,e,t=!1){const r=br(n),i=Ba(r,e),o=yield new ihe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),WS.apply(this,arguments)}class hhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fhe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k3(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!k3(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(M3(e))}saveEventToCache(e){this.cachedEventUids.add(M3(e)),this.lastProcessedEventTime=Date.now()}}function M3(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function k3({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function phe(n){return QS.apply(this,arguments)}function QS(){return QS=y(function*(n,e={}){return yn(n,"GET","/v1/projects",e)}),QS.apply(this,arguments)}const ghe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mhe=/^https?/;function YS(){return YS=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield phe(n);for(const t of e)try{if(_he(t))return}catch{}wr(n,"unauthorized-domain")}),YS.apply(this,arguments)}function _he(n){const e=hh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!mhe.test(t))return!1;if(ghe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vhe=new fh(3e4,6e4);function R3(){const n=nn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let ry=null;function bhe(n){return ry=ry||function whe(n){return new Promise((e,t)=>{var r,i,s;function o(){R3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R3(),t(jr(n,"network-request-failed"))},timeout:vhe.get()})}if(null!==(i=null===(r=nn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=nn().gapi)||void 0===s||!s.load){const a=I3("iframefcb");return nn()[a]=()=>{gapi.load?o():t(jr(n,"network-request-failed"))},function E3(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=jr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Ude(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw ry=null,e})}(n),ry}const Ehe=new fh(5e3,15e3),Dhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},The=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function She(n){const e=n.config;K(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?oT(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ra},i=The.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${od(r).slice(1)}`}function JS(){return JS=y(function*(n){const e=yield bhe(n),t=nn().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:She(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dhe,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=jr(n,"network-request-failed"),u=nn().setTimeout(()=>{o(a)},Ehe.get());function l(){nn().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),JS.apply(this,arguments)}const xhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class O3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N3(n,e,t,r,i,s){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ra,eventId:i};if(e instanceof Co){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function Ree(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof u3){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Vhe({config:n}){return n.emulator?oT(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${od(a).slice(1)}`}const XS="webStorageSupport",Bhe=class Uhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y3,this._completeRedirectFn=A3,this._overrideRedirectResult=ohe}_openPopup(e,t,r,i){var s=this;return y(function*(){var o;Ms(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=N3(e,t,r,hh(),i);return function Nhe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xhe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ln().toLowerCase();t&&(a=K$(l)?"_blank":t),W$(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Oce(n=ln()){var e;return qm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Phe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new O3(null);const d=window.open(e||"",a,c);K(d,n,"popup-blocked");try{d.focus()}catch{}return new O3(d)}(e,a,Zm())})()}_openRedirect(e,t,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function Tde(n){nn().location.href=n}(N3(e,t,r,hh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return y(function*(){const r=yield function Ahe(n){return JS.apply(this,arguments)}(e),i=new hhe(e);return r.register("authEvent",s=>(K(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(XS,{type:XS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[XS];void 0!==o&&t(!!o),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function yhe(n){return YS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Z$()||vT()||qm()}};var F3="@firebase/auth";class jhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ghe(n=cg()){const e=na(n,"auth");return e.isInitialized()?e.getImmediate():function gce(n,e){const t=na(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(ag(t.getOptions(),e??{}))return i;wr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Bhe,persistence:[Pde,Ede,y3]})}!function Hhe(n){Hn(new En("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{K(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),K(!o?.includes(":"),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e3(n)},c=new Lce(a,u,l);return function mce(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ks);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new En("auth-internal",e=>{const t=br(e.getProvider("auth").getImmediate());return new jhe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(F3,"0.20.5",function $he(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),pt(F3,"0.20.5","esm2017")}("Browser");class iy{constructor(e){return e}}class ZS{constructor(){return km("auth")}}const eA=new ue("angularfire2.auth-instances");function zhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new iy(r)}}const Whe={provide:ZS,deps:[[new Bt,eA]]},Khe={provide:iy,useFactory:function qhe(n,e){const t=Mm("auth",n,e);return t&&new iy(t)},deps:[[new Bt,eA],La]};let Qhe=(()=>{class n{constructor(){pt("angularfire",lh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({providers:[Khe,Whe]}),n})();function Yhe(n,...e){return{ngModule:Qhe,providers:[{provide:eA,useFactory:zhe(n),multi:!0,deps:[dt,Ln,Rm,Om,[new Bt,jm],...e]}]}}const Jhe=Fa(Ghe,!0),Xhe=Fa(che,!0);class sy{constructor(e){return e}}const U3="firestore",tA=new ue("angularfire2.firestore-instances");function tfe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sy(r)}}const nfe={provide:class Zhe{constructor(){return km(U3)}},deps:[[new Bt,tA]]},rfe={provide:sy,useFactory:function efe(n,e){const t=Mm(U3,n,e);return t&&new sy(t)},deps:[[new Bt,tA],La]};let ife=(()=>{class n{constructor(){pt("angularfire",lh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({providers:[rfe,nfe]}),n})();function sfe(n,...e){return{ngModule:ife,providers:[{provide:tA,useFactory:tfe(n),multi:!0,deps:[dt,Ln,Rm,Om,[new Bt,ZS],[new Bt,jm],...e]}]}}const ofe=Fa(soe,!0);let nA=(()=>{class n{constructor(t){this.store=t}getUserDataPath(){return y(function*(){const t=localStorage.getItem("user");return t?`/users/${JSON.parse(t).uid}`:""})()}createDefaultIfNecessary(){var t=this;return y(function*(){const r=yield t.getUserDataPath(),s=cj(ym(t.store,r));(yield xL(s))||(yield t.set({remainingLetters:3,skills:[],keywords:[],experiences:[],generatedLetters:[]}))})()}get(){var t=this;return y(function*(){yield t.createDefaultIfNecessary();const r=yield t.getUserDataPath();return xL(cj(ym(t.store,r)))})()}set(t){var r=this;return y(function*(){const i=yield r.getUserDataPath();!function woe(n,e,t){n=ze(n,Ft);const r=ze(n.firestore,vt),i=function nC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);oh(r,[J0(El(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,It.none())])}(ym(r.store,i),t)})()}setLetters(t){var r=this;return y(function*(){const i=yield r.get();r.set({...i,generatedLetters:t.generatedLetters})})()}}return n.\u0275fac=function(t){return new(t||n)(ne(sy))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B3="firebasestorage.googleapis.com",j3="storageBucket";class xt extends Fr{constructor(e,t){super(rA(e),`Firebase Storage: ${t} (${rA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}_codeEquals(e){return rA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function rA(n){return"storage/"+n}function iA(){return new xt("unknown","An unknown error occurred, please check the error payload for server response.")}function sA(n){return new xt("invalid-argument",n)}function G3(){return new xt("app-deleted","The Firebase app was deleted.")}function Eh(n,e){return new xt("invalid-format","String does not match format '"+n+"': "+e)}function Ih(n){throw new xt("internal-error","Internal error: "+n)}class ur{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ur.makeFromUrl(e,t)}catch{return new ur(e,"")}if(""===r.path)return r;throw function mfe(n){return new xt("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function l(N){N.path_=decodeURIComponent(N.path)}const d=t.replace(/[.]/g,"\\."),T=[{regex:a,indices:{bucket:1,path:3},postModify:function s(N){"/"===N.path.charAt(N.path.length-1)&&(N.path_=N.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===B3?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let N=0;N<T.length;N++){const z=T[N],Q=z.regex.exec(e);if(Q){let ut=Q[z.indices.path];ut||(ut=""),r=new ur(Q[z.indices.bucket],ut),z.postModify(r);break}}if(null==r)throw function gfe(n){return new xt("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class bfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ay(n){return"string"==typeof n||n instanceof String}function q3(n){return oA()&&n instanceof Blob}function oA(){return typeof Blob<"u"}function aA(n,e,t,r){if(r<e)throw sA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw sA(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ps(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function z3(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Do=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Do||(Do={})),Do))();class Sfe{constructor(e,t,r,i,s,o,a,u,l,c,d){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function Cfe(n){return void 0!==n}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=iA();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?G3():function $3(){return new xt("canceled","User canceled the upload/download.")}():function pfe(){return new xt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new uy(!1,null,!0)):this.backoffId_=function Efe(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let l=!1;function c(...I){l||(l=!0,e.apply(null,I))}function d(I){i=setTimeout(()=>{i=null,n(f,u())},I)}function h(){s&&clearTimeout(s)}function f(I,...x){if(l)return void h();if(I)return h(),void c.call(null,I,...x);if(u()||o)return h(),void c.call(null,I,...x);let T;r<64&&(r*=2),1===a?(a=2,T=0):T=1e3*(r+Math.random()),d(T)}let p=!1;function g(I){p||(p=!0,h(),!l&&(null!==i?(I||(a=2),clearTimeout(i),d(0)):I||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},t),g}((r,i)=>{if(i)return void r(!1,new uy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Do.NO_ERROR,u=s.getStatus();if(!a||this.isRetryStatusCode_(u)){const c=s.getErrorCode()===Do.ABORT;return void r(!1,new uy(!1,null,c))}const l=-1!==this.successCodes_.indexOf(u);r(!0,new uy(l,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Ife(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class uy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Nfe(...n){const e=function Ofe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(oA())return new Blob(n);throw new xt("unsupported-environment","This browser doesn't seem to support creating Blobs")}class uA{constructor(e,t){this.data=e,this.contentType=t||null}}function K3(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Q3(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Eh(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Eh(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Ffe(n){return atob(n)}(e)}catch{throw Eh(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Y3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Eh("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Bfe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Fs{constructor(e,t){let r=0,i="";q3(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(q3(this.data_)){const i=function Pfe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Fs(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Fs(r,!0)}}static getBlob(...e){if(oA()){const t=e.map(r=>r instanceof Fs?r.data_:r);return new Fs(Nfe.apply(null,t))}{const t=e.map(o=>ay(o)?function W3(n,e){switch(n){case"raw":return new uA(K3(e));case"base64":case"base64url":return new uA(Q3(n,e));case"data_url":return new uA(function Vfe(n){const e=new Y3(n);return e.base64?Q3("base64",e.rest):function Lfe(n){let e;try{e=decodeURIComponent(n)}catch{throw Eh("data_url","Malformed data URL.")}return K3(e)}(e.rest)}(e),function Ufe(n){return new Y3(n).contentType}(e))}throw iA()}("raw",o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Fs(i,!0)}}uploadData(){return this.data_}}function lA(n){let e;try{e=JSON.parse(n)}catch{return null}return function Tfe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function J3(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Hfe(n,e){return e}class lr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Hfe}}let ly=null;function Ch(){if(ly)return ly;const n=[];n.push(new lr("bucket")),n.push(new lr("generation")),n.push(new lr("metageneration")),n.push(new lr("name","fullPath",!0));const t=new lr("name");t.xform=function e(s,o){return function Gfe(n){return!ay(n)||n.length<2?n:J3(n)}(o)},n.push(t);const i=new lr("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new lr("timeCreated")),n.push(new lr("updated")),n.push(new lr("md5Hash",null,!0)),n.push(new lr("cacheControl",null,!0)),n.push(new lr("contentDisposition",null,!0)),n.push(new lr("contentEncoding",null,!0)),n.push(new lr("contentLanguage",null,!0)),n.push(new lr("contentType",null,!0)),n.push(new lr("metadata","customMetadata",!0)),ly=n,ly}function X3(n,e,t){const r=lA(e);return null===r?null:function zfe(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function qfe(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ur(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}class Yi{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ji(n){if(!n)throw iA()}function Rl(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function hfe(){return new xt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function dfe(){return new xt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function cfe(n){return new xt("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function ffe(n){return new xt("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function iH(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let T="";for(let N=0;N<2;N++)T+=Math.random().toString().slice(2);return T}();o["Content-Type"]="multipart/related; boundary="+u;const l=function rH(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function npe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),c=function cA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(l,t),f=Fs.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===f)throw function H3(){return new xt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const p={name:l.fullPath},g=Ps(s,n.host,n._protocol),x=n.maxUploadRetryTime,O=new Yi(g,"POST",function cy(n,e){return function t(r,i){const s=X3(n,i,e);return Ji(null!==s),s}}(n,t),x);return O.urlParams=p,O.headers=o,O.body=f.uploadData(),O.errorHandler=Rl(e),O}class upe extends class ape{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Do.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Do.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Do.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ih("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ih("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ih("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ii(){return new upe}class ja{constructor(e,t){this._service=e,this._location=t instanceof ur?t:ur.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ja(e,t)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J3(this._location.path)}get storage(){return this._service}get parent(){const e=function jfe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ur(this._location.bucket,e);return new ja(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function wfe(n){return new xt("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function bpe(n){n._throwIfRoot("getDownloadURL");const e=function Zfe(n,e,t){const i=Ps(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Yi(i,"GET",function Jfe(n,e){return function t(r,i){const s=X3(n,i,e);return Ji(null!==s),function Wfe(n,e,t,r){const i=lA(e);if(null===i||!ay(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const d=n.fullPath;return Ps("/b/"+o(n.bucket)+"/o/"+o(d),t,r)+z3({alt:"media",token:l})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=function Dh(n){const e=Rl(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function lfe(n){return new xt("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}(e),a}(n.storage,n._location,Ch());return n.storage.makeRequestWithTokens(e,Ii).then(t=>{if(null===t)throw function vfe(){return new xt("no-download-url","The given file does not have any download URLs.")}();return t})}function dH(n,e){if(n instanceof pA){const t=n;if(null==t._bucket)throw function yfe(){return new xt("no-default-bucket","No default bucket found. Did you set the '"+j3+"' property when initializing the app?")}();const r=new ja(t,t._bucket);return null!=e?dH(r,e):r}return void 0!==e?function cH(n,e){const t=function $fe(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ur(n._location.bucket,t);return new ja(n.storage,r)}(n,e):n}function hH(n,e){const t=e?.[j3];return null==t?null:ur.makeFromBucketSpec(t,n)}class pA{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=B3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ur.makeFromBucketSpec(i,this._host):hH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ur.makeFromBucketSpec(this._url,e):hH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ja(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new bfe(G3());{const s=function Rfe(n,e,t,r,i,s){const o=z3(n.urlParams),a=n.url+o,u=Object.assign({},n.headers);return function Mfe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(u,e),function Afe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(u,t),function xfe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function kfe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(u,r),new Sfe(a,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return y(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const fH="@firebase/storage",gH="storage";function Spe(n,e,t){return function aH(n,e,t){n._throwIfRoot("uploadBytes");const r=iH(n.storage,n._location,Ch(),new Fs(e,!0),t);return n.storage.makeRequestWithTokens(r,Ii).then(i=>({metadata:i,ref:n}))}(n=nr(n),e,t)}function Ape(n){return bpe(n=nr(n))}function xpe(n,e){return function Dpe(n,e){if(e&&function Ipe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof pA)return function Cpe(n,e){return new ja(n,e)}(n,e);throw sA("To use ref(service, url), the first argument must be a Storage instance.")}return dH(n,e)}(n=nr(n),e)}function Mpe(n=cg(),e){return na(n=nr(n),gH).getImmediate({identifier:e})}function kpe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new pA(t,r,i,e,ra)}!function Rpe(){Hn(new En(gH,kpe,"PUBLIC").setMultipleInstances(!0)),pt(fH,"0.9.9",""),pt(fH,"0.9.9","esm2017")}();class hy{constructor(e){return e}}const mH="storage",gA=new ue("angularfire2.storage-instances");function Ppe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hy(r)}}const Fpe={provide:class Ope{constructor(){return km(mH)}},deps:[[new Bt,gA]]},Lpe={provide:hy,useFactory:function Npe(n,e){const t=Mm(mH,n,e);return t&&new hy(t)},deps:[[new Bt,gA],La]};let Vpe=(()=>{class n{constructor(){pt("angularfire",lh.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({providers:[Lpe,Fpe]}),n})();function Upe(n,...e){return{ngModule:Vpe,providers:[{provide:gA,useFactory:Ppe(n),multi:!0,deps:[dt,Ln,Rm,Om,[new Bt,ZS],[new Bt,jm],...e]}]}}const Bpe=Fa(Ape,!0),jpe=Fa(Mpe,!0),yH=Fa(xpe,!0),$pe=Fa(Spe,!0),_H=()=>{const n=localStorage.getItem("user");return n?JSON.parse(n).photoURL:""};let Hpe=(()=>{class n{constructor(t){this.storage=t}getProfileImagePath(){return y(function*(){const t=localStorage.getItem("user");return t?`${JSON.parse(t).uid}/profile.jpg`:""})()}setProfileImage(t){var r=this;return y(function*(){const i=yield r.getProfileImagePath(),s=yH(r.storage,i);return new Promise(o=>{$pe(s,t).then(a=>{o()})})})()}getProfileImageURL(){var t=this;return y(function*(){const r=yield t.getProfileImagePath();try{const i=yH(t.storage,r);return yield Bpe(i)}catch{return _H()}})()}}return n.\u0275fac=function(t){return new(t||n)(ne(hy))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tr({type:n,selectors:[["app-plus-button"]],decls:3,vars:0,consts:[[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","hover:to-pink-500","hover:from-yellow-500","rounded-full","h-6","transition-all","aspect-square","cursor-pointer"],["clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m11 11h-7.25c-.414 0-.75.336-.75.75s.336.75.75.75h7.25v7.25c0 .414.336.75.75.75s.75-.336.75-.75v-7.25h7.25c.414 0\n                        .75-.336.75-.75s-.336-.75-.75-.75h-7.25v-7.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75z","fill-rule","nonzero"]],template:function(t,r){1&t&&(j(0,"div",0),Ai(),j(1,"svg",1),Un(2,"path",2),$()())}}),n})(),mA=(()=>{class n{constructor(){this.skill="",this.color="",this.deleteSkill=new yt}closeButton(){document.getElementById("skill_"+this.skill).classList.add("fadeOut"),setTimeout(()=>{this.deleteSkill.emit(this.skill)},200)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tr({type:n,selectors:[["app-skill-pill"]],inputs:{skill:"skill",color:"color"},outputs:{deleteSkill:"deleteSkill"},decls:6,vars:5,consts:[[3,"id"],[1,"text-md","font-semibold"],[1,"absolute","-right-2","-top-2","hidden","group-hover:block","bg-red-400","hover:bg-red-500","rounded-full","h-6","aspect-square","cursor-pointer",3,"click"],["clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719 5.719c.147.147.22.339.22.531\n                0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75\n                0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"]],template:function(t,r){1&t&&(j(0,"div",0)(1,"p",1),Pe(2),$(),j(3,"div",2),ce("click",function(){return r.closeButton()}),Ai(),j(4,"svg",3),Un(5,"path",4),$()()()),2&t&&(function Ck(n,e,t){fi(kr,Pi,vu(U(),n,e,t),!0)}("",r.color," rounded-full text-center p-2 group relative hover:opacity-80 transition-all"),Lo("id","skill_",r.skill,""),le(2),pi(r.skill))},styles:["@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut[_ngcontent-%COMP%]{animation-name:fadeOut;animation-duration:.2s;animation-fill-mode:forwards}"]}),n})();function Gpe(n,e){1&n&&(j(0,"p"),Pe(1,"Upload profile image"),$())}function qpe(n,e){if(1&n){const t=et();j(0,"app-plus-button",21),ce("click",function(){Le(t);const i=ke(),s=Rt(13);return i.addSkill=!0,Ve(s.value="")}),$()}2&n&&ae("@fadeIn",void 0)}function zpe(n,e){if(1&n){const t=et();j(0,"app-plus-button",21),ce("click",function(){Le(t);const i=ke(),s=Rt(13);return i.addSkillFunction(s.value),Ve(s.value="")}),$()}2&n&&ae("@fadeSlideInOutLeft",void 0)}function Wpe(n,e){if(1&n){const t=et();j(0,"div",22)(1,"app-skill-pill",23),ce("deleteSkill",function(){const s=Le(t).$implicit;return Ve(ke().deleteSkill(s))}),$()()}if(2&n){const t=e.$implicit,r=e.index,i=ke();le(1),ae("skill",t)("color",i.skillColors[r])}}function Kpe(n,e){if(1&n){const t=et();j(0,"app-plus-button",21),ce("click",function(){Le(t);const i=ke(),s=Rt(23);return i.addKeyword=!0,Ve(s.value="")}),$()}2&n&&ae("@fadeIn",void 0)}function Qpe(n,e){if(1&n){const t=et();j(0,"app-plus-button",21),ce("click",function(){Le(t);const i=ke(),s=Rt(23);return i.addKeywordFunction(s.value),Ve(s.value="")}),$()}2&n&&ae("@fadeSlideInOutLeft",void 0)}function Ype(n,e){if(1&n){const t=et();j(0,"div")(1,"app-skill-pill",23),ce("deleteSkill",function(){const s=Le(t).$implicit;return Ve(ke().deleteKeyword(s))}),$()()}if(2&n){const t=e.$implicit,r=e.index,i=ke();le(1),ae("skill",t)("color",i.keywordColors[r])}}function Jpe(n,e){if(1&n){const t=et();j(0,"app-plus-button",21),ce("click",function(){Le(t);const i=ke(),s=Rt(33);return i.addExperience=!0,Ve(s.value="")}),$()}}function Xpe(n,e){if(1&n){const t=et();j(0,"app-plus-button",21),ce("click",function(){Le(t);const i=ke(),s=Rt(33);return i.addExperienceFunction(s.value),Ve(s.value="")}),$()}2&n&&ae("@fadeSlideInOutLeft",void 0)}function Zpe(n,e){if(1&n){const t=et();j(0,"div",24)(1,"p",25),Pe(2),$(),j(3,"div",26),ce("click",function(){const s=Le(t).$implicit;return Ve(ke().deleteExperience(s))}),Ai(),j(4,"svg",27),Un(5,"path",28),$()()()}if(2&n){const t=e.$implicit;Lo("id","exp_",t,""),le(2),pi(t)}}let ege=(()=>{class n{constructor(t,r){this.firestoreService=t,this.storageService=r,this.userData={remainingLetters:3,skills:[],keywords:[],experiences:[],generatedLetters:[]},this.userProfileURL=_H(),this.skillColors=[],this.keywordColors=[],this.addSkill=!1,this.addKeyword=!1,this.addExperience=!1}ngOnInit(){var t=this;return y(function*(){t.userData=yield t.firestoreService.get(),t.userProfileURL=yield t.storageService.getProfileImageURL(),console.log(t.userProfileURL),t.userData.skills.forEach(r=>{t.skillColors.push(t.randomColor())}),t.userData.keywords.forEach(r=>{t.keywordColors.push(t.randomColor())})})()}addSkillFunction(t){""!=t&&(this.skillColors.push(this.randomColor()),this.userData.skills.push(t)),this.addSkill=!1,this.saveChanges()}deleteSkill(t){let r=this.userData.skills.indexOf(t);this.userData.skills.splice(r,1),this.skillColors.splice(r,1),this.saveChanges()}addExperienceFunction(t){""!=t&&this.userData.experiences.push(t),this.addExperience=!1,this.saveChanges()}deleteExperience(t){document.getElementById("exp_"+t).classList.add("fadeOut"),setTimeout(()=>{let r=this.userData.experiences.indexOf(t);this.userData.experiences.splice(r,1),this.saveChanges()},200)}addKeywordFunction(t){""!=t&&(this.keywordColors.push(this.randomColor()),this.userData.keywords.push(t)),this.addKeyword=!1,this.saveChanges()}deleteKeyword(t){let r=this.userData.keywords.indexOf(t);this.userData.keywords.splice(r,1),this.keywordColors.splice(r,1),this.saveChanges()}uploadProfileImage(t){var r=this;return y(function*(){const i=t.target.files[0];yield r.storageService.setProfileImage(i),console.log(r.userProfileURL),r.userProfileURL=yield r.storageService.getProfileImageURL(),console.log(r.userProfileURL)})()}randomColor(){let t=["bg-gradient-to-r from-cyan-500 to-blue-500","bg-gradient-to-r to-pink-500 from-yellow-500","bg-gradient-to-r from-yellow-400 to-emerald-300","bg-gradient-to-r from-purple-500 to-pink-500","bg-gradient-to-r from-blue-500 to-purple-500"];return t[Math.floor(Math.random()*t.length)]}saveChanges(){this.firestoreService.set(this.userData)}}return n.\u0275fac=function(t){return new(t||n)(L(nA),L(Hpe))},n.\u0275cmp=Tr({type:n,selectors:[["app-profile"]],decls:37,vars:17,consts:[[1,"relative","top-16"],[1,"grid","grid-cols-1","lg:grid-cols-5","p-8"],["for","image"],[1,"bg-gray-200","rounded-full","h-64","aspect-square","items-center","justify-center","flex",2,"overflow","hidden"],["referrerpolicy","no-referrer",3,"src"],[4,"ngIf"],["type","file","id","image","name","image",2,"display","none",3,"change"],[1,"flex","flex-col","lg:col-span-2"],[1,"flex","flex-row","gap-2","items-center","h-14"],[1,"text-2xl","font-bold"],[3,"click",4,"ngIf"],["type","text","name","","id","",1,"bg-gray-200","p-2",3,"hidden","keyup.enter"],["newSkill",""],[1,"flex","flex-wrap","flex-row","gap-2","transition-all"],["class","transition-all",4,"ngFor","ngForOf"],["newKeyword",""],[4,"ngFor","ngForOf"],[1,"flex","flex-col","lg:col-span-4","lg:col-start-2","lg:row-start-2"],["newExperience",""],[1,"grid","gap-1"],["class","bg-gray-100 p-1 hover:opacity-80 transition-all relative group",3,"id",4,"ngFor","ngForOf"],[3,"click"],[1,"transition-all"],[3,"skill","color","deleteSkill"],[1,"bg-gray-100","p-1","hover:opacity-80","transition-all","relative","group",3,"id"],[1,"text-md"],[1,"absolute","-right-2","-top-2","hidden","group-hover:block","bg-red-400","hover:bg-red-500","rounded-full","h-6","aspect-square","cursor-pointer",3,"click"],["clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719\n                                5.719c.147.147.22.339.22.531\n                                0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75\n                                0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"]],template:function(t,r){if(1&t){const i=et();j(0,"div",0)(1,"div",1)(2,"label",2)(3,"div",3),Un(4,"img",4),Je(5,Gpe,2,0,"p",5),$(),j(6,"input",6),ce("change",function(o){return r.uploadProfileImage(o)}),$()(),j(7,"div",7)(8,"div",8)(9,"p",9),Pe(10,"My skills"),$(),Je(11,qpe,1,1,"app-plus-button",10),j(12,"input",11,12),ce("keyup.enter",function(){Le(i);const o=Rt(13);return r.addSkillFunction(o.value),Ve(o.value="")}),$(),Je(14,zpe,1,1,"app-plus-button",10),$(),j(15,"div",13),Je(16,Wpe,2,2,"div",14),$()(),j(17,"div",7)(18,"div",8)(19,"p",9),Pe(20,"My keywords"),$(),Je(21,Kpe,1,1,"app-plus-button",10),j(22,"input",11,15),ce("keyup.enter",function(){Le(i);const o=Rt(23);return r.addKeywordFunction(o.value),Ve(o.value="")}),$(),Je(24,Qpe,1,1,"app-plus-button",10),$(),j(25,"div",13),Je(26,Ype,2,2,"div",16),$()(),j(27,"div",17)(28,"div",8)(29,"p",9),Pe(30,"My experiences"),$(),Je(31,Jpe,1,0,"app-plus-button",10),j(32,"input",11,18),ce("keyup.enter",function(){Le(i);const o=Rt(33);return r.addExperienceFunction(o.value),Ve(o.value="")}),$(),Je(34,Xpe,1,1,"app-plus-button",10),$(),j(35,"div",19),Je(36,Zpe,6,2,"div",20),$()()()()}2&t&&(le(4),Cf("src",r.userProfileURL,af),le(1),ae("ngIf",""==r.userProfileURL),le(6),ae("ngIf",!r.addSkill),le(1),ae("@fadeSlideInOutLeft",void 0)("hidden",!r.addSkill),le(2),ae("ngIf",r.addSkill),le(2),ae("ngForOf",r.userData.skills),le(5),ae("ngIf",!r.addKeyword),le(1),ae("@fadeSlideInOutLeft",void 0)("hidden",!r.addKeyword),le(2),ae("ngIf",r.addKeyword),le(2),ae("ngForOf",r.userData.keywords),le(5),ae("ngIf",!r.addExperience),le(1),ae("@fadeSlideInOutLeft",void 0)("hidden",!r.addExperience),le(2),ae("ngIf",r.addExperience),le(2),ae("ngForOf",r.userData.experiences))},dependencies:[tp,np,vH,mA],data:{animation:[Ou("fadeSlideInOut",[Vi(":enter",[un({opacity:0,transform:"translateX(20px)"}),Li("200ms",un({opacity:1,transform:"translateX(0)"}))]),Vi(":leave",[Li("200ms",un({opacity:0,transform:"translateX(20px)"}))])]),Ou("fadeIn",[Vi(":enter",[un({opacity:0}),Li("200ms",un({opacity:1}))])]),Ou("fadeSlideInOutLeft",[Vi(":enter",[un({opacity:0,transform:"translateX(-20px)"}),Li("200ms",un({opacity:1,transform:"translateX(0)"}))]),Vi(":leave",[Li("200ms",un({opacity:0,transform:"translateX(-20px)"}))])])]}}),n})();var bH=P(157);let tge=(()=>{class n{constructor(){this.backFunction=new yt}ngOnInit(){}back(){this.backFunction.emit("back")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tr({type:n,selectors:[["app-back-button"]],outputs:{backFunction:"backFunction"},decls:3,vars:0,consts:[[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","hover:to-pink-500","hover:from-yellow-500","rounded-full","h-10","p-2","aspect-square","cursor-pointer",3,"click"],["clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m9.474 5.209s-4.501 4.505-6.254 6.259c-.147.146-.22.338-.22.53s.073.384.22.53c1.752 1.754 6.252 6.257 6.252\n            6.257.145.145.336.217.527.217.191-.001.383-.074.53-.221.293-.293.294-.766.004-1.057l-4.976-4.976h14.692c.414 0\n            .75-.336.75-.75s-.336-.75-.75-.75h-14.692l4.978-4.979c.289-.289.287-.761-.006-1.054-.147-.147-.339-.221-.53-.221-.191-.001-.38.071-.525.215z","fill-rule","nonzero"]],template:function(t,r){1&t&&(j(0,"div",0),ce("click",function(){return r.back()}),Ai(),j(1,"svg",1),Un(2,"path",2),$()())}}),n})(),nge=(()=>{class n{constructor(){this.loadingType="",this.loadingText="Loading...",this.coverLetterLoadingText=["Getting your perfect wording...","Studying your skills...","Finding the right keywords...","Generating your cover letter..."]}ngOnInit(){setInterval(()=>{this.loadingText=this.coverLetterLoadingText[Math.floor(Math.random()*this.coverLetterLoadingText.length)]},2e3)}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tr({type:n,selectors:[["app-loading-animation"]],inputs:{loadingType:"loadingType"},decls:3,vars:1,consts:[[1,"absolute","top-0","left-0","z-50","w-screen","h-screen","bg-gray-200","bg-opacity-80","flex","items-center","justify-center"],[1,"animate-pulse","text-2xl","text-black"]],template:function(t,r){1&t&&(j(0,"div",0)(1,"p",1),Pe(2),$()()),2&t&&(le(2),pi(r.loadingText))}}),n})();function rge(n,e){if(1&n&&Un(0,"app-loading-animation",28),2&n){const t=ke();ae("@fadeIn",void 0)("loadingType",t.coverLetter)}}function ige(n,e){if(1&n){const t=et();j(0,"p",29),ce("click",function(){return Le(t),Ve(ke().editTitleFunction())}),Pe(1),$()}if(2&n){const t=ke();le(1),pi(t.title)}}function sge(n,e){if(1&n){const t=et();j(0,"input",30,31),ce("input",function(){Le(t);const i=Rt(1);return Ve(ke().newTitleFunction(i.value))})("keyup.enter",function(){return Le(t),Ve(ke().editTitleFunction())})("focusout",function(){return Le(t),Ve(ke().editTitleFunction())}),$()}2&n&&Cf("value",ke().title)}function oge(n,e){if(1&n){const t=et();j(0,"app-plus-button",32),ce("click",function(){Le(t);const i=ke(),s=Rt(21);return i.addSkill=!0,Ve(s.value="")}),$()}2&n&&ae("@fadeIn",void 0)}function age(n,e){if(1&n){const t=et();j(0,"app-plus-button",32),ce("click",function(){Le(t);const i=ke(),s=Rt(21);return i.addSkillFunction(s.value),Ve(s.value="")}),$()}2&n&&ae("@fadeSlideInOutLeft",void 0)}function uge(n,e){if(1&n){const t=et();j(0,"div",33)(1,"app-skill-pill",34),ce("deleteSkill",function(){const s=Le(t).$implicit;return Ve(ke().deleteSkill(s))}),$()()}if(2&n){const t=e.$implicit,r=e.index,i=ke();le(1),ae("skill",t)("color",i.skillColors[r])}}function lge(n,e){if(1&n){const t=et();j(0,"app-plus-button",32),ce("click",function(){Le(t);const i=ke(),s=Rt(30);return i.addKeyword=!0,Ve(s.value="")}),$()}2&n&&ae("@fadeIn",void 0)}function cge(n,e){if(1&n){const t=et();j(0,"app-plus-button",32),ce("click",function(){Le(t);const i=ke(),s=Rt(30);return i.addKeywordFunction(s.value),Ve(s.value="")}),$()}2&n&&ae("@fadeSlideInOutLeft",void 0)}function dge(n,e){if(1&n){const t=et();j(0,"div")(1,"app-skill-pill",34),ce("deleteSkill",function(){const s=Le(t).$implicit;return Ve(ke().deleteKeyword(s))}),$()()}if(2&n){const t=e.$implicit,r=e.index,i=ke();le(1),ae("skill",t)("color",i.keywordColors[r])}}function hge(n,e){if(1&n){const t=et();j(0,"app-plus-button",32),ce("click",function(){Le(t);const i=ke(),s=Rt(39);return i.addExperience=!0,Ve(s.value="")}),$()}}function fge(n,e){if(1&n){const t=et();j(0,"app-plus-button",32),ce("click",function(){Le(t);const i=ke(),s=Rt(39);return i.addExperienceFunction(s.value),Ve(s.value="")}),$()}2&n&&ae("@fadeSlideInOutLeft",void 0)}function pge(n,e){if(1&n){const t=et();j(0,"div",35)(1,"p",36),Pe(2),$(),j(3,"div",37),ce("click",function(){const s=Le(t).$implicit;return Ve(ke().deleteExperience(s))}),Ai(),j(4,"svg",38),Un(5,"path",39),$()()()}if(2&n){const t=e.$implicit;Lo("id","exp_",t,""),le(2),pi(t)}}function gge(n,e){if(1&n){const t=et();j(0,"div",40)(1,"div",41)(2,"app-back-button",42),ce("backFunction",function(){return Le(t),Ve(ke().toggleCover())}),$(),j(3,"div",43)(4,"h1",44),Pe(5,"Letter of motivation"),$(),j(6,"p"),Pe(7),$()()(),j(8,"div")(9,"div",45)(10,"button",26),ce("click",function(){return Le(t),Ve(ke().copyToClipboard())}),j(11,"div",46)(12,"p"),Pe(13,"Copy to clipboard"),$(),Ai(),j(14,"svg",47),Un(15,"path",48),$()()(),function dx(){!function BG(){Ce.lFrame.currentNamespace=null}()}(),j(16,"button",49),ce("click",function(){return Le(t),Ve(ke().copyToClipboard())}),j(17,"div",46)(18,"p"),Pe(19,"Save to dashboard"),$(),Ai(),j(20,"svg",47),Un(21,"path",50),$()()()()()()}if(2&n){const t=ke();ae("@fadeSlideInOut",void 0),le(7),pi(t.coverLetter)}}let mge=(()=>{class n{constructor(t){this.firestoreService=t,this.userData={remainingLetters:3,skills:[],keywords:[],experiences:[],generatedLetters:[]},this.skillColors=[],this.keywordColors=[],this.title="My Cover Letter",this.coverLetter="",this.showCoverLetter=!1,this.showLoadingScreen=!1,this.addSkill=!1,this.addKeyword=!1,this.addExperience=!1,this.editTitle=!1}ngOnInit(){var t=this;return y(function*(){t.userData=yield t.firestoreService.get(),t.userData.skills.forEach(r=>{t.skillColors.push(t.randomColor())}),t.userData.keywords.forEach(r=>{t.keywordColors.push(t.randomColor())})})()}editTitleFunction(){this.editTitle=!this.editTitle}newTitleFunction(t){this.title=t}toggleCover(){this.showCoverLetter=!this.showCoverLetter}testGenerateLetter(t){this.toggleCover()}generateLetter(t){let r="Write a letter of motivation for the following job description, taking into account my skills and previous experience.\nskills: "+this.userData.skills.toString()+"\nexperiences: "+this.userData.experiences.toString()+"keywords: "+this.userData.keywords.toString()+"\n \n "+t;this.showLoadingScreen=!0;const i=new bH.Configuration({apiKey:"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"});new bH.OpenAIApi(i).createCompletion({model:"text-davinci-002",prompt:r,temperature:.7,max_tokens:500}).then(o=>{this.coverLetter=o.data.choices[0].text}).then(()=>{this.toggleCover(),this.showLoadingScreen=!1,this.userData.remainingLetters-=1,this.userData.generatedLetters.push({title:this.title,text:this.coverLetter,jobDescription:t}),this.firestoreService.setLetters(this.userData)})}copyToClipboard(){navigator.clipboard.writeText(this.coverLetter)}addSkillFunction(t){""!=t&&(this.skillColors.push(this.randomColor()),this.userData.skills.push(t)),this.addSkill=!1}deleteSkill(t){let r=this.userData.skills.indexOf(t);this.userData.skills.splice(r,1),this.skillColors.splice(r,1)}addExperienceFunction(t){""!=t&&this.userData.experiences.push(t),this.addExperience=!1}deleteExperience(t){document.getElementById("exp_"+t).classList.add("fadeOut"),setTimeout(()=>{let r=this.userData.experiences.indexOf(t);this.userData.experiences.splice(r,1)},200)}addKeywordFunction(t){""!=t&&(this.keywordColors.push(this.randomColor()),this.userData.keywords.push(t)),this.addKeyword=!1}deleteKeyword(t){let r=this.userData.keywords.indexOf(t);this.userData.keywords.splice(r,1),this.keywordColors.splice(r,1)}randomColor(){let t=["bg-gradient-to-r from-cyan-500 to-blue-500","bg-gradient-to-r to-pink-500 from-yellow-500","bg-gradient-to-r from-yellow-400 to-emerald-300","bg-gradient-to-r from-purple-500 to-pink-500","bg-gradient-to-r from-blue-500 to-purple-500"];return t[Math.floor(Math.random()*t.length)]}}return n.\u0275fac=function(t){return new(t||n)(L(nA))},n.\u0275cmp=Tr({type:n,selectors:[["app-generate-letter"]],decls:49,vars:21,consts:[[3,"loadingType",4,"ngIf"],[1,"relative","top-16"],["id","generatePage",1,"grow","grid","grid-cols-2","lg:grid-cols-6","w-full","p-4","gap-2",2,"min-height","calc(100vh - 4rem)"],[1,"col-span-4","flex","flex-col"],[1,"font-bold","text-xl","pb-2","lg:pl-32","xl:pl-36"],["rows","20","cols","30","name","job_desc","id","job_desc",1,"xl:ml-36","xl:mr-36","lg:ml-8","lg:mr-8","grow","p-2","bg-gray-200","resize-none"],["jobDescription",""],[1,"col-span-2","flex","flex-col","gap-2","lg:pt-6"],[1,""],["class","font-bold text-4xl cursor-pointer",3,"click",4,"ngIf"],["class","font-bold text-2xl bg-gray-200 p-1","type","text","name","","id","","autofocus","",3,"value","input","keyup.enter","focusout",4,"ngIf"],[1,"text-xl","font-bold"],[1,"text-xl"],[1,"flex","flex-row","gap-2","items-center","h-8"],[3,"click",4,"ngIf"],["type","text","name","","id","",1,"bg-gray-200","p-2",3,"hidden","keyup.enter"],["newSkill",""],[1,"flex","flex-wrap","flex-row","gap-2","transition-all"],["class","transition-all",4,"ngFor","ngForOf"],["newKeyword",""],[1,"flex","flex-wrap","flex-row","gap-2"],[4,"ngFor","ngForOf"],["newExperience",""],[1,"grid","gap-1"],["class","bg-gray-100 p-1 hover:opacity-80 transition-all relative group",3,"id",4,"ngFor","ngForOf"],[1,"place-self-center","flex","gap-2","mt-auto","lg:pb-0","pb-2"],[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","hover:to-pink-500","hover:from-yellow-500","text-white","font-bold","py-2","px-4","rounded-full",3,"click"],["style","height: calc(100vh - 4rem);","class","fixed top-16 right-0 w-screen grid grid-cols-1\n            lg:grid-cols-2 gap-2 p-8 bg-white overflow-y-auto","id","resultPage",4,"ngIf"],[3,"loadingType"],[1,"font-bold","text-4xl","cursor-pointer",3,"click"],["type","text","name","","id","","autofocus","",1,"font-bold","text-2xl","bg-gray-200","p-1",3,"value","input","keyup.enter","focusout"],["titleInput",""],[3,"click"],[1,"transition-all"],[3,"skill","color","deleteSkill"],[1,"bg-gray-100","p-1","hover:opacity-80","transition-all","relative","group",3,"id"],[1,"text-md"],[1,"absolute","-right-2","-top-2","hidden","group-hover:block","bg-red-400","hover:bg-red-500","rounded-full","h-6","aspect-square","cursor-pointer",3,"click"],["clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719\n                                5.719c.147.147.22.339.22.531\n                                0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401 0-.75-.323-.75-.75\n                                0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0 .385.073.531.219z"],["id","resultPage",1,"fixed","top-16","right-0","w-screen","grid","grid-cols-1","lg:grid-cols-2","gap-2","p-8","bg-white","overflow-y-auto",2,"height","calc(100vh - 4rem)"],[1,"flex","flex-row","gap-2"],[3,"backFunction"],[1,"overflow-y-auto","flex-grow","bg-gray-100","p-2"],[1,"font-bold","text-xl"],[1,"flex","flex-row","gap-2","mt-auto","justify-center"],[1,"flex","flex-row","gap-2","items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24"],["fill","#ffffff","d","M16 10c3.469 0 2 4 2\n                                    4s4-1.594\n                                    4\n                                    2v6h-10v-12h4zm.827-2h-6.827v16h14v-8.842c0-2.392-4.011-7.158-7.173-7.158zm-8.827 12h-6v-16h4l2.102\n                                    2h3.898l2-2h4v2.145c.656.143\n                                    1.327.391 2 .754v-4.899h-3c-1.229 0-2.18-1.084-3-2h-8c-.82.916-1.771 2-3 2h-3v20h8v-2zm2-18c.553 0 1 .448 1 1s-.447 1-1\n                                    1-1-.448-1-1\n                                    .447-1 1-1zm4 18h6v-1h-6v1zm0-2h6v-1h-6v1zm0-2h6v-1h-6v1z"],["disabled","",1,"bg-gradient-to-r","from-cyan-500","to-blue-500","hover:to-pink-500","hover:from-yellow-500","text-white","font-bold","py-2","px-4","rounded-full",3,"click"],["fill","#ffffff","d","M14\n                                        3h2.997v5h-2.997v-5zm9 1v20h-22v-24h17.997l4.003 4zm-17 5h12v-7h-12v7zm14 4h-16v9h16v-9z"]],template:function(t,r){if(1&t){const i=et();Je(0,rge,1,2,"app-loading-animation",0),j(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),Pe(5,"Add your job description:"),$(),Un(6,"textarea",5,6),$(),j(8,"div",7)(9,"div",8),Je(10,ige,2,1,"p",9),Je(11,sge,2,1,"input",10),$(),j(12,"p",11),Pe(13,"Remaining Letters:"),$(),j(14,"p",12),Pe(15),$(),j(16,"div",13)(17,"p",11),Pe(18,"My skills"),$(),Je(19,oge,1,1,"app-plus-button",14),j(20,"input",15,16),ce("keyup.enter",function(){Le(i);const o=Rt(21);return r.addSkillFunction(o.value),Ve(o.value="")}),$(),Je(22,age,1,1,"app-plus-button",14),$(),j(23,"div",17),Je(24,uge,2,2,"div",18),$(),j(25,"div",13)(26,"p",11),Pe(27,"My keywords"),$(),Je(28,lge,1,1,"app-plus-button",14),j(29,"input",15,19),ce("keyup.enter",function(){Le(i);const o=Rt(30);return r.addKeywordFunction(o.value),Ve(o.value="")}),$(),Je(31,cge,1,1,"app-plus-button",14),$(),j(32,"div",20),Je(33,dge,2,2,"div",21),$(),j(34,"div",13)(35,"p",11),Pe(36,"My experiences"),$(),Je(37,hge,1,0,"app-plus-button",14),j(38,"input",15,22),ce("keyup.enter",function(){Le(i);const o=Rt(39);return r.addExperienceFunction(o.value),Ve(o.value="")}),$(),Je(40,fge,1,1,"app-plus-button",14),$(),j(41,"div",23),Je(42,pge,6,2,"div",24),$(),j(43,"div",25)(44,"button",26),ce("click",function(){Le(i);const o=Rt(7);return Ve(r.generateLetter(o.value))}),Pe(45," Generate Letter "),$(),j(46,"button",26),ce("click",function(){return r.toggleCover()}),Pe(47," Show current draft "),$()()()(),Je(48,gge,22,2,"div",27),$()}2&t&&(ae("ngIf",r.showLoadingScreen),le(1),ae("@fadeIn",void 0),le(9),ae("ngIf",!r.editTitle),le(1),ae("ngIf",r.editTitle),le(4),pi(r.userData.remainingLetters),le(4),ae("ngIf",!r.addSkill),le(1),ae("@fadeSlideInOutLeft",void 0)("hidden",!r.addSkill),le(2),ae("ngIf",r.addSkill),le(2),ae("ngForOf",r.userData.skills),le(4),ae("ngIf",!r.addKeyword),le(1),ae("@fadeSlideInOutLeft",void 0)("hidden",!r.addKeyword),le(2),ae("ngIf",r.addKeyword),le(2),ae("ngForOf",r.userData.keywords),le(4),ae("ngIf",!r.addExperience),le(1),ae("@fadeSlideInOutLeft",void 0)("hidden",!r.addExperience),le(2),ae("ngIf",r.addExperience),le(2),ae("ngForOf",r.userData.experiences),le(6),ae("ngIf",r.showCoverLetter))},dependencies:[tp,np,vH,mA,tge,nge],styles:["@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut[_ngcontent-%COMP%]{animation-name:fadeOut;animation-duration:.2s;animation-fill-mode:forwards}@keyframes fadeInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.fadeInRight[_ngcontent-%COMP%]{animation-name:fadeInRight;animation-duration:.2s;animation-fill-mode:forwards}"],data:{animation:[Ou("fadeSlideInOut",[Vi(":enter",[un({opacity:0,transform:"translateX(20px)"}),Li("200ms",un({opacity:1,transform:"translateX(0)"}))]),Vi(":leave",[Li("200ms",un({opacity:0,transform:"translateX(20px)"}))])]),Ou("fadeIn",[Vi(":enter",[un({opacity:0}),Li("200ms",un({opacity:1}))])]),Ou("fadeSlideInOutLeft",[Vi(":enter",[un({opacity:0,transform:"translateX(-20px)"}),Li("200ms",un({opacity:1,transform:"translateX(0)"}))]),Vi(":leave",[Li("200ms",un({opacity:0,transform:"translateX(-20px)"}))])])]}}),n})(),yA=(()=>{class n{constructor(t){this.auth=t,this.auth.onAuthStateChanged(r=>{r||localStorage.setItem("user","")})}login(){var t=this;return y(function*(){const r=yield function nhe(n,e,t){return FS.apply(this,arguments)}(t.auth,new nde);r?localStorage.setItem("user",JSON.stringify(r.user)):localStorage.setItem("user","")})()}storeUser(){var t=this;return y(function*(){const r=yield Xhe(t.auth);r&&localStorage.setItem("user",JSON.stringify(r.user))})()}logout(){var t=this;return y(function*(){yield t.auth.signOut(),localStorage.setItem("user","")})()}getUser(){return localStorage.getItem("user")}isLoggedIn(){return""!=this.getUser()}}return n.\u0275fac=function(t){return new(t||n)(ne(iy))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yge=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.route=i,this.returnUrl=""}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||""}login(){var t=this;return y(function*(){yield t.authService.login(),t.router.navigate([t.returnUrl])})()}}return n.\u0275fac=function(t){return new(t||n)(L(yA),L(Gt),L(io))},n.\u0275cmp=Tr({type:n,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"relative","top-16","grid","place-items-center","h-screen"],[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","hover:to-pink-500","hover:from-yellow-500","text-white","font-bold","py-2","px-4","rounded-full",3,"click"]],template:function(t,r){1&t&&(j(0,"div",0)(1,"button",1),ce("click",function(){return r.login()}),Pe(2," LogIn With Google "),$()())}}),n})(),_A=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return!!this.auth.getUser()||(this.router.navigate(["/login"],{queryParams:{returnUrl:r.url}}),!1)}}return n.\u0275fac=function(t){return new(t||n)(ne(yA),ne(Gt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _ge(n,e){if(1&n){const t=et();j(0,"div",15)(1,"app-skill-pill",16),ce("deleteSkill",function(){const s=Le(t).$implicit;return Ve(ke().deleteSkill(s))}),$()()}if(2&n){const t=e.$implicit,r=e.index,i=ke();le(1),ae("skill",t)("color",i.skillColors[r])}}function vge(n,e){if(1&n){const t=et();j(0,"div")(1,"app-skill-pill",16),ce("deleteSkill",function(){const s=Le(t).$implicit;return Ve(ke().deleteKeyword(s))}),$()()}if(2&n){const t=e.$implicit,r=e.index,i=ke();le(1),ae("skill",t)("color",i.keywordColors[r])}}function wge(n,e){if(1&n){const t=et();j(0,"div",17)(1,"p",18),Pe(2),$(),j(3,"div",19),ce("click",function(){const s=Le(t).$implicit;return Ve(ke().deleteExperience(s))}),Ai(),j(4,"svg",20),Un(5,"path",21),$()()()}if(2&n){const t=e.$implicit;Lo("id","exp_",t,""),le(2),pi(t)}}function bge(n,e){if(1&n){const t=et();j(0,"div",22)(1,"h3",23),Pe(2),$(),j(3,"p",4),Pe(4),$(),j(5,"button",24),ce("click",function(){const s=Le(t).$implicit;return Ve(ke().copyToClipboard(s))}),j(6,"div",25)(7,"p"),Pe(8,"Copy to clipboard"),$(),Ai(),j(9,"svg",26),Un(10,"path",27),$()()()()}if(2&n){const t=e.$implicit;le(2),pi(t.title),le(2),Sf("",t.text.slice(0,400),"...")}}const Ege=[{path:"",redirectTo:"/generate-letter",pathMatch:"full"},{path:"profile",component:ege,canActivate:[_A]},{path:"generate-letter",component:mge,canActivate:[_A]},{path:"login",component:yge},{path:"dashboard",component:(()=>{class n{constructor(t){this.firestoreService=t,this.userData={remainingLetters:3,skills:[],keywords:[],experiences:[],generatedLetters:[]},this.skillColors=[],this.keywordColors=[],this.cars=[{color:"purple",type:"minivan",registration:new Date("2017-01-03"),capacity:7},{color:"red",type:"station wagon",registration:new Date("2018-03-03"),capacity:5}]}ngOnInit(){var t=this;return y(function*(){t.userData=yield t.firestoreService.get(),t.userData.skills.forEach(r=>{t.skillColors.push(t.randomColor())}),t.userData.keywords.forEach(r=>{t.keywordColors.push(t.randomColor())})})()}randomColor(){let t=["bg-gradient-to-r from-cyan-500 to-blue-500","bg-gradient-to-r to-pink-500 from-yellow-500","bg-gradient-to-r from-yellow-400 to-emerald-300","bg-gradient-to-r from-purple-500 to-pink-500","bg-gradient-to-r from-blue-500 to-purple-500"];return t[Math.floor(Math.random()*t.length)]}addSkill(t){this.skillColors.push(this.randomColor()),this.userData.skills.push(t)}deleteSkill(t){let r=this.userData.skills.indexOf(t);this.userData.skills.splice(r,1),this.skillColors.splice(r,1)}addExperience(t){this.userData.experiences.push(t)}deleteExperience(t){document.getElementById("exp_"+t).classList.add("fadeOut"),setTimeout(()=>{let r=this.userData.experiences.indexOf(t);this.userData.experiences.splice(r,1)},200)}addKeyword(t){this.keywordColors.push(this.randomColor()),this.userData.keywords.push(t)}deleteKeyword(t){let r=this.userData.keywords.indexOf(t);this.userData.keywords.splice(r,1),this.keywordColors.splice(r,1)}copyToClipboard(t){navigator.clipboard.writeText(t.text)}}return n.\u0275fac=function(t){return new(t||n)(L(nA))},n.\u0275cmp=Tr({type:n,selectors:[["app-dashboard"]],decls:24,vars:4,consts:[[1,"relative","top-16"],[1,"flex","flex-col","gap-2","p-2","lg:pl-32","lg:pr-32"],[1,"font-bold","text-4xl","col-span-full"],[1,"flex","flex-col","lg:flex-row","gap-2","justify-between"],[1,""],[1,"font-bold","text-2xl","pb-2"],[1,"flex","flex-wrap","flex-row","gap-2","transition-all"],["class","transition-all",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","flex-row","gap-2"],[4,"ngFor","ngForOf"],[1,"col-span-2","lg:col-span-3"],[1,"grid","gap-1"],["class","bg-gray-100 p-1 hover:opacity-80 transition-all relative group",3,"id",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","lg:grid-cols-5","gap-2"],["class","rounded-lg shadow-xl p-2 aspect-square",4,"ngFor","ngForOf"],[1,"transition-all"],[3,"skill","color","deleteSkill"],[1,"bg-gray-100","p-1","hover:opacity-80","transition-all","relative","group",3,"id"],[1,"text-md"],[1,"absolute","-right-2","-top-2","hidden","group-hover:block","bg-red-400","hover:bg-red-500","rounded-full","h-6","aspect-square","cursor-pointer",3,"click"],["clip-rule","evenodd","fill-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","m12 10.93 5.719-5.72c.146-.146.339-.219.531-.219.404 0 .75.324.75.749 0 .193-.073.385-.219.532l-5.72 5.719 5.719\n                                    5.719c.147.147.22.339.22.531\n                                    0 .427-.349.75-.75.75-.192 0-.385-.073-.531-.219l-5.719-5.719-5.719 5.719c-.146.146-.339.219-.531.219-.401\n                                    0-.75-.323-.75-.75\n                                    0-.192.073-.384.22-.531l5.719-5.719-5.72-5.719c-.146-.147-.219-.339-.219-.532 0-.425.346-.749.75-.749.192 0\n                                    .385.073.531.219z"],[1,"rounded-lg","shadow-xl","p-2","aspect-square"],[1,"font-bold","text-xl"],[1,"bg-gradient-to-r","from-cyan-500","to-blue-500","hover:to-pink-500","hover:from-yellow-500","text-white","font-bold","py-2","px-4","rounded-full",3,"click"],[1,"flex","flex-row","gap-2","items-center"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24"],["fill","#ffffff","d","M16 10c3.469 0 2 4 2\n                                    4s4-1.594\n                                    4\n                                    2v6h-10v-12h4zm.827-2h-6.827v16h14v-8.842c0-2.392-4.011-7.158-7.173-7.158zm-8.827 12h-6v-16h4l2.102\n                                    2h3.898l2-2h4v2.145c.656.143\n                                    1.327.391 2 .754v-4.899h-3c-1.229 0-2.18-1.084-3-2h-8c-.82.916-1.771 2-3 2h-3v20h8v-2zm2-18c.553 0 1 .448 1 1s-.447 1-1\n                                    1-1-.448-1-1\n                                    .447-1 1-1zm4 18h6v-1h-6v1zm0-2h6v-1h-6v1zm0-2h6v-1h-6v1z"]],template:function(t,r){1&t&&(j(0,"div",0)(1,"div",1)(2,"h1",2),Pe(3,"My profile"),$(),j(4,"div",3)(5,"div",4)(6,"h2",5),Pe(7,"Skills"),$(),j(8,"div",6),Je(9,_ge,2,2,"div",7),$()(),j(10,"div",4)(11,"h2",5),Pe(12,"Keywords"),$(),j(13,"div",8),Je(14,vge,2,2,"div",9),$()(),j(15,"div",10)(16,"h2",5),Pe(17,"Experiences"),$(),j(18,"div",11),Je(19,wge,6,2,"div",12),$()()(),j(20,"h1",2),Pe(21,"My Letters"),$(),j(22,"div",13),Je(23,bge,11,2,"div",14),$()()()),2&t&&(le(9),ae("ngForOf",r.userData.skills),le(5),ae("ngForOf",r.userData.keywords),le(5),ae("ngForOf",r.userData.experiences),le(4),ae("ngForOf",r.userData.generatedLetters))},dependencies:[tp,mA]}),n})(),canActivate:[_A]}];let Ige=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Rn({imports:[TL.forRoot(Ege),TL]}),n})();function Cge(n,e){if(1&n){const t=et();j(0,"a",11),ce("click",function(){return Le(t),Ve(ke(2).logout())}),Pe(1,"Logout"),$()}}const Dge=function(){return["/profile"]};function Tge(n,e){if(1&n&&(j(0,"div",8)(1,"a",9),Pe(2,"Profile"),$(),Je(3,Cge,2,0,"a",10),$()),2&n){const t=ke();le(1),ae("routerLink",vR(2,Dge)),le(2),ae("ngIf",t.authService.isLoggedIn())}}let Sge=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.showMenu=!1}ngOnInit(){}logout(){var t=this;return y(function*(){yield t.authService.logout(),t.router.navigate(["/login"])})()}}return n.\u0275fac=function(t){return new(t||n)(L(yA),L(Gt))},n.\u0275cmp=Tr({type:n,selectors:[["app-navbar"]],decls:18,vars:1,consts:[[1,"bg-white","fixed","z-50","shadow-xl","h-16","w-full","flex","flex-row","justify-between","items-center","p-4"],[1,""],[1,"flex","flex-row","justify-between","gap-2"],["href","/profile"],["href","/generate-letter"],["href","/dashboard"],[1,"cursor-pointer",3,"click","focusout"],["class","absolute top-20 bg-white right-2 rounded-xl shadow-lg p-2 w-64 flex flex-col",4,"ngIf"],[1,"absolute","top-20","bg-white","right-2","rounded-xl","shadow-lg","p-2","w-64","flex","flex-col"],[1,"bg-white","hover:bg-gray-100","p-2","transition-all","rounded-lg",3,"routerLink"],["class","bg-white hover:bg-gray-100 p-2 transition-all rounded-lg",3,"click",4,"ngIf"],[1,"bg-white","hover:bg-gray-100","p-2","transition-all","rounded-lg",3,"click"]],template:function(t,r){1&t&&(j(0,"div",0)(1,"div",1)(2,"p"),Pe(3,"logo"),$()(),j(4,"div",2)(5,"div")(6,"a",3),Pe(7,"Profile"),$()(),j(8,"div")(9,"a",4),Pe(10,"Generate"),$()(),j(11,"div")(12,"a",5),Pe(13,"Dashboard"),$()()(),j(14,"div",6),ce("click",function(){return r.showMenu=!r.showMenu})("focusout",function(){return r.showMenu=!1}),j(15,"p"),Pe(16,"Profile"),$(),Je(17,Tge,4,3,"div",7),$()()),2&t&&(le(17),ae("ngIf",r.showMenu))},dependencies:[np,eg]}),n})(),Age=(()=>{class n{constructor(){this.title="cover-letter-generator"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Tr({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,""]],template:function(t,r){1&t&&Un(0,"app-navbar",0)(1,"router-outlet")},dependencies:[Ob,Sge],styles:["body[_ngcontent-%COMP%]{scroll-behavior:smooth}"]}),n})();const xge={apiKey:"AIzaSyCm5c307x7uFlUG0cJSggxtXb9aSv1tVn0",authDomain:"coverlettergenerator.firebaseapp.com",projectId:"coverlettergenerator",storageBucket:"coverlettergenerator.appspot.com",messagingSenderId:"556547611173",appId:"1:556547611173:web:20758fd540d97eea33bdcc"};let Mge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n,bootstrap:[Age]}),n.\u0275inj=Rn({imports:[pN,$Y,Ige,YJ,Ile(()=>function Pte(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:lE,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw so.create("bad-app-name",{appName:String(r)});const i=ta.get(r);if(i){if(ag(n,i.options)&&ag(t,i.config))return i;throw so.create("duplicate-app",{appName:r})}const s=new Gee(r);for(const a of lg.values())s.addComponent(a);const o=new Nte(n,t,s);return ta.set(r,o),o}(xge)),Yhe(()=>Jhe()),sfe(()=>ofe()),Upe(()=>jpe())]}),n})();O9().bootstrapModule(Mge).catch(n=>console.error(n))},14:(X,V,P)=>{X.exports=P(114)},729:(X,V,P)=>{"use strict";var A=P(701),q=P(858),C=P(738),S=P(625),M=P(215),D=P(99),v=P(100),m=P(593),w=P(867),b=P(413);X.exports=function(E){return new Promise(function(ee,oe){var Hr,xe=E.data,tt=E.headers,kn=E.responseType;function Di(){E.cancelToken&&E.cancelToken.unsubscribe(Hr),E.signal&&E.signal.removeEventListener("abort",Hr)}A.isFormData(xe)&&delete tt["Content-Type"];var he=new XMLHttpRequest;if(E.auth){var rn=E.auth.username||"",Ll=E.auth.password?unescape(encodeURIComponent(E.auth.password)):"";tt.Authorization="Basic "+btoa(rn+":"+Ll)}var ri=M(E.baseURL,E.url);function W(){if(he){var rt="getAllResponseHeaders"in he?D(he.getAllResponseHeaders()):null;q(function(Vl){ee(Vl),Di()},function(Vl){oe(Vl),Di()},{data:kn&&"text"!==kn&&"json"!==kn?he.response:he.responseText,status:he.status,statusText:he.statusText,headers:rt,config:E,request:he}),he=null}}if(he.open(E.method.toUpperCase(),S(ri,E.params,E.paramsSerializer),!0),he.timeout=E.timeout,"onloadend"in he?he.onloadend=W:he.onreadystatechange=function(){!he||4!==he.readyState||0===he.status&&(!he.responseURL||0!==he.responseURL.indexOf("file:"))||setTimeout(W)},he.onabort=function(){!he||(oe(m("Request aborted",E,"ECONNABORTED",he)),he=null)},he.onerror=function(){oe(m("Network Error",E,null,he)),he=null},he.ontimeout=function(){var Ir=E.timeout?"timeout of "+E.timeout+"ms exceeded":"timeout exceeded";E.timeoutErrorMessage&&(Ir=E.timeoutErrorMessage),oe(m(Ir,E,(E.transitional||w).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",he)),he=null},A.isStandardBrowserEnv()){var sn=(E.withCredentials||v(ri))&&E.xsrfCookieName?C.read(E.xsrfCookieName):void 0;sn&&(tt[E.xsrfHeaderName]=sn)}"setRequestHeader"in he&&A.forEach(tt,function(Ir,it){typeof xe>"u"&&"content-type"===it.toLowerCase()?delete tt[it]:he.setRequestHeader(it,Ir)}),A.isUndefined(E.withCredentials)||(he.withCredentials=!!E.withCredentials),kn&&"json"!==kn&&(he.responseType=E.responseType),"function"==typeof E.onDownloadProgress&&he.addEventListener("progress",E.onDownloadProgress),"function"==typeof E.onUploadProgress&&he.upload&&he.upload.addEventListener("progress",E.onUploadProgress),(E.cancelToken||E.signal)&&(Hr=function(rt){!he||(oe(!rt||rt&&rt.type?new b("canceled"):rt),he.abort(),he=null)},E.cancelToken&&E.cancelToken.subscribe(Hr),E.signal&&(E.signal.aborted?Hr():E.signal.addEventListener("abort",Hr))),xe||(xe=null),he.send(xe)})}},114:(X,V,P)=>{"use strict";var A=P(701),q=P(414),C=P(490),S=P(971),v=function D(m){var w=new C(m),b=q(C.prototype.request,w);return A.extend(b,C.prototype,w),A.extend(b,w),b.create=function(E){return D(S(m,E))},b}(P(498));v.Axios=C,v.Cancel=P(413),v.CancelToken=P(56),v.isCancel=P(827),v.VERSION=P(773).version,v.all=function(w){return Promise.all(w)},v.spread=P(211),v.isAxiosError=P(603),X.exports=v,X.exports.default=v},413:X=>{"use strict";function V(P){this.message=P}V.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},V.prototype.__CANCEL__=!0,X.exports=V},56:(X,V,P)=>{"use strict";var A=P(413);function q(C){if("function"!=typeof C)throw new TypeError("executor must be a function.");var S;this.promise=new Promise(function(v){S=v});var M=this;this.promise.then(function(D){if(M._listeners){var v,m=M._listeners.length;for(v=0;v<m;v++)M._listeners[v](D);M._listeners=null}}),this.promise.then=function(D){var v,m=new Promise(function(w){M.subscribe(w),v=w}).then(D);return m.cancel=function(){M.unsubscribe(v)},m},C(function(v){M.reason||(M.reason=new A(v),S(M.reason))})}q.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},q.prototype.subscribe=function(S){this.reason?S(this.reason):this._listeners?this._listeners.push(S):this._listeners=[S]},q.prototype.unsubscribe=function(S){if(this._listeners){var M=this._listeners.indexOf(S);-1!==M&&this._listeners.splice(M,1)}},q.source=function(){var S;return{token:new q(function(v){S=v}),cancel:S}},X.exports=q},827:X=>{"use strict";X.exports=function(P){return!(!P||!P.__CANCEL__)}},490:(X,V,P)=>{"use strict";var A=P(701),q=P(625),C=P(607),S=P(957),M=P(971),D=P(828),v=D.validators;function m(w){this.defaults=w,this.interceptors={request:new C,response:new C}}m.prototype.request=function(b,_){"string"==typeof b?(_=_||{}).url=b:_=b||{},(_=M(this.defaults,_)).method=_.method?_.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var E=_.transitional;void 0!==E&&D.assertOptions(E,{silentJSONParsing:v.transitional(v.boolean),forcedJSONParsing:v.transitional(v.boolean),clarifyTimeoutError:v.transitional(v.boolean)},!1);var B=[],ee=!0;this.interceptors.request.forEach(function(rn){"function"==typeof rn.runWhen&&!1===rn.runWhen(_)||(ee=ee&&rn.synchronous,B.unshift(rn.fulfilled,rn.rejected))});var xe,oe=[];if(this.interceptors.response.forEach(function(rn){oe.push(rn.fulfilled,rn.rejected)}),!ee){var tt=[S,void 0];for(Array.prototype.unshift.apply(tt,B),tt=tt.concat(oe),xe=Promise.resolve(_);tt.length;)xe=xe.then(tt.shift(),tt.shift());return xe}for(var kn=_;B.length;){var Hr=B.shift(),Di=B.shift();try{kn=Hr(kn)}catch(he){Di(he);break}}try{xe=S(kn)}catch(he){return Promise.reject(he)}for(;oe.length;)xe=xe.then(oe.shift(),oe.shift());return xe},m.prototype.getUri=function(b){return b=M(this.defaults,b),q(b.url,b.params,b.paramsSerializer).replace(/^\?/,"")},A.forEach(["delete","get","head","options"],function(b){m.prototype[b]=function(_,E){return this.request(M(E||{},{method:b,url:_,data:(E||{}).data}))}}),A.forEach(["post","put","patch"],function(b){m.prototype[b]=function(_,E,B){return this.request(M(B||{},{method:b,url:_,data:E}))}}),X.exports=m},607:(X,V,P)=>{"use strict";var A=P(701);function q(){this.handlers=[]}q.prototype.use=function(S,M,D){return this.handlers.push({fulfilled:S,rejected:M,synchronous:!!D&&D.synchronous,runWhen:D?D.runWhen:null}),this.handlers.length-1},q.prototype.eject=function(S){this.handlers[S]&&(this.handlers[S]=null)},q.prototype.forEach=function(S){A.forEach(this.handlers,function(D){null!==D&&S(D)})},X.exports=q},215:(X,V,P)=>{"use strict";var A=P(692),q=P(554);X.exports=function(S,M){return S&&!A(M)?q(S,M):M}},593:(X,V,P)=>{"use strict";var A=P(124);X.exports=function(C,S,M,D,v){var m=new Error(C);return A(m,S,M,D,v)}},957:(X,V,P)=>{"use strict";var A=P(701),q=P(134),C=P(827),S=P(498),M=P(413);function D(v){if(v.cancelToken&&v.cancelToken.throwIfRequested(),v.signal&&v.signal.aborted)throw new M("canceled")}X.exports=function(m){return D(m),m.headers=m.headers||{},m.data=q.call(m,m.data,m.headers,m.transformRequest),m.headers=A.merge(m.headers.common||{},m.headers[m.method]||{},m.headers),A.forEach(["delete","get","head","post","put","patch","common"],function(_){delete m.headers[_]}),(m.adapter||S.adapter)(m).then(function(_){return D(m),_.data=q.call(m,_.data,_.headers,m.transformResponse),_},function(_){return C(_)||(D(m),_&&_.response&&(_.response.data=q.call(m,_.response.data,_.response.headers,m.transformResponse))),Promise.reject(_)})}},124:X=>{"use strict";X.exports=function(P,A,q,C,S){return P.config=A,q&&(P.code=q),P.request=C,P.response=S,P.isAxiosError=!0,P.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},P}},971:(X,V,P)=>{"use strict";var A=P(701);X.exports=function(C,S){S=S||{};var M={};function D(E,B){return A.isPlainObject(E)&&A.isPlainObject(B)?A.merge(E,B):A.isPlainObject(B)?A.merge({},B):A.isArray(B)?B.slice():B}function v(E){return A.isUndefined(S[E])?A.isUndefined(C[E])?void 0:D(void 0,C[E]):D(C[E],S[E])}function m(E){if(!A.isUndefined(S[E]))return D(void 0,S[E])}function w(E){return A.isUndefined(S[E])?A.isUndefined(C[E])?void 0:D(void 0,C[E]):D(void 0,S[E])}function b(E){return E in S?D(C[E],S[E]):E in C?D(void 0,C[E]):void 0}var _={url:m,method:m,data:m,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:b};return A.forEach(Object.keys(C).concat(Object.keys(S)),function(B){var ee=_[B]||v,oe=ee(B);A.isUndefined(oe)&&ee!==b||(M[B]=oe)}),M}},858:(X,V,P)=>{"use strict";var A=P(593);X.exports=function(C,S,M){var D=M.config.validateStatus;M.status&&D&&!D(M.status)?S(A("Request failed with status code "+M.status,M.config,null,M.request,M)):C(M)}},134:(X,V,P)=>{"use strict";var A=P(701),q=P(498);X.exports=function(S,M,D){var v=this||q;return A.forEach(D,function(w){S=w.call(v,S,M)}),S}},498:(X,V,P)=>{"use strict";var A=P(701),q=P(620),C=P(124),S=P(867),M={"Content-Type":"application/x-www-form-urlencoded"};function D(b,_){!A.isUndefined(b)&&A.isUndefined(b["Content-Type"])&&(b["Content-Type"]=_)}var w={transitional:S,adapter:function v(){var b;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process))&&(b=P(729)),b}(),transformRequest:[function(_,E){return q(E,"Accept"),q(E,"Content-Type"),A.isFormData(_)||A.isArrayBuffer(_)||A.isBuffer(_)||A.isStream(_)||A.isFile(_)||A.isBlob(_)?_:A.isArrayBufferView(_)?_.buffer:A.isURLSearchParams(_)?(D(E,"application/x-www-form-urlencoded;charset=utf-8"),_.toString()):A.isObject(_)||E&&"application/json"===E["Content-Type"]?(D(E,"application/json"),function m(b,_,E){if(A.isString(b))try{return(_||JSON.parse)(b),A.trim(b)}catch(B){if("SyntaxError"!==B.name)throw B}return(E||JSON.stringify)(b)}(_)):_}],transformResponse:[function(_){var E=this.transitional||w.transitional,oe=!(E&&E.silentJSONParsing)&&"json"===this.responseType;if(oe||E&&E.forcedJSONParsing&&A.isString(_)&&_.length)try{return JSON.parse(_)}catch(xe){if(oe)throw"SyntaxError"===xe.name?C(xe,this,"E_JSON_PARSE"):xe}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};A.forEach(["delete","get","head"],function(_){w.headers[_]={}}),A.forEach(["post","put","patch"],function(_){w.headers[_]=A.merge(M)}),X.exports=w},867:X=>{"use strict";X.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},773:X=>{X.exports={version:"0.26.1"}},414:X=>{"use strict";X.exports=function(P,A){return function(){for(var C=new Array(arguments.length),S=0;S<C.length;S++)C[S]=arguments[S];return P.apply(A,C)}}},625:(X,V,P)=>{"use strict";var A=P(701);function q(C){return encodeURIComponent(C).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}X.exports=function(S,M,D){if(!M)return S;var v;if(D)v=D(M);else if(A.isURLSearchParams(M))v=M.toString();else{var m=[];A.forEach(M,function(_,E){null===_||typeof _>"u"||(A.isArray(_)?E+="[]":_=[_],A.forEach(_,function(ee){A.isDate(ee)?ee=ee.toISOString():A.isObject(ee)&&(ee=JSON.stringify(ee)),m.push(q(E)+"="+q(ee))}))}),v=m.join("&")}if(v){var w=S.indexOf("#");-1!==w&&(S=S.slice(0,w)),S+=(-1===S.indexOf("?")?"?":"&")+v}return S}},554:X=>{"use strict";X.exports=function(P,A){return A?P.replace(/\/+$/,"")+"/"+A.replace(/^\/+/,""):P}},738:(X,V,P)=>{"use strict";var A=P(701);X.exports=A.isStandardBrowserEnv()?{write:function(S,M,D,v,m,w){var b=[];b.push(S+"="+encodeURIComponent(M)),A.isNumber(D)&&b.push("expires="+new Date(D).toGMTString()),A.isString(v)&&b.push("path="+v),A.isString(m)&&b.push("domain="+m),!0===w&&b.push("secure"),document.cookie=b.join("; ")},read:function(S){var M=document.cookie.match(new RegExp("(^|;\\s*)("+S+")=([^;]*)"));return M?decodeURIComponent(M[3]):null},remove:function(S){this.write(S,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},692:X=>{"use strict";X.exports=function(P){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(P)}},603:(X,V,P)=>{"use strict";var A=P(701);X.exports=function(C){return A.isObject(C)&&!0===C.isAxiosError}},100:(X,V,P)=>{"use strict";var A=P(701);X.exports=A.isStandardBrowserEnv()?function(){var M,C=/(msie|trident)/i.test(navigator.userAgent),S=document.createElement("a");function D(v){var m=v;return C&&(S.setAttribute("href",m),m=S.href),S.setAttribute("href",m),{href:S.href,protocol:S.protocol?S.protocol.replace(/:$/,""):"",host:S.host,search:S.search?S.search.replace(/^\?/,""):"",hash:S.hash?S.hash.replace(/^#/,""):"",hostname:S.hostname,port:S.port,pathname:"/"===S.pathname.charAt(0)?S.pathname:"/"+S.pathname}}return M=D(window.location.href),function(m){var w=A.isString(m)?D(m):m;return w.protocol===M.protocol&&w.host===M.host}}():function(){return!0}},620:(X,V,P)=>{"use strict";var A=P(701);X.exports=function(C,S){A.forEach(C,function(D,v){v!==S&&v.toUpperCase()===S.toUpperCase()&&(C[S]=D,delete C[v])})}},99:(X,V,P)=>{"use strict";var A=P(701),q=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];X.exports=function(S){var D,v,m,M={};return S&&A.forEach(S.split("\n"),function(b){if(m=b.indexOf(":"),D=A.trim(b.substr(0,m)).toLowerCase(),v=A.trim(b.substr(m+1)),D){if(M[D]&&q.indexOf(D)>=0)return;M[D]="set-cookie"===D?(M[D]?M[D]:[]).concat([v]):M[D]?M[D]+", "+v:v}}),M}},211:X=>{"use strict";X.exports=function(P){return function(q){return P.apply(null,q)}}},828:(X,V,P)=>{"use strict";var A=P(773).version,q={};["object","boolean","number","function","string","symbol"].forEach(function(M,D){q[M]=function(m){return typeof m===M||"a"+(D<1?"n ":" ")+M}});var C={};q.transitional=function(D,v,m){function w(b,_){return"[Axios v"+A+"] Transitional option '"+b+"'"+_+(m?". "+m:"")}return function(b,_,E){if(!1===D)throw new Error(w(_," has been removed"+(v?" in "+v:"")));return v&&!C[_]&&(C[_]=!0,console.warn(w(_," has been deprecated since v"+v+" and will be removed in the near future"))),!D||D(b,_,E)}},X.exports={assertOptions:function S(M,D,v){if("object"!=typeof M)throw new TypeError("options must be an object");for(var m=Object.keys(M),w=m.length;w-- >0;){var b=m[w],_=D[b];if(_){var E=M[b],B=void 0===E||_(E,b,M);if(!0!==B)throw new TypeError("option "+b+" must be "+B)}else if(!0!==v)throw Error("Unknown option "+b)}},validators:q}},701:(X,V,P)=>{"use strict";var A=P(414),q=Object.prototype.toString;function C(W){return Array.isArray(W)}function S(W){return typeof W>"u"}function D(W){return"[object ArrayBuffer]"===q.call(W)}function _(W){return null!==W&&"object"==typeof W}function E(W){if("[object Object]"!==q.call(W))return!1;var sn=Object.getPrototypeOf(W);return null===sn||sn===Object.prototype}function xe(W){return"[object Function]"===q.call(W)}function he(W,sn){if(!(null===W||typeof W>"u"))if("object"!=typeof W&&(W=[W]),C(W))for(var rt=0,Ir=W.length;rt<Ir;rt++)sn.call(null,W[rt],rt,W);else for(var it in W)Object.prototype.hasOwnProperty.call(W,it)&&sn.call(null,W[it],it,W)}X.exports={isArray:C,isArrayBuffer:D,isBuffer:function M(W){return null!==W&&!S(W)&&null!==W.constructor&&!S(W.constructor)&&"function"==typeof W.constructor.isBuffer&&W.constructor.isBuffer(W)},isFormData:function v(W){return"[object FormData]"===q.call(W)},isArrayBufferView:function m(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):W&&W.buffer&&D(W.buffer)},isString:function w(W){return"string"==typeof W},isNumber:function b(W){return"number"==typeof W},isObject:_,isPlainObject:E,isUndefined:S,isDate:function B(W){return"[object Date]"===q.call(W)},isFile:function ee(W){return"[object File]"===q.call(W)},isBlob:function oe(W){return"[object Blob]"===q.call(W)},isFunction:xe,isStream:function tt(W){return _(W)&&xe(W.pipe)},isURLSearchParams:function kn(W){return"[object URLSearchParams]"===q.call(W)},isStandardBrowserEnv:function Di(){return(!(typeof navigator<"u")||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&typeof window<"u"&&typeof document<"u"},forEach:he,merge:function rn(){var W={};function sn(it,Wt){W[Wt]=E(W[Wt])&&E(it)?rn(W[Wt],it):E(it)?rn({},it):C(it)?it.slice():it}for(var rt=0,Ir=arguments.length;rt<Ir;rt++)he(arguments[rt],sn);return W},extend:function Ll(W,sn,rt){return he(sn,function(it,Wt){W[Wt]=rt&&"function"==typeof it?A(it,rt):it}),W},trim:function Hr(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")},stripBOM:function ri(W){return 65279===W.charCodeAt(0)&&(W=W.slice(1)),W}}},239:X=>{X.exports="object"==typeof self?self.FormData:window.FormData},206:function(X,V,P){"use strict";var A=this&&this.__awaiter||function(D,v,m,w){return new(m||(m=Promise))(function(_,E){function B(xe){try{oe(w.next(xe))}catch(tt){E(tt)}}function ee(xe){try{oe(w.throw(xe))}catch(tt){E(tt)}}function oe(xe){xe.done?_(xe.value):function b(_){return _ instanceof m?_:new m(function(E){E(_)})}(xe.value).then(B,ee)}oe((w=w.apply(D,v||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0}),V.OpenAIApi=V.OpenAIApiFactory=V.OpenAIApiFp=V.OpenAIApiAxiosParamCreator=void 0;const q=P(14),C=P(343),S=P(958);V.OpenAIApiAxiosParamCreator=function(D){return{cancelFineTune:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("cancelFineTune","fineTuneId",v);const w="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),createAnswer:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createAnswer","createAnswerRequest",v);const b=new URL("/answers",C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m),B={"Content-Type":"application/json"};C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},B),oe),m.headers),E.data=C.serializeDataIfNeeded(v,E,D),{url:C.toPathString(b),options:E}}),createClassification:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createClassification","createClassificationRequest",v);const b=new URL("/classifications",C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m),B={"Content-Type":"application/json"};C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},B),oe),m.headers),E.data=C.serializeDataIfNeeded(v,E,D),{url:C.toPathString(b),options:E}}),createCompletion:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createCompletion","createCompletionRequest",v);const b=new URL("/completions",C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m),B={"Content-Type":"application/json"};C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},B),oe),m.headers),E.data=C.serializeDataIfNeeded(v,E,D),{url:C.toPathString(b),options:E}}),createEdit:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createEdit","createEditRequest",v);const b=new URL("/edits",C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m),B={"Content-Type":"application/json"};C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},B),oe),m.headers),E.data=C.serializeDataIfNeeded(v,E,D),{url:C.toPathString(b),options:E}}),createEmbedding:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createEmbedding","createEmbeddingRequest",v);const b=new URL("/embeddings",C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m),B={"Content-Type":"application/json"};C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},B),oe),m.headers),E.data=C.serializeDataIfNeeded(v,E,D),{url:C.toPathString(b),options:E}}),createFile:(v,m,w={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createFile","file",v),C.assertParamExists("createFile","purpose",m);const _=new URL("/files",C.DUMMY_BASE_URL);let E;D&&(E=D.baseOptions);const B=Object.assign(Object.assign({method:"POST"},E),w),ee={},xe=new(D&&D.formDataCtor||FormData);void 0!==v&&xe.append("file",v),void 0!==m&&xe.append("purpose",m),ee["Content-Type"]="multipart/form-data",C.setSearchParams(_,{});let tt=E&&E.headers?E.headers:{};return B.headers=Object.assign(Object.assign(Object.assign(Object.assign({},ee),xe.getHeaders()),tt),w.headers),B.data=xe,{url:C.toPathString(_),options:B}}),createFineTune:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createFineTune","createFineTuneRequest",v);const b=new URL("/fine-tunes",C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"POST"},_),m),B={"Content-Type":"application/json"};C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},B),oe),m.headers),E.data=C.serializeDataIfNeeded(v,E,D),{url:C.toPathString(b),options:E}}),createSearch:(v,m,w={})=>A(this,void 0,void 0,function*(){C.assertParamExists("createSearch","engineId",v),C.assertParamExists("createSearch","createSearchRequest",m);const b="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(v))),_=new URL(b,C.DUMMY_BASE_URL);let E;D&&(E=D.baseOptions);const B=Object.assign(Object.assign({method:"POST"},E),w),ee={"Content-Type":"application/json"};C.setSearchParams(_,{});let xe=E&&E.headers?E.headers:{};return B.headers=Object.assign(Object.assign(Object.assign({},ee),xe),w.headers),B.data=C.serializeDataIfNeeded(m,B,D),{url:C.toPathString(_),options:B}}),deleteFile:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("deleteFile","fileId",v);const w="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"DELETE"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),deleteModel:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("deleteModel","model",v);const w="/models/{model}".replace("{model}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"DELETE"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),downloadFile:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("downloadFile","fileId",v);const w="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"GET"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),listEngines:(v={})=>A(this,void 0,void 0,function*(){const w=new URL("/engines",C.DUMMY_BASE_URL);let b;D&&(b=D.baseOptions);const _=Object.assign(Object.assign({method:"GET"},b),v);C.setSearchParams(w,{});let ee=b&&b.headers?b.headers:{};return _.headers=Object.assign(Object.assign(Object.assign({},{}),ee),v.headers),{url:C.toPathString(w),options:_}}),listFiles:(v={})=>A(this,void 0,void 0,function*(){const w=new URL("/files",C.DUMMY_BASE_URL);let b;D&&(b=D.baseOptions);const _=Object.assign(Object.assign({method:"GET"},b),v);C.setSearchParams(w,{});let ee=b&&b.headers?b.headers:{};return _.headers=Object.assign(Object.assign(Object.assign({},{}),ee),v.headers),{url:C.toPathString(w),options:_}}),listFineTuneEvents:(v,m,w={})=>A(this,void 0,void 0,function*(){C.assertParamExists("listFineTuneEvents","fineTuneId",v);const b="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(v))),_=new URL(b,C.DUMMY_BASE_URL);let E;D&&(E=D.baseOptions);const B=Object.assign(Object.assign({method:"GET"},E),w),oe={};void 0!==m&&(oe.stream=m),C.setSearchParams(_,oe);let xe=E&&E.headers?E.headers:{};return B.headers=Object.assign(Object.assign(Object.assign({},{}),xe),w.headers),{url:C.toPathString(_),options:B}}),listFineTunes:(v={})=>A(this,void 0,void 0,function*(){const w=new URL("/fine-tunes",C.DUMMY_BASE_URL);let b;D&&(b=D.baseOptions);const _=Object.assign(Object.assign({method:"GET"},b),v);C.setSearchParams(w,{});let ee=b&&b.headers?b.headers:{};return _.headers=Object.assign(Object.assign(Object.assign({},{}),ee),v.headers),{url:C.toPathString(w),options:_}}),listModels:(v={})=>A(this,void 0,void 0,function*(){const w=new URL("/models",C.DUMMY_BASE_URL);let b;D&&(b=D.baseOptions);const _=Object.assign(Object.assign({method:"GET"},b),v);C.setSearchParams(w,{});let ee=b&&b.headers?b.headers:{};return _.headers=Object.assign(Object.assign(Object.assign({},{}),ee),v.headers),{url:C.toPathString(w),options:_}}),retrieveEngine:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("retrieveEngine","engineId",v);const w="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"GET"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),retrieveFile:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("retrieveFile","fileId",v);const w="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"GET"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),retrieveFineTune:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("retrieveFineTune","fineTuneId",v);const w="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"GET"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}}),retrieveModel:(v,m={})=>A(this,void 0,void 0,function*(){C.assertParamExists("retrieveModel","model",v);const w="/models/{model}".replace("{model}",encodeURIComponent(String(v))),b=new URL(w,C.DUMMY_BASE_URL);let _;D&&(_=D.baseOptions);const E=Object.assign(Object.assign({method:"GET"},_),m);C.setSearchParams(b,{});let oe=_&&_.headers?_.headers:{};return E.headers=Object.assign(Object.assign(Object.assign({},{}),oe),m.headers),{url:C.toPathString(b),options:E}})}},V.OpenAIApiFp=function(D){const v=V.OpenAIApiAxiosParamCreator(D);return{cancelFineTune(m,w){return A(this,void 0,void 0,function*(){const b=yield v.cancelFineTune(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createAnswer(m,w){return A(this,void 0,void 0,function*(){const b=yield v.createAnswer(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createClassification(m,w){return A(this,void 0,void 0,function*(){const b=yield v.createClassification(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createCompletion(m,w){return A(this,void 0,void 0,function*(){const b=yield v.createCompletion(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createEdit(m,w){return A(this,void 0,void 0,function*(){const b=yield v.createEdit(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createEmbedding(m,w){return A(this,void 0,void 0,function*(){const b=yield v.createEmbedding(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createFile(m,w,b){return A(this,void 0,void 0,function*(){const _=yield v.createFile(m,w,b);return C.createRequestFunction(_,q.default,S.BASE_PATH,D)})},createFineTune(m,w){return A(this,void 0,void 0,function*(){const b=yield v.createFineTune(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},createSearch(m,w,b){return A(this,void 0,void 0,function*(){const _=yield v.createSearch(m,w,b);return C.createRequestFunction(_,q.default,S.BASE_PATH,D)})},deleteFile(m,w){return A(this,void 0,void 0,function*(){const b=yield v.deleteFile(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},deleteModel(m,w){return A(this,void 0,void 0,function*(){const b=yield v.deleteModel(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},downloadFile(m,w){return A(this,void 0,void 0,function*(){const b=yield v.downloadFile(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},listEngines(m){return A(this,void 0,void 0,function*(){const w=yield v.listEngines(m);return C.createRequestFunction(w,q.default,S.BASE_PATH,D)})},listFiles(m){return A(this,void 0,void 0,function*(){const w=yield v.listFiles(m);return C.createRequestFunction(w,q.default,S.BASE_PATH,D)})},listFineTuneEvents(m,w,b){return A(this,void 0,void 0,function*(){const _=yield v.listFineTuneEvents(m,w,b);return C.createRequestFunction(_,q.default,S.BASE_PATH,D)})},listFineTunes(m){return A(this,void 0,void 0,function*(){const w=yield v.listFineTunes(m);return C.createRequestFunction(w,q.default,S.BASE_PATH,D)})},listModels(m){return A(this,void 0,void 0,function*(){const w=yield v.listModels(m);return C.createRequestFunction(w,q.default,S.BASE_PATH,D)})},retrieveEngine(m,w){return A(this,void 0,void 0,function*(){const b=yield v.retrieveEngine(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},retrieveFile(m,w){return A(this,void 0,void 0,function*(){const b=yield v.retrieveFile(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},retrieveFineTune(m,w){return A(this,void 0,void 0,function*(){const b=yield v.retrieveFineTune(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})},retrieveModel(m,w){return A(this,void 0,void 0,function*(){const b=yield v.retrieveModel(m,w);return C.createRequestFunction(b,q.default,S.BASE_PATH,D)})}}},V.OpenAIApiFactory=function(D,v,m){const w=V.OpenAIApiFp(D);return{cancelFineTune:(b,_)=>w.cancelFineTune(b,_).then(E=>E(m,v)),createAnswer:(b,_)=>w.createAnswer(b,_).then(E=>E(m,v)),createClassification:(b,_)=>w.createClassification(b,_).then(E=>E(m,v)),createCompletion:(b,_)=>w.createCompletion(b,_).then(E=>E(m,v)),createEdit:(b,_)=>w.createEdit(b,_).then(E=>E(m,v)),createEmbedding:(b,_)=>w.createEmbedding(b,_).then(E=>E(m,v)),createFile:(b,_,E)=>w.createFile(b,_,E).then(B=>B(m,v)),createFineTune:(b,_)=>w.createFineTune(b,_).then(E=>E(m,v)),createSearch:(b,_,E)=>w.createSearch(b,_,E).then(B=>B(m,v)),deleteFile:(b,_)=>w.deleteFile(b,_).then(E=>E(m,v)),deleteModel:(b,_)=>w.deleteModel(b,_).then(E=>E(m,v)),downloadFile:(b,_)=>w.downloadFile(b,_).then(E=>E(m,v)),listEngines:b=>w.listEngines(b).then(_=>_(m,v)),listFiles:b=>w.listFiles(b).then(_=>_(m,v)),listFineTuneEvents:(b,_,E)=>w.listFineTuneEvents(b,_,E).then(B=>B(m,v)),listFineTunes:b=>w.listFineTunes(b).then(_=>_(m,v)),listModels:b=>w.listModels(b).then(_=>_(m,v)),retrieveEngine:(b,_)=>w.retrieveEngine(b,_).then(E=>E(m,v)),retrieveFile:(b,_)=>w.retrieveFile(b,_).then(E=>E(m,v)),retrieveFineTune:(b,_)=>w.retrieveFineTune(b,_).then(E=>E(m,v)),retrieveModel:(b,_)=>w.retrieveModel(b,_).then(E=>E(m,v))}},V.OpenAIApi=class M extends S.BaseAPI{cancelFineTune(v,m){return V.OpenAIApiFp(this.configuration).cancelFineTune(v,m).then(w=>w(this.axios,this.basePath))}createAnswer(v,m){return V.OpenAIApiFp(this.configuration).createAnswer(v,m).then(w=>w(this.axios,this.basePath))}createClassification(v,m){return V.OpenAIApiFp(this.configuration).createClassification(v,m).then(w=>w(this.axios,this.basePath))}createCompletion(v,m){return V.OpenAIApiFp(this.configuration).createCompletion(v,m).then(w=>w(this.axios,this.basePath))}createEdit(v,m){return V.OpenAIApiFp(this.configuration).createEdit(v,m).then(w=>w(this.axios,this.basePath))}createEmbedding(v,m){return V.OpenAIApiFp(this.configuration).createEmbedding(v,m).then(w=>w(this.axios,this.basePath))}createFile(v,m,w){return V.OpenAIApiFp(this.configuration).createFile(v,m,w).then(b=>b(this.axios,this.basePath))}createFineTune(v,m){return V.OpenAIApiFp(this.configuration).createFineTune(v,m).then(w=>w(this.axios,this.basePath))}createSearch(v,m,w){return V.OpenAIApiFp(this.configuration).createSearch(v,m,w).then(b=>b(this.axios,this.basePath))}deleteFile(v,m){return V.OpenAIApiFp(this.configuration).deleteFile(v,m).then(w=>w(this.axios,this.basePath))}deleteModel(v,m){return V.OpenAIApiFp(this.configuration).deleteModel(v,m).then(w=>w(this.axios,this.basePath))}downloadFile(v,m){return V.OpenAIApiFp(this.configuration).downloadFile(v,m).then(w=>w(this.axios,this.basePath))}listEngines(v){return V.OpenAIApiFp(this.configuration).listEngines(v).then(m=>m(this.axios,this.basePath))}listFiles(v){return V.OpenAIApiFp(this.configuration).listFiles(v).then(m=>m(this.axios,this.basePath))}listFineTuneEvents(v,m,w){return V.OpenAIApiFp(this.configuration).listFineTuneEvents(v,m,w).then(b=>b(this.axios,this.basePath))}listFineTunes(v){return V.OpenAIApiFp(this.configuration).listFineTunes(v).then(m=>m(this.axios,this.basePath))}listModels(v){return V.OpenAIApiFp(this.configuration).listModels(v).then(m=>m(this.axios,this.basePath))}retrieveEngine(v,m){return V.OpenAIApiFp(this.configuration).retrieveEngine(v,m).then(w=>w(this.axios,this.basePath))}retrieveFile(v,m){return V.OpenAIApiFp(this.configuration).retrieveFile(v,m).then(w=>w(this.axios,this.basePath))}retrieveFineTune(v,m){return V.OpenAIApiFp(this.configuration).retrieveFineTune(v,m).then(w=>w(this.axios,this.basePath))}retrieveModel(v,m){return V.OpenAIApiFp(this.configuration).retrieveModel(v,m).then(w=>w(this.axios,this.basePath))}}},958:(X,V,P)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.RequiredError=V.BaseAPI=V.COLLECTION_FORMATS=V.BASE_PATH=void 0;const A=P(14);V.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),V.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},V.BaseAPI=class q{constructor(M,D=V.BASE_PATH,v=A.default){this.basePath=D,this.axios=v,M&&(this.configuration=M,this.basePath=M.basePath||this.basePath)}};class C extends Error{constructor(M,D){super(D),this.field=M,this.name="RequiredError"}}V.RequiredError=C},343:function(X,V,P){"use strict";var A=this&&this.__awaiter||function(C,S,M,D){return new(M||(M=Promise))(function(m,w){function b(B){try{E(D.next(B))}catch(ee){w(ee)}}function _(B){try{E(D.throw(B))}catch(ee){w(ee)}}function E(B){B.done?m(B.value):function v(m){return m instanceof M?m:new M(function(w){w(m)})}(B.value).then(b,_)}E((D=D.apply(C,S||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0}),V.createRequestFunction=V.toPathString=V.serializeDataIfNeeded=V.setSearchParams=V.setOAuthToObject=V.setBearerAuthToObject=V.setBasicAuthToObject=V.setApiKeyToObject=V.assertParamExists=V.DUMMY_BASE_URL=void 0;const q=P(958);V.DUMMY_BASE_URL="https://example.com",V.assertParamExists=function(C,S,M){if(null==M)throw new q.RequiredError(S,`Required parameter ${S} was null or undefined when calling ${C}.`)},V.setApiKeyToObject=function(C,S,M){return A(this,void 0,void 0,function*(){if(M&&M.apiKey){const D="function"==typeof M.apiKey?yield M.apiKey(S):yield M.apiKey;C[S]=D}})},V.setBasicAuthToObject=function(C,S){S&&(S.username||S.password)&&(C.auth={username:S.username,password:S.password})},V.setBearerAuthToObject=function(C,S){return A(this,void 0,void 0,function*(){if(S&&S.accessToken){const M="function"==typeof S.accessToken?yield S.accessToken():yield S.accessToken;C.Authorization="Bearer "+M}})},V.setOAuthToObject=function(C,S,M,D){return A(this,void 0,void 0,function*(){if(D&&D.accessToken){const v="function"==typeof D.accessToken?yield D.accessToken(S,M):yield D.accessToken;C.Authorization="Bearer "+v}})},V.setSearchParams=function(C,...S){const M=new URLSearchParams(C.search);for(const D of S)for(const v in D)if(Array.isArray(D[v])){M.delete(v);for(const m of D[v])M.append(v,m)}else M.set(v,D[v]);C.search=M.toString()},V.serializeDataIfNeeded=function(C,S,M){const D="string"!=typeof C;return(D&&M&&M.isJsonMime?M.isJsonMime(S.headers["Content-Type"]):D)?JSON.stringify(void 0!==C?C:{}):C||""},V.toPathString=function(C){return C.pathname+C.search+C.hash},V.createRequestFunction=function(C,S,M,D){return(v=S,m=M)=>{const w=Object.assign(Object.assign({},C.options),{url:(D?.basePath||m)+C.url});return v.request(w)}}},764:(X,V,P)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Configuration=void 0;const A=P(811);V.Configuration=class q{constructor(S={}){this.apiKey=S.apiKey,this.organization=S.organization,this.username=S.username,this.password=S.password,this.accessToken=S.accessToken,this.basePath=S.basePath,this.baseOptions=S.baseOptions,this.formDataCtor=S.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${A.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=P(239))}isJsonMime(S){const M=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==S&&(M.test(S)||"application/json-patch+json"===S.toLowerCase())}}},157:function(X,V,P){"use strict";var A=this&&this.__createBinding||(Object.create?function(C,S,M,D){void 0===D&&(D=M),Object.defineProperty(C,D,{enumerable:!0,get:function(){return S[M]}})}:function(C,S,M,D){void 0===D&&(D=M),C[D]=S[M]}),q=this&&this.__exportStar||function(C,S){for(var M in C)"default"!==M&&!S.hasOwnProperty(M)&&A(S,C,M)};Object.defineProperty(V,"__esModule",{value:!0}),q(P(206),V),q(P(764),V)},811:X=>{"use strict";X.exports=JSON.parse('{"name":"openai","version":"3.0.0","description":"Node.js library for the OpenAI API","keywords":["openai","open","ai","gpt-3","gpt3"],"repository":{"type":"git","url":"git@github.com:openai/openai-node.git"},"author":"OpenAI","license":"MIT","main":"./dist/index.js","types":"./dist/index.d.ts","scripts":{"build":"tsc --outDir dist/"},"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"}}')}},X=>{X(X.s=619)}]);